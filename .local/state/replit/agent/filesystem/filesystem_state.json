{"file_contents":{"src/pages/A-DemoPages/showById.jsx":{"content":"import { UserRoundPen, Pencil, Trash } from \"lucide-react\";\nimport { useState, useEffect} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useUserId } from \"../../contexts/userIdContext\";\nimport UseFetch from \"../../services/get\";\nimport Card from \"../../components/Cards/Cards\";\nimport {Loading , InlineLoadingDots} from \"../../components/Loading/Loading\";\nimport { Contact , X} from \"lucide-react\";\nimport EditUser from \"../../components/UserForms/A-EditUser\";\nimport PopupCard from \"../../components/Cards/PopupCard\";\nconst ShowById = () => {\n  const navigate = useNavigate();\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [message , setMessage] = useState('Select a user');\n  const { getId, setGetId ,phone } = useUserId();\n  console.log(getId);\n  const { data, loading, errorMg } = UseFetch(\n    `https://gebeta-delivery1.onrender.com/api/v1/users/getUser?id=${getId}`,\n    {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      }, \n    }\n  );\n  console.log(data);\n  console.log(\"selected user id\", getId);\n  const formatDate = (isoString) => {\n    const date = new Date(isoString);\n    const day = String(date.getDate()).padStart(2, \"0\");\n    const month = String(date.getMonth() + 1).padStart(2, \"0\");\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n\n  const deleteUser = async (id) => {\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this user?\");\n    if (!confirmDelete) return; // ❌ Cancel deletion if user selects \"No\"\n  \n    try {\n      await fetch(`https://gebeta-delivery1.onrender.com/api/v1/users/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n  \n      setGetId('');\n      setRefreshUsers((prev) => !prev);\n      setMessage('User deleted successfully');\n    } catch (error) {\n      console.error(\"Error deleting user:\", error);\n    }\n  };\n  \n\n  return (\n    <>\n      <div className=\"w-[600px] h-[400px] flex items-center justify-center bg-white shadow-lg  rounded-xl border border-gray \">\n        {loading ? (\n          <Loading />\n        ) : getId ?(\n          <div className=\"space-x-28 flex justify-around items-center motion-scale-in-[0.72] motion-translate-x-in-[-22%] motion-translate-y-in-[-3%] \">\n                <div className=\"flex flex-col self-start justify-self-start justify-center items-center gap-4 border-r h-[350px]  border-gray p-4\">\n                    <img\n                        className={` ${data?.data?.user?.profilePicture ? \"rounded-full shadow-lg w-[150px] h-[150px]\" : \"p-2 rounded-md border\"}  m-2 object-cover object-center`}\n                        src={data?.data?.user?.profilePicture }\n                        alt=\" No profile picture\"\n                    />\n                    <h2 className=\"text-lg font-semibold text-primary\">\n                        {data?.data?.user?.firstName} {data?.data?.user?.lastName}\n                    </h2>\n                </div>\n\n            <div className=\"flex flex-col  \">\n                <div className=\"flex flex-col gap-4 -translate-x-10\">\n                    <p className=\"text-gray-600 font-semibold\"> Phone: <span className=\"text- font-normal\">{data?.data?.user?.phone}</span></p>\n                    <p className=\"text-gray-600 font-semibold\"> Role: <span className=\"text- font-normal\">{data?.data?.user?.role}</span></p>\n                    <p className=\"text-gray-600 font-semibold\"> Created At: <span className=\"text-primary font-normal\">{formatDate(data?.data?.user?.createdAt)}</span></p>\n                    <p className=\"text-gray-600 font-semibold\"> ID: <span className=\"text- font-normal\">{data?.data?.user?._id}</span></p>\n                    {data?.data?.user?.role === \"Delivery_Person\" && <p className=\"text-gray-600 font-semibold\"> FCN Number: <span className=\"text- font-normal\">{data?.data?.user?.fcnNumber}</span></p>}\n                    {data?.data?.user?.role === \"Delivery_Person\" && <p className=\"text-gray-600 font-semibold\"> Vehicle type: <span className=\"text- font-normal\">{data?.data?.user?.deliveryMethod}</span></p>}\n                </div>\n                <div className=\"flex gap-3 self-end pr-5 translate-y-10\">\n                    <button className=\" bg-blue-200 rounded-full w-[40px] h-[40px] flex items-center justify-center hover:translate-y-1 transition-transform hover:shadow-lg duration-300\" onClick={() =>setShowEditForm(true)}>\n                        <Pencil strokeWidth={1} size={20} />\n                    </button>\n                    <button className=\" bg-red-200 rounded-full w-[40px] h-[40px] flex items-center justify-center hover:translate-y-1 transition-transform hover:shadow-lg duration-300\" onClick={() => deleteUser(getId)}>\n                        <Trash strokeWidth={1} size={20} />\n                    </button>\n                </div>\n            </div>\n          </div>\n        ) : <div>\n            <p>{message}</p>\n            </div>}\n      </div>\n      {showEditForm ? (\n        <PopupCard>\n            <div className=\" space-x-10 flex justify-between items-center\">\n               <h1 className=\"text-2xl font-bold text-gray-900 mb-2 text-start\">Edit User</h1>\n\n                <button className=\" hover:bg-red-100 m-2 rounded-full w-[40px] h-[40px] flex items-center justify-center hover:translate-y-1 transition-transform hover:shadow-lg duration-300\" onClick={() => setShowEditForm(false)}>\n                    <X strokeWidth={1.5} size={30} color=\"red\"/>\n                </button>\n                \n            </div>\n          <EditUser id={data?.data?.user?._id} phone={data?.data?.user?.phone}/> \n        </PopupCard>) : null}\n    </>\n  );\n};\n\nexport default ShowById;\n","size_bytes":5773},"eslint.config.js":{"content":"import js from '@eslint/js'\nimport globals from 'globals'\nimport reactHooks from 'eslint-plugin-react-hooks'\nimport reactRefresh from 'eslint-plugin-react-refresh'\n\nexport default [\n  { ignores: ['dist'] },\n  {\n    files: ['**/*.{js,jsx}'],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: 'latest',\n        ecmaFeatures: { jsx: true },\n        sourceType: 'module',\n      },\n    },\n    plugins: {\n      'react-hooks': reactHooks,\n      'react-refresh': reactRefresh,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      'react-refresh/only-export-components': [\n        'warn',\n        { allowConstantExport: true },\n      ],\n      'no-unused-vars': ['warn', { varsIgnorePattern: '^[A-Z_]' }],\n    },\n  },\n]\n","size_bytes":843},"src/components/VPLocation/OffsetView.jsx":{"content":"import { useState, useEffect } from \"react\";\n\nexport function ParallaxBackground({ backgroundImage }) {\n  const [offset, setOffset] = useState(0);\n\n  useEffect(() => {\n    const handleScroll = () => setOffset(window.scrollY);\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: \"15vh\", // Make page scrollable\n        // backgroundImage: `url(${backgroundImage})`,\n        backgroundSize: \"contain\",\n        // backgroundRepeat: \"no-repeat\",\n        backgroundAttachment: \"fixed\", // optional: smooth parallax effect\n        backgroundPosition: ` ${offset * 0.1}px`, // Moves slower than scroll\n      }}\n      className=\"relative bg-telet\"\n    >\n      \n      {/* <h1 className=\"text-[#ef6836] text-5xl font-bold\">\n        Parallax Background\n      </h1> */}\n    </div>\n  );\n}\n","size_bytes":909},"src/contexts/UserProfileContext.jsx":{"content":"import { createContext, useState, useContext } from 'react';\n\nconst UserProfileContext = createContext();\n\nexport const UserProfileProvider = ({ children }) => {\n  const [userProfile, setUserProfile] = useState(false);\n\n  return (\n    <UserProfileContext.Provider value={{ userProfile, setUserProfile }}>\n      {children}\n    </UserProfileContext.Provider>\n  );\n};\n\nexport const useUserProfile = () => useContext(UserProfileContext);\n","size_bytes":434},"src/components/AuthForms/ForgotPassForm.jsx":{"content":"import { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { InlineLoadingDots } from '../Loading/Loading';\nimport OtpVerificationForm from './OTPform';\nconst ForgotPasswordForm = () => {\n  const [phone, setPhone] = useState('');\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [showOtpForm, setShowOtpForm] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (!phone) {\n      setError(\"Phone number is required\");\n      return;\n    } else if (phone.length !== 9) {\n      setError(\"Phone number must be 9 digits\");\n      return;\n    } else {\n      setError(\"\");\n    }\n    // console.log(phone)\n\n    try {\n      const response = await axios.post('https://gebeta-delivery1.onrender.com/api/v1/users/requestResetOTP', {\n        phone: phone,\n      });\n\n      setMessage(response.data.message || 'Reset link sent to your email');\n      setError('');\n\n      response.data.status === \"success\" && setShowOtpForm(false);\n    } catch (err) {\n      console.error(\"Forgot password error:\", err);\n      setError(err.response?.data?.message || 'Something went wrong.');\n      setMessage('');\n    }\n    // console.log(response.data)\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div \n         className={`space-y-4 bg-cardBackground p-8 rounded-lg shadow-lg w-[370px] flex flex-col items-center gap-12 border min-h-[250px] border-gray font-noto ${!showOtpForm ? \"hidden\" : \"\"}`}\n        >\n        <div className=\"w-full space-y-3 flex flex-col\">\n          <h2 className=\"text-xl font-bold\">Forgot Password</h2>\n\n          <input\n            type=\"text\"\n            name=\"phone\"\n            value={phone}\n            onChange={(e) => {\n              const sanitizedPhone =\n                e.target.value.startsWith(\"0\")\n                  ? e.target.value.slice(1)\n                  : e.target.value;\n              setPhone(sanitizedPhone)\n            }}\n            placeholder=\"912345678\"\n            required\n            className=\"bg-white border-[0.5px] border-gray p-2 rounded-lg w-full\"\n          />\n          <p className=\"text-[13px] text-gray-600 flex self-end\">Return to &nbsp; <Link to=\"/login\" className=\"underline font-semibold hover:font-bold\">Login</Link></p>\n        </div>\n\n        {error && <p className=\"text-red-500\">{error}</p>}\n        {message && <p className=\"text-green-500\">{message}</p>}\n\n        <button type=\"submit\" className=\" bg-[#deb770] text-white font-semibold p-2 hover:bg-[#deb770] hover:text-white transform duration-200 rounded-lg  border border-gray\">\n          {loading ? <InlineLoadingDots /> : <span>Send Reset Link</span>}\n        </button>\n\n        </div>\n      {!showOtpForm && <OtpVerificationForm phone={phone} setShowOtpForm={setShowOtpForm} />}\n      </form>\n    </>\n  );\n};\n\nexport default ForgotPasswordForm;\n","size_bytes":3024},"src/services/get.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport {useUserId} from \"../contexts/userIdContext\";\nconst UseFetch = (url, options = {}) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errorMg, setErrorMg] = useState(\"\");\n  const {getId} = useUserId();\n  async function fetchData() {\n      setLoading(true);\n    try {\n      const res = await fetch(url , {...options});\n      if (res.ok) {\n        const data =await res.json();\n        setData(data);\n        setErrorMg(\"\");\n      } return;\n    } catch (e) {\n      console.log(e);\n      setErrorMg(\"something went wrong!!\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [url,getId]);\n\n  return { data, loading, errorMg };\n};\n\nexport default UseFetch;\n","size_bytes":802},"src/Layouts/AuthLayout.jsx":{"content":"// /layouts/AuthLayout.jsx\nimport React from 'react';\n\nconst AuthLayout = ({ children , ...props}) => {\n  return (\n    <div className=\"min-h-screen min-w-[100wh] flex items-center justify-center\" {...props}>\n        {children}\n    </div>\n  );\n};\n\nexport default AuthLayout;\n","size_bytes":274},"src/main.jsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport {NavigationProvider} from \"./contexts/NavigationContext\";\nimport {UserProfileProvider} from \"./contexts/UserProfileContext\";\nimport { UserIdProvider } from \"./contexts/userIdContext\"; \ncreateRoot(document.getElementById(\"root\")).render(\n  <NavigationProvider>\n    <UserProfileProvider>\n      <UserIdProvider>\n      <App />\n      </UserIdProvider>\n    </UserProfileProvider>\n  </NavigationProvider>\n);\n","size_bytes":506},"src/App.jsx":{"content":"// App.jsx\nimport { useEffect , useState} from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport SignupPage from \"./pages/SignupPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport ForgotPassPage from \"./pages/ForgotPassPage\";\nimport OTPPage from \"./pages/OTPPage\";\nimport ManagerNav from \"./components/Sidebar/M-SidBarNav\";\nimport Landing from \"./pages/Landing\";\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport AdminNav from \"./components/Sidebar/A-sidBarNav\";\nimport Verify from \"./pages/verify\";\nimport GlobalNotifications from \"./components/GlobalNotifications\";\nimport useUserStore from \"./Store/UseStore\";\nimport MoneyFlow from \"./pages/A-DemoPages/A-analytics\";\nimport { useOrderFetcher } from \"./services/OrderPollingService\";\nimport FirstLogin from \"./components/firstLogin\";\n\nfunction App() {\n  const { user } = useUserStore();\n  const userRole = user?.role;\n  const firstLogin = user?.firstLogin;\n  const [showFirstLogin, setShowFirstLogin] = useState(false);\n  \n    console.log(userRole, firstLogin);\n  // setInterval(() => {\n  //   // setShowFirstLogin(true);\n  // }, 500000);\n  useOrderFetcher();\n\n  return (\n    <>\n    {userRole === \"Manager\" && firstLogin === true && <FirstLogin />}\n      {/* <FirstLogin /> */}\n      <GlobalNotifications />\n      <Router>\n        <Routes>\n\n          <Route path=\"/\" element={<Landing />} />\n          <Route path=\"/firstLogin\" element={<FirstLogin />} />\n          <Route path=\"/signup\" element={<SignupPage />} />\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/forgot-password\" element={<ForgotPassPage />} />\n          <Route path=\"/otp\" element={<OTPPage />} />\n          <Route path=\"/verify\" element={<Verify />} />\n          <Route path=\"/money-flow\" element={<MoneyFlow />} />\n\n          <Route\n            path=\"/managerDashboard\"\n            element={\n              <ManagerNav />\n            }\n          />\n          <Route\n            path=\"/adminDashboard\"\n            element={\n              // <ProtectedRoute allowedRoles={[\"Admin\"]}>\n              // </ProtectedRoute>\n              <AdminNav />\n            }\n          />\n          <Route path=\"*\" element={<NotFoundPage />}></Route>\n        </Routes>\n      </Router>\n    </>\n  );\n}\n\nexport default App;","size_bytes":2310},"src/pages/DashBoardPage.jsx":{"content":"import Chart from \"../components/Chart/Chart\";\nimport { useEffect , useState } from \"react\";\nimport InfoCards from \"./M-DemoPages/InfoCards\";\nimport RecentOrdersTB from \"./M-DemoPages/RecentOrdersTB\";\nimport useUserStore  from \"../Store/UseStore\";\n\n\nconst DashBoardPage = () => {\n\n  const { setRestaurant } = useUserStore();\n  const [resData , setResData] = useState([]);\n\n  // useEffect(() => {\n    // const demoId = \"687f8356ba35b7d99e36f647\"\n    // const fetchRestaurants = async () => {\n    // const storedUser = JSON.parse(sessionStorage.getItem(\"user-data\"))?.state?.user;\n    // const role = storedUser.role;\n    // // console.log(role)\n    //   try {\n    //     // ${storedUser._id}\n    //     const res = await fetch(\n    //       `https://gebeta-delivery1.onrender.com/api/v1/restaurants/by-manager/${storedUser._id}`,\n    //       {\n    //         headers: {\n    //           // Using a placeholder token for demonstration as localStorage is not ideal in some environments\n    //           Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    //         },\n    //       }\n    //     );\n        \n    //     const data = await res.json();\n    //     if (res.ok && data.status === \"success\") {\n    //       // console.log(data.data.restaurants[0])\n    //       setResData(data.data.restaurants || []);\n    //       setRestaurant(data.data.restaurants[0]); \n    //     } else {\n    //       throw new Error(data.message || \"Failed to load restaurants.\");\n    //     }\n    //   } catch (err) {\n    //     console.error(\"Fetch error:\", err);\n    //   }\n    // };\n    // if(role === \"Manager\"){\n    //   fetchRestaurants();\n    // }\n    // setRestaurant(resData);\n    // console.log(resData)\n\n    // fetchRestaurants();\n  // } ,[]);\n  return (\n    <>\n      <div className=\"w-[100%] h-[calc(100vh-65px)] p-1 pl-12 flex flex-col justify-center bg-[#f4f1e9]\">\n        <InfoCards />\n        <div className=\"flex justify-around items-center bg-opacity-0\">\n\n          <Chart />\n          <RecentOrdersTB />\n          {/* <Timer /> */}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DashBoardPage;\n","size_bytes":2117},"src/components/Sidebar/M-SidBarNav.jsx":{"content":"import {useState, useEffect} from 'react'\nimport { useNavigation } from '../../contexts/NavigationContext';\nimport DashboardLayout from '../../Layouts/dashboardLayout';\nimport Order from '../../pages/M-DemoPages/Order';\nimport Menu from '../../pages/M-DemoPages/menus';\nimport Analytics from '../../pages/M-DemoPages/Analytics';\nimport Settings from '../../pages/M-DemoPages/Settings';\nimport Customers from '../../pages/M-DemoPages/customers';\nimport DashBoardPage from '../../pages/DashBoardPage';\nconst ManagerNav = () => {\n  const { activeNav } = useNavigation();\n  // console.log(activeNav)\n  const [activeComponent, setActiveComponent] = useState(null);\n\n  useEffect(() => {\n    switch (activeNav) {\n      case 'Dashboard':\n        setActiveComponent(<DashBoardPage />);\n        break;\n      case 'Orders':\n        setActiveComponent(<Order />);\n        break;\n      case 'Menu':\n        setActiveComponent(<Menu />);\n        break;\n      case 'Customers':\n        setActiveComponent(<Customers />);\n        break;\n      case 'Analytics':\n        setActiveComponent(<Analytics />);\n        break;\n      case 'Settings':\n        setActiveComponent(<Settings />);\n        break;\n      default:\n        setActiveComponent(null);\n    }\n  }, [activeNav]);\n\n  return (\n    <DashboardLayout>\n   \n   {activeComponent}\n    </DashboardLayout>\n  );\n};\n\nexport default ManagerNav;\n","size_bytes":1375},"src/pages/OTPPage.jsx":{"content":"import OTPform from \"../components/AuthForms/OTPform\";\nimport AuthLayout from \"../Layouts/AuthLayout\";\nconst OTPPage = () => {\n    return ( \n        <>\n        <AuthLayout>\n            <OTPform />\n        </AuthLayout>\n        </>\n    );\n};\n\nexport default OTPPage;","size_bytes":265},"src/components/VPLocation/ViewPort.jsx":{"content":"import { useState, useEffect } from \"react\";\n\n// Hook that returns viewport info (width, height, scrollX, scrollY)\nexport function useViewport() {\n  const [viewport, setViewport] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    scrollX: window.scrollX,\n    scrollY: window.scrollY,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setViewport({\n        width: window.innerWidth,\n        height: window.innerHeight,\n        scrollX: window.scrollX,\n        scrollY: window.scrollY,\n      });\n    };\n\n    const handleScroll = () => {\n      setViewport((prev) => ({\n        ...prev,\n        scrollX: window.scrollX,\n        scrollY: window.scrollY,\n      }));\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  return viewport;\n}\n","size_bytes":993},"src/pages/M-DemoPages/Order.jsx":{"content":"import axios from \"axios\";\nimport { ChevronDown } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport useUserStore from \"../../Store/UseStore\";\nimport { InlineLoadingDots , Loading } from \"../../components/Loading/Loading\";\nimport { addErrorNotification, addSuccessNotification } from \"../../utils/notifications\";\nimport orderPollingService from \"../../services/OrderPollingService\";\n\nconst ManagerOrders = () => {\n  const [expandedCards, setExpandedCards] = useState([]); // ✅ multiple expanded cards\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [deliveryCode, setDeliveryCode] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  \n  // Get orders and actions from Zustand store\n  const { \n    orders, \n    ordersLoading, \n    ordersError,\n    updateOrderStatus,\n    newOrderAlert, \n    latestOrderId, \n    setNewOrderAlert \n  } = useUserStore();\n\n  // Trigger order fetch when user enters this page\n  const ordersExist = JSON.parse(sessionStorage.getItem(\"user-data\")).state.orders\n  console.log(ordersExist);\n  const fetchOrders = async () => {\n    try {\n      const storeData = JSON.parse(sessionStorage.getItem(\"user-data\"));\n      const restaurantId = storeData?.state?.restaurant?.id;\n      const token = localStorage.getItem(\"token\");\n      if (!restaurantId || !token) {\n        throw new Error(\"Missing restaurantId or token\");\n      }\n\n      const response = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/orders/restaurant/${restaurantId}/orders`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch orders\");\n      }\n      const data = await response.json();\n\n      // Store orders in Zustand if used, otherwise just log\n      if (Array.isArray(data?.data)) {\n        useUserStore.getState().setOrders?.(data.data);\n      }\n      // Optionally handle new order logic similar to polling service\n    } catch (error) {\n      console.error(\"Error fetching orders: \", error);\n      useUserStore.getState().setOrdersError?.(\"Failed to fetch orders\");\n    }\n  };\n\n  // console.log(ordersExist);\n  useEffect(() => {\n  if(ordersExist.length === 0){\n    orderPollingService.refreshOrders();\n    fetchOrders();\n  }\n  }, []);\n  // Orders are already sorted by OrderPollingService\n\n  const filteredOrders = orders\n    .filter((order) => {\n      const allowedStatuses = [\"pending\", \"cooked\", \"canceled\", \"preparing\"];\n      return allowedStatuses.includes(order.orderStatus?.toLowerCase());\n    })\n    .filter(\n      (order) =>\n        order.orderCode?.toLowerCase().includes(searchQuery.toLowerCase()) \n      // ||\n        // order.orderId?.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n  // Orders are now fetched centrally by OrderPollingService and stored in Zustand\n  // No need for local fetching logic here\n\n  const toggleExpand = (id) => {\n    setExpandedCards((prev) =>\n      prev.includes(id) ? prev.filter((cardId) => cardId !== id) : [...prev, id]\n    );\n  };\n\n  const handleStatusChange = async (id, newStatus) => {\n    // Update local state immediately\n    updateOrderStatus(id, newStatus);\n\n    try {\n      await axios.patch(\n        `https://gebeta-delivery1.onrender.com/api/v1/orders/${id}/status`,\n        {\n          orderId: id,\n          status: newStatus,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n    } catch (err) {\n      console.error(\"Failed to update status\", err);\n      // Revert the change if API call fails\n      updateOrderStatus(id, orders.find(order => order.orderId === id)?.orderStatus || \"Pending\");\n    }\n  };\n\n  const getStatusColor = (status) => {\n    if (status === \"Cooked\") return \"bg-green-100 text-green-700\";\n    if (status === \"Canceled\") return \"bg-red-100 text-red-700\";\n    if (status === \"Pending\") return \"bg-yellow-100 text-yellow-700\";\n    return \"bg-yellow-100 text-yellow-800\";\n  };\n\n  const handelVerify = async (orderId , deliveryCode) => {\n    console.log(orderId, deliveryCode);\n    setLoading(true);\n    try{\n      const res = await axios.post(`https://gebeta-delivery1.onrender.com/api/v1/orders/verify-restaurant-pickup`,{\n        orderId: orderId,\n        pickupVerificationCode: deliveryCode,\n      },{\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      console.log(\"+++++=\",res);\n      console.log(orderId, deliveryCode);\n      addSuccessNotification(\"Order Verified\", \"Delivery verification completed successfully\");\n    } catch (err) {\n      console.error(\"Failed to verify order\", err);\n      addErrorNotification(\"Verification Failed\", \"Unable to verify delivery code\");\n    }finally{\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <>\n    <div className=\"h-[calc(100vh-65px)] bg-[#f9f5f0] p-6 \">\n      <div className=\"flex flex-wrap gap-4 items-center\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by order code...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"mt-4 ml-5 px-4 py-2 border border-[#caa954] rounded-md bg-[#fefcf7] focus:outline-none focus:ring-2 focus:ring-[#d4af37] w-64\"\n        />\n      </div>\n      <h1 className=\"text-3xl font-bold text-center text-[#8B4513] mb-6\">\n        Orders Dashboard\n      </h1>\n\n      {ordersLoading && (\n        <div className=\"text-center py-4\">\n          <Loading />\n        </div>\n      )}\n\n      {ordersError && (\n        <div className=\"text-center py-4\">\n          <p className=\"text-red-600\">Error: {ordersError}</p>\n        </div>\n      )}\n\n      {!ordersLoading && !ordersError && (\n        <div className=\"overflow-y-auto h-[69%] w-[80%] scrollbar-hide scroll-smooth fixed p-2 \">\n        <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 \">\n          {filteredOrders\n            .sort((a, b) => new Date(b.orderDate) - new Date(a.orderDate))\n            .map((order) => (\n              <div\n                key={order.orderId}\n                className={`bg-white border border-[#e2b96c] rounded-xl shadow-md hover:shadow-lg cursor-pointer motion-preset-confetti transition-all duration-300 overflow-hidden flex flex-col justify-between ${\n                  expandedCards.includes(order.orderId) ? \"p-4 pb-6\" : \"p-4\"\n                }`}\n              >\n                <div onClick={() => toggleExpand(order.orderId)}>\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <h2 className=\"text-xl font-semibold text-[#4b2e2e]\">\n                        {order.userName}\n                      </h2>\n                      <h2 className=\"text-sm font-medium text-[#8b4513c8]\">\n                        #{order.orderCode}\n                      </h2>\n                    </div>\n                    <span\n                      className={`text-sm font-medium px-2 py-1 rounded-full ${getStatusColor(\n                        order.orderStatus\n                      )}`}\n                    >\n                      {order.orderStatus}\n                    </span>\n                  </div>\n\n                  <p className=\"text-[#5f4637] mt-2\">\n                    <span className=\"font-medium\">Order:</span>{\" \"}\n                    {order.items\n                      ?.map(\n                        (item) => `${item.foodName}` + `  (x${item.quantity})`\n                      )\n                      .join(\", \") || \"N/A\"}\n                    <br />\n                    <span className=\"font-medium\">Total Order:</span>\n                    {order.items\n                      ?.reduce((total, item) => total + item.quantity, 0) || \"N/A\"}\n                  </p>\n                  <p className=\"text-[#5f4637]\">\n                    <span className=\"font-medium\">Total:</span>{\" \"}\n                    {order.totalFoodPrice} ETB\n                  </p>\n                  {order.description && (\n                    <p className=\"text-[#5f4637] border p-1 rounded-lg bg-[#faf8f3]\">\n                      <span className=\"font-bold\">Description:</span>{\" \"}\n                      {order.description}\n                    </p>\n                  )}\n                  <p className=\"text-sm text-[#a37c2c] italic\">\n                    Placed on: {new Date(order.orderDate).toLocaleString()}\n                  </p>\n                  <div className={`flex justify-self-end`}>\n                    <ChevronDown\n                      className={`w-4 h-4 transition-all duration-300 ${\n                        expandedCards.includes(order.orderId)\n                          ? \"rotate-180\"\n                          : \"\"\n                      }`}\n                    />\n                  </div>\n                </div>\n\n                {expandedCards.includes(order.orderId) && (\n                  <div className=\"mt-4 space-y-2 border-t pt-3 border-dashed border-[#caa954] text-sm text-[#3f2c1b] transform-all duration-900\">\n                    <p>\n                      <span className=\"font-medium\">Phone:</span>{\" \"}\n                      {order.phone || \"N/A\"}\n                    </p>\n                    <p>\n                      <span className=\"font-medium\">Type of Order:</span>{\" \"}\n                      {order.orderType}\n                    </p>\n\n                    <div className=\"mt-2\">\n                      <label className=\"block text-sm font-semibold text-[#5a3b1a] mb-1\">\n                        Update Status:\n                      </label>\n                      <select\n                        value={order.orderStatus}\n                        onChange={(e) =>\n                          handleStatusChange(order.orderId, e.target.value)\n                        }\n                        className=\"w-full p-2 border border-[#caa954] rounded-md bg-[#fefcf7] focus:outline-none focus:ring-2 focus:ring-[#d4af37]\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        {/* <option value=\"Pending\">Pending</option> */}\n                        <option value=\"Preparing\">Preparing</option>\n                        <option value=\"Cooked\">Cooked</option>\n                        {/* <option value=\"Delivering\">Delivering</option> */}\n                        {/* <option value=\"Completed\">Completed</option> */}\n                        {/* <option value=\"Canceled\">Canceled</option> */}\n\n                      </select>\n                      <div className=\"flex gap-3 p-2 px-0\">\n                        <input\n                        onChange={(e)=>{setDeliveryCode(e.target.value)}}\n                          type=\"text\"\n                          placeholder=\"Enter Delivery Code\"\n                          className=\"w-full p-2 border border-[#caa954] rounded-md bg-[#fefcf7] focus:outline-none focus:ring-2 focus:ring-[#d4af37]\"\n                        />\n                        <button\n                        onClick={(e)=>{handelVerify(order.orderId, deliveryCode); console.log(order.orderId)}}\n                        className={`py-2 px-2 bg-[#8b4513c8] text-white rounded-md hover:bg-[#a05c2c] transition-colors duration-200 ${loading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}>\n                          {loading ? <InlineLoadingDots /> : \"Verify\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n        </div>\n        </div>\n      )}\n    </div>\n    </>\n  );\n};\n\nexport default ManagerOrders;","size_bytes":11678},"src/components/UserForms/M-EditRestaurantForm.jsx":{"content":"import React, { useEffect, useState, useMemo } from \"react\";\nimport { MapPinCheckInside } from \"lucide-react\";\nimport useUserStore from \"../../Store/UseStore\";\nimport { Loading , InlineLoadingDots } from \"../Loading/Loading\";\n\nconst EditRestaurantForm = ({ onSaveSuccess, onCancel }) => {\n  const {  setRestaurant } = useUserStore();\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [errorMSG, setErrorMSG] = useState(null);\n  \n  const userData = useMemo(() => {\n    try {\n      return JSON.parse(sessionStorage.getItem(\"user-data\"));\n    } catch {\n      return null;\n    }\n  }, []);\n  const restaurantFromStore = userData?.state?.restaurant;\n\n  const [form, setForm] = useState({\n    // name: \"\",\n    // cuisineTypes: \"\",\n    description: \"\",\n    // openHours: \"\",\n    // deliveryRadiusMeters: 0,\n    isDeliveryAvailable: false,\n    isOpenNow: false,\n    imageCover: null,\n    location: {\n      address: \"\",\n      type: \"Point\",\n      // coordinates: [], // [lng, lat]\n    },\n  });\n\n  useEffect(() => {\n    setLoading(true);\n    if (restaurantFromStore) {\n      setForm({\n        // name: restaurantFromStore.name || \"\",\n        // cuisineTypes: restaurantFromStore.cuisineTypes?.join(\", \") || \"\",\n        description: restaurantFromStore.description || \"\",\n        // openHours: restaurantFromStore.openHours || \"\",\n        // deliveryRadiusMeters: restaurantFromStore.deliveryRadiusMeters || 0,\n        isDeliveryAvailable: !!restaurantFromStore.isDeliveryAvailable,\n        isOpenNow: !!restaurantFromStore.isOpenNow,\n        location: {\n          address: restaurantFromStore.location?.address || \"\",\n          type: \"Point\",\n          // coordinates: restaurantFromStore.location?.coordinates || [],\n        },\n        imageCover: null, // can't pre-fill files\n      });\n      setLoading(false);\n    } else {\n      setErrorMSG(\"Restaurant data could not be loaded.\");\n      setLoading(false);\n    }\n  }, [restaurantFromStore]);\n\n  const handleChange = (e) => {\n    const { name, value, type, checked, files } = e.target;\n    \n    if (name === \"address\") {\n      setForm(prev => ({\n        ...prev,\n        location: {\n          ...prev.location,\n          address: value\n        }\n      }));\n    } else {\n      setForm(prev => ({\n        ...prev,\n        [name]: type === \"checkbox\" ? checked : type === \"file\" ? files[0] : value,\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"description\", form.description);\n    formData.append(\"isDeliveryAvailable\", String(form.isDeliveryAvailable));\n    formData.append(\"isOpenNow\", String(form.isOpenNow));\n    formData.append(\"address\", form.location.address);\n\n    if (form.imageCover) {\n      formData.append(\"image\", form.imageCover);\n    }\n\n    try {\n      setLoading(true);\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/restaurants/${restaurantFromStore?.id}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: formData,\n        }\n      );\n\n      const result = await res.json();\n      console.log(result);\n      if (res.ok && result.status === \"success\") {\n        setErrorMSG(\"\");\n        setMessage(\"Restaurant updated successfully!\");\n        const updatedRestaurant = result.data;\n        setRestaurant(updatedRestaurant);\n        // Persist updated restaurant into sessionStorage under user-data.state.restaurant\n        try {\n          const existing = sessionStorage.getItem(\"user-data\");\n          const parsed = existing ? JSON.parse(existing) : null;\n          const nextUserData = parsed\n            ? { ...parsed, state: { ...parsed.state, restaurant: updatedRestaurant } }\n            : { state: { restaurant: updatedRestaurant } };\n          sessionStorage.setItem(\"user-data\", JSON.stringify(nextUserData));\n        } catch (_) {\n          // Ignore sessionStorage write errors\n        }\n        onSaveSuccess && onSaveSuccess(updatedRestaurant);\n      } else {\n        setMessage(\"\");\n        setErrorMSG(result?.message || \"Failed to update restaurant. Try again.\");\n      }\n    } catch (err) {\n      setMessage(\"\");\n      setErrorMSG(\"Failed to update restaurant. Try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGeolocation = () => {\n    if (!navigator.geolocation) {\n      alert(\"Geolocation is not supported by your browser\");\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        const { latitude, longitude } = position.coords;\n        setForm(prev => ({\n          ...prev,\n          location: {\n            ...prev.location,\n            coordinates: [longitude, latitude]\n          },\n        }));\n      },\n      (error) => {\n        console.error(\"Geolocation error:\", error);\n        setErrorMSG(\"Failed to capture location. Please ensure location services are enabled.\");\n      },\n      { enableHighAccuracy: true }\n    );\n  };\n\n  return (\n    <div className=\"min-h-[calc(100vh-106px)] pt-1  bg-[#f4f1e9] font-noto flex justify-center motion-preset-fade motion-duration-700\">\n      <div className=\"w-fit h-fit bg-white px-6 py-2 rounded-xl mt-2 shadow-lg border-2 border-gray-200 \">\n        <h2 className=\"text-3xl font-bold text-[#4b382a] mb-2 text-center\">\n          Edit Restaurant Details\n        </h2>\n\n        <form onSubmit={handleSubmit} className=\"flex flex-col \">\n          <div className=\"flex flex-row items-center gap-6 justify-center\">\n            <div>\n              <div className=\"grid grid-cols-1  md:grid-cols-2 gap-6\">\n                {/* <div>\n                  <label htmlFor=\"name\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Restaurant Name\n                  </label>\n                  <input\n                    id=\"name\"\n                    name=\"name\"\n                    value={form.name}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 placeholder-gray-400\"\n                  /> \n                </div>*/}\n                {/* <div className=\"flex flex-col justify-center border \">\n                  <label htmlFor=\"cuisineTypes\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Cuisine Types <span className=\"text-gray-500 text-xs\">(comma separated)</span>\n                  </label>\n                  <input\n                    id=\"cuisineTypes\"\n                    name=\"cuisineTypes\"\n                    value={form.cuisineTypes}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 placeholder-gray-400\"\n                  />\n                </div> */}\n              </div>\n\n              <div>\n                <label htmlFor=\"description\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                  Description\n                </label>\n                <textarea\n                  id=\"description\"\n                  name=\"description\"\n                  value={form.description}\n                  onChange={handleChange}\n                  rows=\"5\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 resize-y placeholder-gray-400\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* <div>\n                  <label htmlFor=\"openHours\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Open Hours\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"openHours\"\n                    pattern=\"^(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM)\\s-\\s(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM)$\"\n                    name=\"openHours\"\n                    value={form.openHours}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 placeholder-gray-400\"\n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"deliveryRadiusMeters\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Delivery Radius <span className=\"text-gray-500 text-xs\">(meters)</span>\n                  </label>\n                  <input\n                    id=\"deliveryRadiusMeters\"\n                    name=\"deliveryRadiusMeters\"\n                    value={form.deliveryRadiusMeters}\n                    onChange={handleChange}\n                    type=\"number\"\n                    step=\"10\"\n                    min=\"0\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 placeholder-gray-400\"\n                  />\n                </div> */}\n                <div>\n                  <label htmlFor=\"address\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Address\n                  </label>\n                  <input\n                    id=\"address\"\n                    name=\"address\"\n                    value={form.location.address}\n                    onChange={handleChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200 placeholder-gray-400\"\n                  />\n                </div>\n                <div className=\"flex flex-col justify-center\">\n                  <label htmlFor=\"imageCover\" className=\"block text-sm font-semibold text-[#4b382a] mb-2\">\n                    Cover Image\n                  </label>\n                  <label className=\"flex items-center justify-center w-full p-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors focus-within:ring-2 focus-within:ring-[#bfa66a] focus-within:border-transparent\">\n                    <svg \n                      className=\"w-5 h-5 mr-2 text-[#4b382a]\" \n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path \n                        strokeLinecap=\"round\" \n                        strokeLinejoin=\"round\" \n                        strokeWidth={2} \n                        d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" \n                      />\n                    </svg>\n                    <span className=\"text-sm font-medium text-[#4b382a]\">Upload Cover Image</span>\n                    <input\n                      id=\"imageCover\"\n                      name=\"imageCover\"\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleChange}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n              </div>\n                  {/* location button */}\n              {/* <div className=\"flex items-center justify-start mt-5\">\n                <button\n                  type=\"button\"\n                  onClick={handleGeolocation}\n                  className=\" bg-blue-200 hover:bg-blue-400 active:bg-blue-200 focus:border-green-500 flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#bfa66a] focus:border-transparent transition duration-200\"\n                >\n                  <MapPinCheckInside size={20} color=\"green\" />\n                  Use Current Location\n                </button>\n              </div> */}\n            </div>\n\n            <div className=\"flex flex-col items-center space-y-10\">\n              <div>\n                <img\n                  src={\n                    form?.imageCover\n                      ? URL.createObjectURL(form.imageCover)\n                      : restaurantFromStore?.imageCover\n                  }\n                  alt=\"Restaurant cover\"\n                  className=\"border rounded-lg w-[200px] h-[200px] object-cover shadow-md\"\n                />\n              </div>\n              <div className=\"flex items-center w-fit h-fit space-y-2 sm:justify-around gap-2 mt-2 p-2 bg-[#f9f4ea] rounded-lg border border-[#e0cda9]\">\n                <label htmlFor=\"isOpenNow\" className=\"flex flex-col items-center gap-3 text-[#4b382a] cursor-pointer\">\n                  <div\n                    className=\"relative inline-block w-12 h-6 rounded-full transition-colors duration-200 ease-in-out mt-2\"\n                    style={{ backgroundColor: form.isOpenNow ? \"#46c265\" : \"#d1d5db\" }}\n                  >\n                    <input\n                      id=\"isOpenNow\"\n                      type=\"checkbox\"\n                      name=\"isOpenNow\"\n                      checked={form.isOpenNow}\n                      onChange={handleChange}\n                      className=\"absolute opacity-0 w-0 h-0\"\n                    />\n                    <span\n                      className={`absolute left-0 top-0 w-6 h-6 rounded-full bg-white shadow transition-transform duration-200 ease-in-out transform ${\n                        form.isOpenNow ? \"translate-x-full\" : \"translate-x-0\"\n                      }`}\n                    />\n                  </div>\n                  <span className=\"ml-2 text-xs font-medium select-none\">Open Now</span>\n                </label>\n                <label htmlFor=\"isDeliveryAvailable\" className=\"flex flex-col items-center gap-3 text-[#4b382a] cursor-pointer \">\n                  <div\n                    className=\"relative inline-block w-12 h-6 rounded-full transition-colors duration-200 ease-in-out\"\n                    style={{ backgroundColor: form.isDeliveryAvailable ? \"#46c265\" : \"#d1d5db\" }}\n                  >\n                    <input\n                      id=\"isDeliveryAvailable\"\n                      type=\"checkbox\"\n                      name=\"isDeliveryAvailable\"\n                      checked={form.isDeliveryAvailable}\n                      onChange={handleChange}\n                      className=\"absolute opacity-0 w-0 h-0\"\n                    />\n                    <span\n                      className={`absolute left-0 top-0 w-6 h-6 rounded-full bg-white shadow transition-transform duration-200 ease-in-out transform ${\n                        form.isDeliveryAvailable ? \"translate-x-full\" : \"translate-x-0\"\n                      }`}\n                    />\n                  </div>\n                  <span className=\"ml-2 text-xs font-medium select-none\">Delivery Available</span>\n                </label>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex justify-end items-center gap-44 mt-\">\n            {errorMSG !== \"\" && (\n              <p className=\"text-sm font-medium text-red-600\">{errorMSG}</p>\n            )}\n            {message !== \"\" && (\n              <p className=\"text-sm font-medium text-green-600\">{message}</p>\n            )}\n            <button\n              type=\"submit\"\n              className={`px-8 py-2 bg-[#894718] text-white m-3 font-semibold rounded-lg hover:bg-[#3a2f24] transition duration-200 focus:outline-none focus:ring-2 focus:ring-[#bfa66a] ${loading ? \"cursor-not-allowed opacity-50\" : \"\"}`}\n            >\n             {loading ? <InlineLoadingDots /> : \"Save Changes\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditRestaurantForm;","size_bytes":16086},"src/components/Sidebar/A-sidBarNav.jsx":{"content":"import {useState, useEffect} from 'react'\nimport { useNavigation } from '../../contexts/NavigationContext';\nimport AdminDashboardLayout from '../../Layouts/A-dashboardLayout';\nimport Order from '../../pages/M-DemoPages/Order';\nimport Menu from '../../pages/M-DemoPages/menus';\nimport Analytics from '../../pages/A-DemoPages/A-analytics';\nimport Settings from '../../pages/M-DemoPages/Settings';\nimport DashBoardPage from '../../pages/DashBoardPage';\nimport AllList from '../../pages/A-DemoPages/AllList';\nimport ACustomers from '../../pages/A-DemoPages/A-Restaurants';\nimport DeliveryGuys from '../../pages/A-DemoPages/deliveryGuys';\nconst AdminNav = () => {\n  const { activeNav } = useNavigation();\n  const [activeComponent, setActiveComponent] = useState(null);\n  // console.log(activeNav)\n  // const [activeNav01, setActiveNav01] = useState(null);\n  // useEffect(() => {\n  //   const activeNav01 = localStorage.getItem(\"activeNav\")\n  //   console.log(activeNav01)\n  //   setActiveNav01(activeNav)\n  // }, [activeNav])\n  \n  useEffect(() => {\n    switch (activeNav) {\n      case 'Dashboard':\n        setActiveComponent(<DashBoardPage />);\n        break;\n      case 'Users':\n        setActiveComponent(<AllList/>);\n        break;\n      case 'Orders':\n        setActiveComponent(<Order />);\n        break;\n      case 'Menu':\n        setActiveComponent(<Menu />);\n        break;\n      case 'Restaurants':\n        setActiveComponent(<ACustomers />);\n        break;\n      case 'Analytics':\n        setActiveComponent(<Analytics />);\n        break;\n      case 'Settings':\n        setActiveComponent(<Settings />);\n        break;\n      case 'Delivery Guys':\n        setActiveComponent(<DeliveryGuys />);\n        break;\n      default:\n        setActiveComponent(null);\n    }\n  }, [activeNav]);\n\n  return (\n    <AdminDashboardLayout>\n   \n   {activeComponent}\n    </AdminDashboardLayout>\n  );\n};\n\nexport default AdminNav;\n","size_bytes":1913},"src/components/UserForms/M-EditFood.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport useUserStore from \"../../Store/UseStore\";\nimport { Loading } from \"../Loading/Loading\";\n\nconst MEditFood = ({ foodId }) => {\n  const { updateFood, foodsByMenu } = useUserStore();\n    const [formData, setFormData] = useState({\n        foodName: \"\",\n        price: \"\",\n        ingredients: \"\",\n        instructions: \"\",\n        cookingTimeMinutes: \"\",\n        image: \"\",\n        isFeatured: false,\n        status: \"Available\",\n    });\n    console.log(foodId);\n\n    const [loading, setLoading] = useState(false);\n    const [fetchLoading, setFetchLoading] = useState(true);\n    const [imagePreview, setImagePreview] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n\n    // Fetch existing food data\n    useEffect(() => {\n        const fetchFoodData = async () => {\n            if (!foodId) {\n                setError(\"Food ID is required\");\n                setFetchLoading(false);\n                return;\n            }\n\n            try {\n                const response = await fetch(\n                    `https://gebeta-delivery1.onrender.com/api/v1/foods/${foodId}`,\n                    {\n                        method: \"GET\",\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                        },\n                    }\n                );\n                // console.log(response)\n\n                const data = await response.json();\n                console.log(data)\n                if (response.ok) {\n                    setFormData({\n                        foodName: data.data.foodName || \"\",\n                        price: data.data.price || \"\",\n                        ingredients: data.data.ingredients || \"\",\n                        instructions: data.data.instructions || \"\",\n                        cookingTimeMinutes: data.data.cookingTimeMinutes || \"\",\n                        image: data.data.imageCover || \"\",\n                        isFeatured: data.data.isFeatured || false,\n                        status: data.data.status || \"Available\",\n                    });\n\n                    if (data.data.imageCover) {\n                        setImagePreview(data.data.imageCover);\n                    }\n                } else {\n                    setError(data.message || \"Failed to fetch food data\");\n                }\n            } catch (error) {\n                console.error(\"Error fetching food data:\", error);\n                setError(\"Error fetching food data. Please try again.\");\n            } finally {\n                setFetchLoading(false);\n            }\n        };\n\n        fetchFoodData();\n    }, [foodId]);\n\n    const handleInputChange = (e) => {\n        const { name, value, type, checked, files } = e.target;\n\n        if (type === \"file\") {\n            const file = files[0];\n            if (file) {\n                if (!file.type.startsWith(\"image/\")) {\n                    setError(\"Please select an image file\");\n                    return;\n                }\n\n                if (file.size > 5 * 1024 * 1024) {\n                    setError(\"Image size should be less than 5MB\");\n                    return;\n                }\n\n                setError(\"\");\n                const imageUrl = URL.createObjectURL(file);\n                setImagePreview(imageUrl);\n                setFormData((prev) => ({\n                    ...prev,\n                    [name]: file,\n                }));\n            }\n        } else {\n            setFormData((prev) => ({\n                ...prev,\n                [name]: type === \"checkbox\" ? checked : value,\n            }));\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError(\"\");\n        setSuccess(\"\");\n\n        if (!formData.foodName || !formData.price) {\n            setError(\"Please fill in all required fields\");\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const payload = new FormData();\n            payload.append(\"foodName\", formData.foodName);\n            payload.append(\"price\", parseFloat(formData.price));\n\n            if (formData.ingredients)\n                payload.append(\"ingredients\", formData.ingredients);\n            if (formData.cookingTimeMinutes)\n                payload.append(\n                    \"cookingTimeMinutes\",\n                    parseInt(formData.cookingTimeMinutes)\n                );\n            if (formData.image) payload.append(\"imageCover\", formData.image);\n\n            // payload.append(\"isFeatured\", String(formData.isFeatured));\n            payload.append(\"status\", formData.status);\n\n            const response = await fetch(\n                `https://gebeta-delivery1.onrender.com/api/v1/foods/${foodId}`,\n                {\n                    method: \"PATCH\",\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    },\n                    body: payload,\n                }\n            );\n            console.log(response)\n\n            const data = await response.json();\n\n            if (response.ok) {\n                // Find which menu this food belongs to and update it in the store\n                let menuIdForFood = null;\n                Object.entries(foodsByMenu).forEach(([menuId, menuData]) => {\n                    if (menuData.foods.some(food => food._id === foodId)) {\n                        menuIdForFood = menuId;\n                    }\n                });\n                \n                if (menuIdForFood) {\n                    updateFood(menuIdForFood, foodId, data.data);\n                }\n                \n                setSuccess(\"Food item updated successfully!\");\n                // if (formData.image) {\n                //     const imageUrl = URL.createObjectURL(formData.image);\n                //     setImagePreview(imageUrl);\n                // }\n                setFormData((prev) => ({ ...prev, image: \"\" }));\n            } else {\n                setError(data.message || \"Failed to update food item\");\n            }\n        } catch (error) {\n            console.error(\"Error updating food item:\", error);\n            setSuccess('')\n            setError(\"Error updating food item. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (fetchLoading) {\n        return <Loading/>\n    }\n\n    if (error && !formData.foodName) {\n        return (\n            <div className=\"flex justify-center items-center h-64\">\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n                    {error}\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <>\n            <div className=\"flex flex-col md:flex-row gap-6 mx-auto p-2 py-4\">\n                <form onSubmit={handleSubmit} className=\"space-y-1 font-noto flex-1 p-2\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                            Food Name *\n                        </label>\n                        <input\n                            type=\"text\"\n                            name=\"foodName\"\n                            value={formData.foodName}\n                            onChange={handleInputChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"flex flex-col sm:flex-row gap-4\">\n                        <div className=\"flex-1\">\n                            <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                                Price *\n                            </label>\n                            <input\n                                type=\"number\"\n                                name=\"price\"\n                                value={formData.price}\n                                onChange={handleInputChange}\n                                min=\"0\"\n                                step=\"0.01\"\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                                required\n                            />\n                        </div>\n\n                        <div className=\"flex-1\">\n                            <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                                Cooking Time (minutes)*\n                            </label>\n                            <input\n                                type=\"number\"\n                                name=\"cookingTimeMinutes\"\n                                value={formData.cookingTimeMinutes}\n                                onChange={handleInputChange}\n                                min=\"1\"\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                            Ingredients\n                        </label>\n                        <textarea\n                            name=\"ingredients\"\n                            value={formData.ingredients}\n                            onChange={handleInputChange}\n                            rows=\"3\"\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                            placeholder=\"List ingredients (comma-separated)\"\n                        />\n                    </div>\n\n                    \n\n                    <div className=\"flex flex-col sm:flex-row gap-4 items-center  \">\n                        <div className=\"flex items-center mt-4\">\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\n                                <span className=\"mr-3 text-sm text-[#4b382a]\">\n                                    Available\n                                </span>\n                                <input\n                                    type=\"checkbox\"\n                                    name=\"status\"\n                                    checked={formData.status === \"Available\"}\n                                    onChange={(e) => handleInputChange({\n                                        target: {\n                                            name: \"status\",\n                                            value: e.target.checked ? \"Available\" : \"Unavailable\"\n                                        }\n                                    })}\n                                    className=\"sr-only\"\n                                />\n                                <div\n                                    className={`w-11 h-6 rounded-full transition-colors duration-200 ${formData.status === \"Available\" ? \"bg-[#4b382a]\" : \"bg-gray-200\"\n                                        }`}\n                                >\n                                    <div\n                                        className={`w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ${formData.status === \"Available\" ? \"translate-x-5\" : \"translate-x-0\"\n                                            } mt-0.5 ml-0.5`}\n                                    ></div>\n                                </div>\n\n                            </label>\n                        </div>\n\n                        \n                    </div>\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"w-full bg-[#905618] text-white  py-2 px-4 rounded-md hover:bg-[#3d2e22] focus:outline-none focus:ring-2 focus:ring-[#4b382a] disabled:opacity-50 disabled:cursor-not-allowed transition-colors m-2\"\n                    >\n                        {loading ? \"Updating...\" : \"Update Food Item\"}\n                    </button>\n                </form>\n\n                <div className=\"flex flex-col items-center justify-center mt-4 md:mt-0\">\n                    <h3 className=\"text-sm font-medium text-[#4b382a] mb-2\">\n                        Image Preview\n                    </h3>\n                    {imagePreview ? (\n                        <div className=\"border-2 border-gray-300 rounded-md p-2\">\n                            <img\n                                src={imagePreview}\n                                alt=\"Food Preview\"\n                                className=\"h-48 w-48 rounded-md shadow-md object-cover\"\n                            />\n                            \n                        </div>\n                    ) : (\n                        <div className=\"relative h-48 w-48 border-2 border-dashed border-gray-300 rounded-md flex items-center justify-center text-center text-gray-400\">\n                          <span className=\"text-lg text-center\"> Recommended image size is 1:1 (100x100)</span>\n                        </div>\n                    )}\n                    <div>\n                        {/* <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                            Image Cover\n                        </label> */}\n                        <label className=\"flex mt-4 items-center justify-center w-full p-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 transition-colors\">\n                            <svg \n                                className=\"w-5 h-5 mr-2 text-[#4b382a]\" \n                                fill=\"none\" \n                                stroke=\"currentColor\" \n                                viewBox=\"0 0 24 24\"\n                            >\n                                <path \n                                    strokeLinecap=\"round\" \n                                    strokeLinejoin=\"round\" \n                                    strokeWidth={2} \n                                    d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" \n                                />\n                            </svg>\n                            <span className=\"text-sm font-medium text-[#4b382a]\">Upload Image</span>\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                name=\"image\"\n                                onChange={handleInputChange}\n                                className=\"hidden\"\n                            />\n                        </label>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                            Leave empty to keep current image\n                        </p>\n                    </div>\n                </div>\n                \n            </div>\n\n            <div className=\"flex justify-center items-center gap-4 absolute bottom-3 left-0 right-0 h-[50px] pt-2\">\n                {error && (\n                    <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n                        {error}\n                    </div>\n                )}\n\n                {success && (\n                    <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\n                        {success}\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default MEditFood;\n","size_bytes":15790},"babel.config.js":{"content":"module.exports = {\n  presets: [\n    [\n      '@babel/preset-react',\n      {\n        pragma: 'dom', // default pragma is React.createElement (only in classic runtime)\n        pragmaFrag: 'DomFrag', // default is React.Fragment (only in classic runtime)\n        throwIfNamespace: false, // defaults to true\n        runtime: 'classic', // defaults to classic\n        // importSource: 'custom-jsx-library' // defaults to react (only in automatic runtime)\n      },\n    ],\n  ],\n}\n","size_bytes":473},"src/components/A-ResOrdersDetails.jsx":{"content":"import{useState,useEffect} from \"react\";\nimport { Loading } from \"./Loading/Loading\";\n\nconst AResOrders = ({ restaurantId , restaurantName }) => {\n    const [orders, setOrders] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    console.log(restaurantName);\n    useEffect(() => {\n        const fetchOrders = async () => {\n            setLoading(true);\n            setError(null);\n            try {\n                const res = await fetch(\n                    `https://gebeta-delivery1.onrender.com/api/v1/orders/restaurant/${restaurantId}/orders`,\n                    {\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                        },\n                    }\n                );\n                const data = await res.json();\n                console.log(data);\n                if (res.ok && data.status === \"success\") {\n                    setOrders(data.data || []);\n                } else {\n                    throw new Error(data.message || \"Failed to load orders\");\n                }\n            } catch (err) {\n                console.error(\"Fetch orders error:\", err);\n                setError(err.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        if (restaurantId) {\n            fetchOrders();\n        }\n    }, [restaurantId]);\n\n    const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString();\n    };\n\n    const formatPrice = (price) => {\n        return `${price?.toFixed(2) || '0.00'}ETB`;\n    };\n\n    if (loading) {\n        return (\n            <div className=\"p-6 bg-[#f4f1e9] h-[500px]\">\n                <Loading/>\n            </div>\n        );\n    }\n\n    if (error) {\n            return (\n                <div className=\"p-6 bg-[#f4f1e9] h-[500px]\">\n                <div className=\"text-red-600 text-center\">{error}</div>\n            </div>\n        );\n    }\n\n    return ( \n        <>\n        <div className=\"p-2 bg-[#f4f1e9] \">\n            <div className=\"flex flex-col gap-2\">\n                <div className=\"flex items-center gap-2\">\n                    <h1 className=\"text-2xl font-bold text-[#4b382a]\">{restaurantName}</h1>\n                    <p className=\"text-gray-600 flex\">Total Orders: {orders.length}</p>\n                </div>\n\n                <div className=\"overflow-x-auto\">\n                    <div className=\"min-w-full bg-white rounded-md overflow-hidden shadow-md\">\n                        <table className=\"min-w-full table-fixed\">\n                            <thead className=\"bg-[#e0cda9] text-[#4b382a] sticky top-0\">\n                                <tr>\n                                    <th className=\"p-2 text-center w-8\">#</th>\n                                    <th className=\"p-2 text-center w-32\">Order Code</th>\n                                    <th className=\"p-2 text-center w-32\">Customer</th>\n                                    <th className=\"p-2 text-center w-32\">Phone</th>\n                                    <th className=\"p-2 text-center w-64\">Items</th>\n                                    <th className=\"p-2 text-start w-24\">Total Price</th>\n                                    <th className=\"p-2 text-center w-24\">Order Type</th>\n                                    <th className=\"p-2 text-start w-24 relative group cursor-pointer\">\n                                        Status\n                                        <div className=\"absolute z-50 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-300 bg-white border border-[#e0cda9] rounded-lg shadow-lg p-3 top-10 left-1/2 transform -translate-x-1/2 min-w-[180px]\">\n                                            <div className=\"space-y-1 text-xs text-left\">\n                                                <p className=\"font-semibold text-[#4b382a] border-b border-[#e0cda9] pb-1 mb-2\">Order Status Count</p>\n                                                <p><span className=\"font-medium\">Pending:</span> {orders.filter(order => order.orderStatus === 'Pending').length}</p>\n                                                <p><span className=\"font-medium\">Preparing:</span> {orders.filter(order => order.orderStatus === 'Preparing').length}</p>\n                                                <p><span className=\"font-medium\">Cooked:</span> {orders.filter(order => order.orderStatus === 'Cooked').length}</p>\n                                                <p><span className=\"font-medium\">Delivered:</span> {orders.filter(order => order.orderStatus === 'Delivered').length}</p>\n                                                <p><span className=\"font-medium\">Cancelled:</span> {orders.filter(order => order.orderStatus === 'Cancelled').length}</p>\n                                            </div>\n                                        </div>\n                                    </th>\n                                    <th className=\"p-2 text-center w-24\">Date</th>\n                                </tr>\n                            </thead>\n                        </table>\n                        <div className=\"max-h-[400px] overflow-y-auto\">\n                            <table className=\"min-w-full table-fixed\">\n                                <tbody>\n                                    {orders.length === 0 ? (\n                                        <tr>\n                                            <td colSpan=\"9\" className=\"p-4 text-center text-gray-600\">\n                                                No orders found for this restaurant.\n                                            </td>\n                                        </tr>\n                                    ) : (\n                                        orders.map((order, index) => (\n                                            <tr key={order.orderId} className={`border-b hover:bg-[#f9f4ea] ${index % 2 === 1 ? 'bg-[#f8f5f0]' : 'bg-white'}`}>\n                                                <td className=\"p-3 w-6\">{index + 1}</td>\n                                                <td className=\"p-3 font-medium w-32\">#{order.orderCode}</td>\n                                                <td className=\"p-3 w-32 text-center\">{order.userName || 'N/A'}</td>\n                                                <td className=\"p-3 w-32\">{order.phone || 'N/A'}</td>\n                                                <td className=\"p-3 w-64\">\n                                                    <div className=\"max-w-xs\">\n                                                        {order.items?.map((item, idx) => (\n                                                            <div key={idx} className=\"text-[13px]\">\n                                                                {item.foodName} (x{item.quantity}) - {formatPrice(item.price)}\n                                                            </div>\n                                                        )) || 'N/A'}\n                                                    </div>\n                                                </td>\n                                                <td className=\"p-3 font-medium w-24\">{formatPrice(order.totalFoodPrice)}</td>\n                                                <td className=\"p-3 w-24\">\n                                                    <span className={`px-2 py-1 rounded-full text-xs font-bold\n                                                        ${order.orderType === 'Delivery' ? 'bg-blue-100 text-blue-700' :\n                                                          order.orderType === 'Pickup' ? 'bg-purple-100 text-purple-700' :\n                                                          order.orderType === 'Dine In' ? 'bg-green-100 text-green-700' :\n                                                          'bg-gray-100 text-gray-700'\n                                                        }`}>\n                                                        {order.orderType || 'Unknown'}\n                                                    </span>\n                                                </td>\n                                                <td className=\"p-3 w-24\">\n                                                    <span className={`px-2 py-1 rounded-full text-xs font-bold\n                                                        ${order.orderStatus === 'Delivered' ? 'bg-gray-100 text-gray-700' :\n                                                          order.orderStatus === 'Pending' ? 'bg-yellow-100 text-yellow-700' :\n                                                          order.orderStatus === 'Preparing' ? 'bg-blue-100 text-blue-700' :\n                                                          order.orderStatus === 'Cooked' ? 'bg-green-100 text-green-700' :\n                                                          order.orderStatus === 'Cancelled' ? 'bg-red-100 text-red-700' :\n                                                          'bg-gray-100 text-gray-700'\n                                                        }`}>\n                                                        {order.orderStatus || 'Unknown'}\n                                                    </span>\n                                                </td>\n                                                <td className=\"p-3 w-24\" title={new Date(order.orderDate).toLocaleString()}>{formatDate(order.orderDate)}</td>\n                                            </tr>\n                                        ))\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </>\n     );\n}\n \nexport default AResOrders;","size_bytes":9858},"src/components/Chart/Chart.jsx":{"content":"import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { useMemo } from 'react';\nimport useUserStore from '../../Store/UseStore';\nimport Card from '../Cards/Cards';\nconst Chart = () => {\n\n\n    const { orders } = useUserStore();\n\n    const monthlyData = useMemo(() => {\n        if (!orders || orders.length === 0) return [];\n\n        const monthlyStats = {};\n\n        orders.forEach((order) => {\n            const orderDate = new Date(order?.createdAt || order?.orderDate || Date.now());\n            // Example: \"Nov 2025\"\n            const monthYearKey = orderDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });\n\n            if (!monthlyStats[monthYearKey]) {\n                monthlyStats[monthYearKey] = {\n                    month: orderDate.toLocaleDateString('en-US', { month: 'short' }),\n                    revenue: 0,\n                    sortKey: new Date(orderDate.getFullYear(), orderDate.getMonth(), 1).getTime(),\n                };\n            }\n\n            monthlyStats[monthYearKey].revenue += Number((order?.totalFoodPrice || 0).toFixed(0));\n        });\n\n        // Return last 6 months sorted ascending\n        return Object.values(monthlyStats)\n            .sort((a, b) => a.sortKey - b.sortKey)\n            .slice(-6)\n            .map(({ month, revenue }) => ({ month, revenue }));\n    }, [orders]);\n    return ( \n        <>\n        <div className=\"w-[700px] h-[390px] p-2 bg-white border border-[#e0cda9] sha rounded-lg font-noto\">\n      <h2 style={{ textAlign: 'center' }}>Website Analytics Dashboard</h2>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={monthlyData}\n          margin={{\n            top: 20,\n            right: 30,\n            left: 20,\n            bottom: 20,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#333\"/>\n          <XAxis dataKey=\"month\" />\n          <YAxis tickFormatter={(value) => ` ${value}`} />\n          <Tooltip formatter={(value) => `~ ${value} ETB`} />\n          <Legend />\n          \n          <Line \n            type=\"monotone\" \n            dataKey=\"revenue\" \n            name=\"Revenue\"\n            stroke=\"#000000\" \n            strokeWidth={3}\n          />\n          \n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n\n\n        </> \n    );\n}\n \nexport default Chart;","size_bytes":2390},"src/pages/M-DemoPages/RecentOrdersTB.jsx":{"content":"import Card from \"../../components/Cards/Cards\";\nimport useUserStore from \"../../Store/UseStore\";\n\nconst RecentOrdersTB = () => {\n  // Get orders directly from Zustand store - no local state needed\n  const { orders, ordersLoading } = useUserStore();\n  const role = JSON.parse(sessionStorage.getItem(\"user-data\"))?.state?.user?.role;\n  const restaurantName = JSON.parse(sessionStorage.getItem(\"user-data\"))?.state?.restaurant?.name;\n\n  // Filter orders to exclude delivering and completed statuses\n  const filteredOrders = orders.filter(order => {\n    const statusLower = order.orderStatus?.toLowerCase();\n    return statusLower !== \"delivering\" && statusLower !== \"completed\" && statusLower !== \"delivered\";\n  });\n\n  // Get recent orders (last 5 orders)\n  const recentOrders = filteredOrders\n    .sort((a, b) => new Date(b.orderDate) - new Date(a.orderDate))\n    .slice(0, 5);\n\n  // Count new orders (pending status)\n  const newOrdersCount = filteredOrders.filter(order => \n    order.orderStatus?.toLowerCase() === \"pending\"\n  ).length;\n\n  const getStatusColor = (status) => {\n    const statusLower = status?.toLowerCase();\n    if (statusLower === \"pending\") return \"bg-yellow-100 text-yellow-700\";\n    if (statusLower === \"delivered\" ) return \"bg-green-100 text-green-700\";\n    if (statusLower === \"preparing\") return \"bg-blue-100 text-blue-700\";\n    if (status === \"Canceled\") return \"bg-red-100 text-red-700\";\n    if (status === \"Cooked\") return \"bg-green-100 text-green-700\";\n\n    return \"bg-green-100 text-green-700\";\n  };\n\n  const getTotalQuantity = (items) => {\n    return items?.reduce((total, item) => total + (item.quantity || 0), 0) || 0;\n  };\n\n  const getMainFoodItem = (items) => {\n    if (!items || items.length === 0) return \"N/A\";\n    const firstItem = items[0];\n    return `${firstItem.foodName}${items.length > 1 ? ` +${items.length - 1} more` : ''}`;\n  };\n  console.log(recentOrders);\n\n  return (\n    <>\n      <Card>\n        <h2 className=\"text-xl font-bold\">Recent Orders</h2>\n        <p className=\"text-sm text-placeholderText\">\n          you have <span className=\"text-primary font-semibold\">{newOrdersCount}</span> new\n          orders\n        </p>\n        {role === \"Admin\" ? (\n          <div className=\"text-center py-4\">\n            <p className=\"text-placeholderText\">Admin view - orders managed centrally</p>\n          </div>\n        ) : (\n          <>\n            {ordersLoading ? (\n              <div className=\"text-center py-4\">\n                <p className=\"text-placeholderText\">Loading orders...</p>\n              </div>\n            ) : recentOrders.length === 0 ? (\n              <div className=\"text-center py-4\">\n                <p className=\"text-placeholderText\">No recent orders</p>\n              </div>\n            ) : (\n              recentOrders.map((order, index) => (\n                <Card\n                  key={order.orderId || index}\n                  className=\"px- py-[2px] border-b border-gray flex items-center justify-between gap-5\"\n                >\n                  <div className=\"motion-preset-bounce motion-duration-300 text-left flex gap-2 px-1\">\n                    <div>\n                      <div className=\"px-4 py-2 text2xl text-gray-400 pb-1 w-[50px] h-[50px] flex items-center justify-center  border-gray border rounded-full bg-cardBackground motion-preset-bounce motion-duration-300 font-poppins font-bold\">{restaurantName[0]}</div>\n                    </div>\n                    <div>\n                      <p className=\"text-sm\">{getMainFoodItem(order.items)}&nbsp;x{getTotalQuantity(order.items)}</p>\n                      <p className=\"text-xs text-placeholderText\">\n                        \n                        {order.phone || \"Unknown User\"}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"\">\n                    <span\n                      className={`font-semibold text-xs flex place-self-end text-[#333] p-1 px-2 rounded-full ml-8 motion-preset-bounce ${getStatusColor(order.orderStatus)}`}\n                    >\n                      {order.orderStatus || \"Pending\"}\n                    </span>\n                    <p className=\"font-noto font-normal pr-1 text-end text-sm\">\n                      {order.totalFoodPrice || 0} ETB\n                    </p>\n                  </div>\n                </Card>\n              ))\n            )}\n          </>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default RecentOrdersTB;\n","size_bytes":4470},"src/pages/A-DemoPages/EmployList.jsx":{"content":"import { useEffect, useState } from \"react\";\n// import axios from \"axios\";\nimport Card from \"../../components/Cards/Cards\";\nimport UseHttp from \"../../services/UseHttp\";\nimport {Loading , InlineLoadingDots} from \"../../components/Loading/Loading\";\nconst EmployeeList = () => {\n  const [employees, setEmployees] = useState([]);\n  const { get, loading, error } = UseHttp();\n\n  //   const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchManagers = async () => {\n      const data = await get(\"/users\" , {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      if (data) {\n        setEmployees(data.filter(emp => emp.role === \"employee\"));\n      }\n    };\n    fetchManagers();\n  }, []);\n\n  return (\n    <div className=\"max-w-[500px]  p-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {error && <p className=\"text-red-500\">{error}</p>}\n      {employees.length > 0\n        ? employees.map((emp) => (\n            <Card key={emp.id}>\n              <h2 className=\"text-xl font-semibold\">{emp.name}</h2>\n              <p>Email: {emp.email}</p>\n              <p>Phone: {emp.phone}</p>\n            </Card>\n          ))\n        : loading && <Loading/>}\n\n    </div>\n  );\n};\n\nexport default EmployeeList;\n","size_bytes":1284},"README.md":{"content":"","size_bytes":0},"src/contexts/userIdContext.jsx":{"content":"\nimport { createContext, useContext, useState } from \"react\";\n\nconst UserIdContext = createContext();\n\nexport const UserIdProvider = ({ children }) => {\n  const [getId, setGetId] = useState(\"\");\n  const [refreshUsers, setRefreshUsers] = useState(false);\n\n  return (\n    <UserIdContext.Provider value={{ getId, setGetId , refreshUsers, setRefreshUsers}}>\n      {children}\n    </UserIdContext.Provider>\n  );\n};\n\nexport const useUserId = () => useContext(UserIdContext);\n","size_bytes":468},"src/vite.config.js":{"content":"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\n// https://vite.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  build: {\n    outDir: 'dist',\n    sourcemap: false,\n    chunkSizeWarningLimit: 1000,\n    rollupOptions: {\n      output: {\n        manualChunks: undefined,\n      },\n    },\n  },\n})\n","size_bytes":338},"src/pages/A-DemoPages/A-Restaurants.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { Trash, RefreshCcw, CirclePlus, X } from \"lucide-react\";\nimport AddRestaurantsForm from \"../../components/UserForms/A-AddRestaurantsForm\";\nimport PopupCard from \"../../components/Cards/PopupCard\";\nimport { Loading } from \"../../components/Loading/Loading\";\nimport AResOrders from \"../../components/A-ResOrdersDetails\"\nconst ACustomers = () => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedRestaurant, setExpandedRestaurant] = useState(null);\n  const [showAddRes, setShowAddRes] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [refetch, setRefetch] = useState(false);\n  const [statusDropdownId, setStatusDropdownId] = useState(null);\n  const [managerInputs, setManagerInputs] = useState({});\n  const [showOrders, setShowOrders] = useState(false);\n  const [restaurantId, setRestaurantId] = useState(null);\n  const [restaurantName, setRestaurantName] = useState(null);\n  // State for custom modal dialogs\n  const [alertInfo, setAlertInfo] = useState({ show: false, message: \"\" });\n  const [confirmDeleteInfo, setConfirmDeleteInfo] = useState({\n    show: false,\n    id: null,\n  });\n\n  // Fetch all restaurants on component mount or refetch\n  useEffect(() => {\n    const fetchRestaurants = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await fetch(\n          \"https://gebeta-delivery1.onrender.com/api/v1/restaurants/admin/list\",\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        );\n\n        const data = await res.json();\n        console.log(data)\n        if (res.ok && data.status === \"success\") {\n          setRestaurants(data.data|| []);\n        } else {\n          throw new Error(data.message || \"Failed to load restaurants.\");\n        }\n      } catch (err) {\n        console.error(\"Fetch error:\", err);\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRestaurants();\n  }, [refetch]);\n\n  // Toggles the expanded view for a restaurant row\n  const toggleExpand = (id) => {\n    setExpandedRestaurant((prev) => (prev === id ? null : id));\n  };\n\n  // Handles changing the active status of a restaurant\n  const handleStatusChange = async (id, newStatus) => {\n    try {\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/restaurants/${id}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: JSON.stringify({ active: newStatus === \"Active\" }),\n        }\n      );\n      const data = await res.json();\n      if (res.ok && data.status === \"success\") {\n        setRestaurants((prev) =>\n          prev.map((restaurant) =>\n            restaurant.id === id\n              ? { ...restaurant, active: newStatus === \"Active\" }\n              : restaurant\n          )\n        );\n        setStatusDropdownId(null);\n      } else {\n        throw new Error(data.message || \"Failed to update status.\");\n      }\n    } catch (error) {\n      console.error(\"Status update failed:\", error);\n      setAlertInfo({\n        show: true,\n        message: `Failed to update status: ${error.message}`,\n      });\n    }\n  };\n\n  // Filter restaurants based on search input\n  const filteredRestaurants = Array.isArray(restaurants)\n    ? restaurants.filter((r) =>\n        r.name.toLowerCase().includes(search.toLowerCase())\n      )\n    : [];\n\n  const formatDate = (isoString) => {\n    const date = new Date(isoString);\n    const day = String(date.getDate()).padStart(2, \"0\");\n    const month = String(date.getMonth() + 1).padStart(2, \"0\");\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n\n  const handleManagerInputChange = (id, value) => {\n    setManagerInputs((prev) => ({\n      ...prev,\n      [id]: value,\n    }));\n  };\n\n  const handleAssignManager = (id) => {\n    const phone = managerInputs[id] || \"\";\n    if (!phone) {\n      setAlertInfo({ show: true, message: \"Please enter a phone number\" });\n      return;\n    }\n\n    const assignManager = async () => {\n      try {\n        const res = await fetch(\n          `https://gebeta-delivery1.onrender.com/api/v1/restaurants/assign-manager`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n            body: JSON.stringify({\n              phone:phone,\n              restaurantId:id,\n            }),\n          }\n        );\n        console.log( \"assign\",  res)\n\n        const data = await res.json();\n        if (res.ok) {\n          setAlertInfo({\n            show: true,\n            message: \"\",\n          });\n          setTimeout(() => {\n            setAlertInfo({ show: false, message: \"\" });\n          }, 3000);\n          setRefetch((prev) => !prev);\n          setManagerInputs((prev) => ({ ...prev, [id]: \"\" }));\n        } else {\n          throw new Error(data.message || \"Failed to assign manager\");\n        }\n      } catch (err) {\n        console.error(\"Assign manager error:\", err);\n        setAlertInfo({\n          show: true,\n          message: `Failed to assign manager: ${err.message}`,\n        });\n      }\n    };\n    assignManager();\n  };\n\n  const handelShowOrders = (restaurantId , restaurantName) => {\n    setShowOrders(prev => !prev);\n    setRestaurantId(restaurantId);\n    setRestaurantName(restaurantName);\n  }\n\n  return (\n    <>\n    {showOrders && (\n      <PopupCard>\n        <div className=\"w-[1200px]\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold text-[#4b382a] border-b-2 border-[#e0cda9]\">\n            Restaurant Orders\n          </h1>\n          <button\n            onClick={() => setShowOrders(false)}\n            className=\"text-red-500 hover:text-red-700\"\n          >\n            <X size={28} />\n          </button>\n        </div>\n        <div className=\"max-h-[75vh]\">\n          <AResOrders restaurantId={restaurantId} restaurantName={restaurantName}/>\n        </div>\n        </div>\n      </PopupCard>\n    )}\n    <div className=\"p-6 h-[calc(100vh-65px)] bg-[#f4f1e9] font-sans overflow-y-auto\">\n      <h1 className=\"text-3xl font-bold text-[#4b382a] mb-4 pl-6\">\n        List of Management\n      </h1>\n\n      <div className=\"flex flex-wrap items-center gap-4 mb-4\">\n        <input\n          type=\"text\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          placeholder=\"Search restaurants...\"\n          className=\"p-2 flex-grow sm:flex-grow-0 sm:w-1/2 border border-[#bfa66a] rounded-md focus:outline-none focus:ring-2 focus:ring-[#bfa66a]\"\n        />\n        <button\n          className=\"bg-[#e0cda9] p-2 rounded-md transition-transform duration-500 hover:scale-110\"\n          onClick={() => setRefetch(!refetch)}\n          title=\"Refresh Data\"\n        >\n          <span\n            className={`flex justify-center items-center ${\n              loading ? \"animate-spin\" : \"\"\n            }`}\n          >\n            <RefreshCcw size={24} color=\"#4b382a\" />\n          </span>\n        </button>\n        <button\n          className=\"bg-[#e0cda9] p-2 rounded-md transition-transform duration-500 active:-rotate-6 transform-all flex items-center\"\n          onClick={() => setShowAddRes(true)}\n        >\n          <span className=\"flex items-center text-[#4b382a] font-semibold\">\n            <CirclePlus strokeWidth={1.5} color=\"#4b382a\" className=\"mr-2\" />\n            Add Restaurant\n          </span>\n        </button>\n      </div>\n\n      {showAddRes && (\n        <PopupCard>\n          <div className=\"flex justify-between items-center mb-4\">\n            <h1 className=\"text-2xl font-bold text-[#4b382a] border-b-2 border-[#e0cda9]\">\n              Add Restaurant\n            </h1>\n            <button\n              onClick={() => setShowAddRes(false)}\n              className=\"text-red-500 hover:text-red-700\"\n            >\n              <X size={28} />\n            </button>\n          </div>\n          <AddRestaurantsForm />\n        </PopupCard>\n      )}\n\n      {alertInfo.show && (\n          <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-xs flex items-center justify-center absolute top-28 right-10 motion-preset-confetti motion-duration-700\">\n            <p className=\"text-green-600 text-lg\">successfully assigned manager</p>\n           \n            \n          </div>\n      )}\n\n      {loading ? (\n        <Loading />\n      ) : error ? (\n        <p className=\"text-red-600 text-lg bg-red-100 p-4 rounded-md\">\n          Error: {error}. Please try again.\n        </p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white rounded-md overflow-hidden shadow-md\">\n            <thead className=\"bg-[#e0cda9] text-[#4b382a] sticky top-0\">\n              <tr>\n                <th className=\"p-3 text-left\">#</th>\n                <th className=\"p-3 text-left\">Restaurant Name</th>\n                <th className=\"p-3 text-left\">Cuisine</th>\n                <th className=\"p-3 text-left\">Location</th>\n                <th className=\"p-3 text-center\">Delivery</th>\n                <th className=\"p-3 text-center\">Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredRestaurants.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"p-4 text-center text-gray-600\">\n                    No restaurants found.\n                  </td>\n                </tr>\n              ) : (\n                filteredRestaurants.map((restaurant, index) => (\n                  <React.Fragment key={restaurant.id}>\n                    <tr\n                      className=\"border-b hover:bg-[#f9f4ea] cursor-pointer\"\n                      onClick={() => toggleExpand(restaurant.id)}\n                    >\n                      <td className=\"p-3\">{index + 1}</td>\n                      <td className=\"p-3 font-medium\">{restaurant.name}</td>\n                      <td className=\"p-3 text-gray-700\">\n                        {restaurant.cuisineTypes?.join(\", \") || \"N/A\"}\n                      </td>\n                      <td className=\"p-3 text-gray-700\">\n                        {restaurant.location?.address || \"N/A\"}\n                      </td>\n                      <td className=\"p-3 space-x-2 text-center\">\n                        <p>\n                          {restaurant.isDeliveryAvailable\n                            ? \"Available\"\n                            : \"Not Available\"}\n                        </p>\n                      </td>\n                      <td\n                        className=\"p-3 relative text-center\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <button\n                          onClick={() =>\n                            setStatusDropdownId(\n                              statusDropdownId === restaurant.id\n                                ? null\n                                : restaurant.id\n                            )\n                          }\n                          className={`px-3 py-1 rounded-full text-xs font-bold flex items-center justify-center gap-1 cursor-pointer transition-colors w-24 mx-auto\n                            ${\n                              restaurant.isActive\n                                ? \"bg-green-100 text-green-700 hover:bg-green-200\"\n                                : \"bg-red-100 text-red-700 hover:bg-red-200\"\n                            }`}\n                        >\n                          {restaurant.isActive ? \"Active\" : \"Inactive\"}\n                          <svg\n                            className=\"w-3 h-3 ml-1\"\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M19 9l-7 7-7-7\"\n                            />\n                          </svg>\n                        </button>\n\n                        {statusDropdownId === restaurant.id && (\n                          <div className=\"absolute z-10 mt-2 left-1/2 -translate-x-1/2 bg-white border border-gray-200 rounded shadow-lg w-28\">\n                            <button\n                              onClick={() =>\n                                handleStatusChange(restaurant.id, \"Active\")\n                              }\n                              className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-700\"\n                            >\n                              Active\n                            </button>\n                            <button\n                              onClick={() =>\n                                handleStatusChange(restaurant.id, \"Inactive\")\n                              }\n                              className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700\"\n                            >\n                              Inactive\n                            </button>\n                          </div>\n                        )}\n                      </td>\n                    </tr>\n                    {expandedRestaurant === restaurant.id && (\n                      <tr className=\"bg-[#f6efe0] text-sm\">\n                        <td colSpan=\"6\" className=\"p-4\">\n                          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-2 gap-x-4 px-4\">\n                            <p>\n                              <span className=\"font-semibold text-[#4b382a]\">\n                                Description:\n                              </span>{\" \"}\n                              {restaurant.description || \"N/A\"}\n                            </p>\n                            <p>\n                              <span className=\"font-semibold text-[#4b382a]\">\n                                Rating:\n                              </span>{\" \"}\n                              {restaurant.ratingAverage\n                                ? `${restaurant.ratingAverage.toFixed(1)} (${\n                                    restaurant.ratingQuantity\n                                  } votes)`\n                                : \"N/A\"}\n                            </p>\n                            \n                            <p>\n                              <span className=\"font-semibold text-[#4b382a]\">\n                                License:\n                              </span>{\" \"}\n                              {restaurant.license || \"N/A\"}\n                            </p>\n                            <p>\n                              <span className=\"font-semibold text-[#4b382a]\">\n                                Restaurant is:\n                              </span>{\" \"}\n                              <span className={`font-semibold ${restaurant.isOpenNow ? 'text-green-600' : 'text-red-600'}`}>\n\n                              {restaurant.isOpenNow ? \"Open\" : \"Closed\"}\n                              </span>\n                            </p>\n                            <p>\n                              <span className=\"font-semibold text-[#4b382a]\">\n                                Created At:\n                              </span>{\" \"}\n                              {formatDate(restaurant.createdAt)}\n                            </p>\n                            <div>\n                              \n                            <button className=\"bg-[#e0cda9] border-[#b88c69] border text-[#4b382a] p-2  rounded-md mt-1 cursor-pointer\" \n                            onClick={() => handelShowOrders(restaurant.id , restaurant.name)}>\n                              See Orders details\n                              </button>\n                            </div>\n                            {restaurant.manager &&\n                            typeof restaurant.manager === \"object\" ? (\n                              <>\n                                <div className=\"relative group  h-fit w-fit\">\n                                  <p className=\"cursor-pointer\">\n                                    <span className=\"font-semibold text-[#4b382a]\">\n                                      Manager Name:\n                                    </span>{\" \"}\n                                    {`${restaurant.manager.name || \"\"} `.trim() || \"N/A\"}\n                                  </p>\n                                  \n                                  {/* Hover tooltip with manager details - positioned to the right */}\n                                  <div className=\"absolute z-50 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-300 bg-white border border-[#e0cda9] rounded-lg shadow-lg p-3 bottom-5 left-100 ml-2 min-w-[200px]\">\n                                    <div className=\"space-y-1 text-xs\">\n                                      <p><span className=\"font-semibold\">Full Name:</span> {`${restaurant.manager.name || \"\"}`.trim() || \"N/A\"}</p>\n                                      <p><span className=\"font-semibold\">Phone:</span> {restaurant.manager.phone || \"N/A\"}</p>\n                                      <p><span className=\"font-semibold\">ID:</span> {restaurant.manager.id || \"N/A\"}</p>\n                                      {restaurant.manager.createdAt && (\n                                        <p><span className=\"font-semibold\">Joined:</span> {new Date(restaurant.manager.createdAt).toLocaleDateString()}</p>\n                                      )}\n                                    </div>\n                                  </div>\n                                </div>\n                                \n                              </>\n                            ) : (\n                              <div className=\" \">\n                                <p className=\"font-semibold text-gray-500 mb-2\">\n                                  Manager Details: N/A\n                                </p>\n                              </div>\n                            )}\n                            <div>\n                              <label className=\"font-semibold text-[#4b382a]\">\n                                Reassign Manager\n                              </label>\n                              <div className=\"flex gap-2\">\n                                <input\n                                  className=\"w-[150px] border border-[#e0cda9] rounded-md p-1 mt-1\"\n                                  value={managerInputs[restaurant.id] || \"\"}\n                                  onChange={(e) =>\n                                    handleManagerInputChange(\n                                      restaurant.id,\n                                      e.target.value\n                                    )\n                                  }\n                                  onClick={(e) => e.stopPropagation()}\n                                  placeholder=\"+251...\"\n                                />\n                                <button\n                                  className=\"bg-[#e0cda9] border-[#b88c69] border text-[#4b382a] px-2 py-1 rounded-md mt-1 cursor-pointer\"\n                                  onClick={() =>\n                                    handleAssignManager(restaurant.id)\n                                  }\n                                >\n                                  Assign\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                    )}\n                  </React.Fragment>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n    </>\n  );\n};\n\nexport default ACustomers;","size_bytes":20241},"src/pages/LoginPage.jsx":{"content":"import AuthLayout from \"../Layouts/AuthLayout\";\nimport LoginForm from \"../components/AuthForms/LoginForm\";\nconst LoginPage = () => {\n  return (\n    <>\n      <AuthLayout>\n        <div className=\"  translate-x-[200px] motion-preset-slide-right \">\n          <LoginForm />\n        </div>\n        <div className=\"bg-[url('https://res.cloudinary.com/drinuph9d/image/upload/v1761893464/food_images/food_1761893464021_login.jpg')] bg-contain bg-no-repeat bg-center md:h-[600px] h-[580px] lg:w-[400px] w-[440px] rounded-xl shadow-2xl shadow-black/50\"></div>\n      </AuthLayout>\n    </>\n  );\n};\n\nexport default LoginPage;\n","size_bytes":612},"src/components/VPLocation/WaveDivider.css":{"content":".custom-shape-divider-bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    overflow: hidden;\n    line-height: 0;\n    transform: rotate(180deg);\n  }\n  \n  .custom-shape-divider-bottom svg {\n    position: relative;\n    display: block;\n    width: calc(100% + 1.3px);\n    height: 150px;\n\n  }\n  \n  .custom-shape-divider-bottom .shape-fill {\n    fill: #f4f1e9;\n  }\n  \n  /** For mobile devices **/\n  @media (max-width: 767px) {\n    .custom-shape-divider-bottom svg {\n      width: calc(163% + 1.3px);\n      height: 132px;\n    }\n  }","size_bytes":551},"src/components/UserForms/A-AddUserForm.jsx":{"content":"import { useState, useRef } from \"react\";\nimport Webcam from \"react-webcam\";\nimport axios from \"axios\";\nimport { CloudCog } from \"lucide-react\";\nimport VerifyForm from \"../AuthForms/VerifyForm\";\n\nconst InlineLoadingDots = () => <span className=\"inline-block text-white\">. . .</span>;\n\nconst AddUserForm = () => {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phone: \"\",\n    passwordConfirm: \"\",\n    role: \"Customer\",\n    deliveryMethod: \"Car\",\n    fcnNumber: \"\",\n  });\n\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [isCameraActive, setIsCameraActive] = useState(false);\n  const [isPhotoSaved, setIsPhotoSaved] = useState(false);\n  const [showVerifyForm, setShowVerifyForm] = useState(false);\n  const [submittedPhone, setSubmittedPhone] = useState(\"\");\n\n  const webcamRef = useRef(null);\n\n  const roles = [\n    { value: \"Customer\", label: \"Customer\" },\n    { value: \"Manager\", label: \"Manager\" },\n    { value: \"Delivery_Person\", label: \"Delivery Person\" },\n  ];\n\n  const vehicleTypes = [\n    { value: \"Car\", label: \"Car\" },\n    { value: \"Motor\", label: \"Motor\" },\n    { value: \"Bicycle\", label: \"Bicycle\" },\n  ];\n\n  // --- SAVE PHOTO FUNCTION ---\n  const savePhoto = async () => {\n    if (!profilePicture) {\n      setError(\"No photo to save. Please capture a photo first.\");\n      return;\n    }\n\n    setLoading(true); // Indicate saving process\n    setError(null); // Clear previous errors\n\n    try {\n      // Convert base64 to blob for better handling\n      const response = await fetch(profilePicture);\n      const blob = await response.blob();\n\n\n      // Create a file from the blob\n      const fileName = `profile_${formData.firstName || 'user'}_${Date.now()}.png`;\n      const file = new File([blob], fileName, { type: 'image/png' });\n\n      // Save to localStorage for persistence\n      // localStorage.setItem('tempProfilePicture', profilePicture);\n      // localStorage.setItem('tempProfilePictureTimestamp', Date.now().toString());\n\n      // Trigger download\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      console.log(profilePicture);\n\n\n\n      // Assuming the server returns the URL of the uploaded image\n      const uploadedImageUrl = uploadResponse.data.imageUrl;\n      console.log('File uploaded successfully:', uploadedImageUrl);\n\n      // Optionally update the profile picture state with the server URL\n      // setProfilePicture(uploadedImageUrl);\n\n      // Mark as saved\n      setIsPhotoSaved(true);\n      alert(\"📸 Photo saved successfully, downloaded, and uploaded to server!\");\n    } catch (error) {\n      console.error('Error saving photo:', error);\n      if (error.response) {\n        // Server responded with error\n        setError(`Failed to upload photo: ${error.response.data?.message || 'Server error'}`);\n      } else if (error.request) {\n        // Network error\n        setError(\"Network error. Please check your connection and try again.\");\n      }\n    } finally {\n      setLoading(false); // Reset loading state\n    }\n  };\n\n  // --- CAPTURE PHOTO FUNCTION ---\n  const capture = () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (imageSrc) {\n      setProfilePicture(imageSrc);\n      setIsCameraActive(false);\n    }\n  };\n  \n  console.log(formData.phone);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (\n      !formData.firstName ||\n      !formData.lastName ||\n      !formData.phone ||\n      (formData.role === \"Delivery_Person\" && !profilePicture) ||\n      (formData.role === \"Manager\" && !formData.fcnNumber)\n    ) {\n      setError(\"All required fields are needed\");\n      return;\n    }\n\n    setError(null);\n    setLoading(true);\n\n    const sanitizedPhone = formData.phone.startsWith(\"0\")\n      ? formData.phone.slice(1)\n      : formData.phone;\n\n    try {\n      let response;\n\n      // For Delivery Person, use FormData with image file\n      if (formData.role === \"Delivery_Person\") {\n        const formDataPayload = new FormData();\n\n        // Append all form fields\n        formDataPayload.append(\"firstName\", formData.firstName);\n        formDataPayload.append(\"lastName\", formData.lastName);\n        formDataPayload.append(\"phone\", sanitizedPhone);\n        formDataPayload.append(\"role\", formData.role);\n        formDataPayload.append(\"deliveryMethod\", formData.deliveryMethod);\n        if (formData.fcnNumber) {\n          formDataPayload.append(\"fcnNumber\", formData.fcnNumber);\n        }\n\n        // Convert base64 profilePicture to image file\n        if (profilePicture) {\n          const response = await fetch(profilePicture);\n          const blob = await response.blob();\n          const fileName = `profile_${formData.firstName}_${Date.now()}.png`;\n          const file = new File([blob], fileName, { type: 'image/png' });\n          formDataPayload.append(\"profilePicture\", file);\n        }\n\n        response = await axios.post(\n          \"https://gebeta-delivery1.onrender.com/api/v1/users\",\n          formDataPayload,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n\n\n      } else {\n        // For other roles, use regular JSON payload\n        const payload = {\n          ...formData,\n          phone: sanitizedPhone,\n        };\n\n        response = await axios.post(\n          \"https://gebeta-delivery1.onrender.com/api/v1/users\",\n          payload,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n\n      }\n     \n      if (response.data) {\n        setSubmittedPhone(sanitizedPhone);\n        setFormData({\n          firstName: \"\",\n          lastName: \"\",\n          phone: \"\",\n          password: \"\",\n          passwordConfirm: \"\",\n          role: \"Customer\",\n          deliveryMethod: \"Car\",\n          fcnNumber: \"\",\n        });\n        setProfilePicture(null);\n        setIsPhotoSaved(false);\n        setShowVerifyForm(true);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || \"Failed to add user\");\n      console.log(err.response?.data?.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"relative\">\n      {/* FULL-SCREEN CAMERA VIEW USING react-webcam */}\n      {isCameraActive && (\n        <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black bg-opacity-90 rounded-lg\">\n          <Webcam\n            ref={webcamRef}\n            audio={false}\n            mirrored={true}\n            screenshotFormat=\"image/png\"\n            className=\"w-full max-w-md rounded-xl border-4 border-[#deb770] shadow-lg\"\n            videoConstraints={{\n              width: 640,\n              height: 480,\n              facingMode: \"user\",\n            }}\n          />\n          <div className=\"flex gap-4 mt-6\">\n            <button\n              onClick={capture}\n              className=\"bg-green-600 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-green-700\"\n            >\n              Capture\n            </button>\n            <button\n              onClick={() => setIsCameraActive(false)}\n              className=\"bg-gray-500 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-gray-600\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* FORM */}\n      <form onSubmit={handleSubmit} className=\"flex flex-col\">\n        <div className={`flex md:gap-2 ${showVerifyForm ? \"hidden\" : \"\"}`}>\n          <div>\n            {/* Role Selection */}\n            <div className=\"gap-6 mb-6\">\n              <label className=\"block font-semibold text-gray-700 mb-2\">Role</label>\n              <div className=\"flex rounded-lg overflow-hidden shadow-sm mb-1\">\n                {roles.map((role) => (\n                  <button\n                    key={role.value}\n                    type=\"button\"\n                    className={`flex-1 px-4 py-3 border border-[#f0d5b9] text-sm font-medium transition-all duration-200 ${formData.role === role.value\n                        ? \"bg-[#deb770] text-white font-semibold shadow-inner\"\n                        : \"bg-white text-gray-700 hover:bg-gray-50\"\n                      }`}\n                    onClick={() => setFormData({ ...formData, role: role.value })}\n                  >\n                    {role.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Names */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"flex flex-col\">\n                <label className=\"mb-2 font-medium text-gray-700\">First Name <span className=\"text-red-500\">*</span></label>\n                <input\n                  type=\"text\"\n                  value={formData.firstName}\n                  onChange={(e) =>\n                    setFormData({ ...formData, firstName: e.target.value })\n                  }\n                  className=\"w-full p-2 border border-[#f0d5b9] rounded-lg focus:ring-2 focus:ring-[#deb770] focus:border-transparent transition-all\"\n                  placeholder=\"Enter first name\"\n                />\n              </div>\n\n              <div className=\"flex flex-col\">\n                <label className=\"mb-2 font-medium text-gray-700\">Last Name <span className=\"text-red-500\">*</span></label>\n                <input\n                  type=\"text\"\n                  value={formData.lastName}\n                  onChange={(e) =>\n                    setFormData({ ...formData, lastName: e.target.value })\n                  }\n                  className=\"w-full p-2 border border-[#f0d5b9] rounded-lg focus:ring-2 focus:ring-[#deb770] focus:border-transparent transition-all\"\n                  placeholder=\"Enter last name\"\n                />\n              </div>\n            </div>\n\n            {/* Phone and FCN ID */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              <div className=\"flex flex-col\">\n                <label className=\"mb-2 font-medium text-gray-700\">Phone <span className=\"text-red-500\">*</span></label>\n                <input\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) =>\n                    setFormData({ ...formData, phone: e.target.value })\n                  }\n                  className=\"w-full p-2 border border-[#f0d5b9] rounded-lg focus:ring-2 focus:ring-[#deb770] focus:border-transparent transition-all\"\n                  placeholder=\"Enter phone number\"\n                />\n              </div>\n              <div className=\"flex flex-col\">\n                <label className=\"mb-2 font-medium text-gray-700\">\n                  FCN ID\n                  <span className={formData.role === \"Customer\" ? \" hidden\" : \"text-red-500\"}> *</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.fcnNumber}\n                  onChange={(e) =>\n                    setFormData({ ...formData, fcnNumber: e.target.value })\n                  }\n                  className=\"w-full p-2 border border-[#f0d5b9] rounded-lg focus:ring-2 focus:ring-[#deb770] focus:border-transparent transition-all\"\n                  placeholder=\"Enter FCN ID\"\n                  disabled={formData.role === \"Customer\"}\n                />\n              </div>\n            </div>\n\n            {/* Password Fields */}\n\n          </div>\n\n          {/* Vehicle Type - Only show for Delivery Person */}\n          {formData.role === \"Delivery_Person\" && (\n            <div className=\"m-6 motion-preset-blur-right\">\n              <label className=\"block font-medium text-gray-700 mb-3\">Vehicle Type</label>\n              <div className=\"flex gap-0 rounded-lg overflow-hidden shadow-sm my-5\">\n                {vehicleTypes.map((vehicle) => (\n                  <button\n                    key={vehicle.value}\n                    type=\"button\"\n                    className={`flex-1 px-4 py-3 border border-[#f0d5b9] text-sm font-medium transition-all duration-200 ${formData.deliveryMethod === vehicle.value\n                        ? \"bg-[#deb770] text-white font-semibold shadow-inner\"\n                        : \"bg-white text-gray-700 hover:bg-gray-50\"\n                      }`}\n                    onClick={() => setFormData({ ...formData, deliveryMethod: vehicle.value })}\n                  >\n                    {vehicle.label}\n                  </button>\n                ))}\n              </div>\n              <div className=\"mb-0\">\n                <div className=\"flex flex-col items-center bg-white p-2 rounded-xl border border-[#f0d5b9] shadow-sm\">\n                  <label className=\"mb-2 font-semibold text-gray-700 text-center\">\n                    Profile Picture\n                  </label>\n                  {profilePicture ? (\n                    <div className=\"flex flex-col items-center\">\n                      <img\n                        src={profilePicture}\n                        alt=\"Profile\"\n                        className=\"w-32 h-32 rounded-full object-cover mb-4 border-4 border-[#deb770] shadow-lg\"\n                      />\n                      <div className=\"flex gap-3\">\n                        <button\n                          type=\"button\"\n                          onClick={savePhoto}\n                          className=\"px-4 py-2 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium transition-colors shadow-sm\"\n                        >\n                          Save Photo\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setProfilePicture(null);\n                            setIsCameraActive(true);\n                          }}\n                          className=\"px-4 py-2 text-sm text-red-500 hover:text-red-700 font-medium transition-colors border border-red-300 rounded-lg hover:bg-red-50\"\n                        >\n                          Retake Photo\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={() => setIsCameraActive(true)}\n                      className=\"px-6 py-3 text-sm bg-[#e0cda9] text-gray-800 rounded-lg hover:bg-[#deb770] font-medium transition-colors shadow-sm\"\n                    >\n                      📷 Take Photo\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className={`pt-2 ${showVerifyForm ? \"hidden\" : \"\"}`}>\n          <button\n            type=\"submit\"\n            // onClick={() => setShowVerifyForm(true)}\n            className={`flex justify-self-end bg-[#deb770] text-white py-2 px-6 rounded-lg font-semibold text-lg shadow-lg hover:bg-[#d4a853] transition-all duration-200 ${loading ? \"cursor-not-allowed opacity-75\" : \"hover:shadow-xl\"\n              }`}\n            disabled={loading}\n          >\n            {loading ? <InlineLoadingDots /> : \"Add User\"}\n          </button>\n          {error && (\n            <div className=\"mb-4 p-4 text-red-700 bg-red-100 border border-red-300 rounded-lg\">\n              <p className=\"text-sm font-medium\">{error}</p>\n            </div>\n          )}\n        </div>\n      </form>\n      {showVerifyForm && <VerifyForm phone={submittedPhone} />}\n    </div>\n  );\n};\n\nexport default AddUserForm;","size_bytes":15998},"src/pages/TopDash.jsx":{"content":"import { useNavigation } from \"../contexts/NavigationContext\";\nimport { useState, useEffect } from \"react\";\nimport UserProfile from \"./UserProfile\";\nimport { useUserProfile } from \"../contexts/UserProfileContext\";\nimport bellSound from '../assets/N-Bell.mp3';\nimport ProtectedRoute from \"../components/ProtectedRoute\";\nimport { Bell } from 'lucide-react';\nimport TimerToggle from \"../components/open-close-timer\";\nconst TopDash = () => {\n  const { activeNav, setActiveNav } = useNavigation();\n  const [Title, setTitle] = useState(null);\n  const { userProfile , setUserProfile } = useUserProfile();\n  useEffect(() => {\n    setTitle(activeNav);\n  }, [activeNav]);\n\n  const storedUser = JSON.parse(sessionStorage.getItem(\"user-data\")).state.user;\n  const role = storedUser.role;\n  // console.log(storedUser.role);\n  return (\n    <>\n      <div className=\"pl-12 flex items-center justify-between bg-[#e0cda9] h-[65px] w-[100%] px-28 border-[#e0cd99]\">\n        <p className=\"text-3xl font-bold \">{Title}</p>\n        <div className=\"flex items-center gap-6 pt-1 justify-center\">\n          <div>\n            {role === \"Manager\" && <TimerToggle />}\n            {/* <button\n              className=\"rounded-lg p-3 hover:bg-yellow-50 border\"\n              onClick={() => {\n                const audio = new Audio(bellSound);\n                audio.play();\n              }}\n            >\n              <Bell/>\n            </button> */}\n          </div>\n          <div\n            onClick={() => {\n              setUserProfile(true);\n            }}\n            className=\"flex hover:border items-center gap-2 motion-preset-slide-left motion-duration-1500  cursor-pointer hover:shadow-lg p-1 rounded-full transition-all duration-300 hover:scale-105 active:-rotate-3\"\n          >\n            <div className=\"p-5 w-[50px] h-[50px] flex items-center justify-center font-semibold text-white text-lg rounded-full bg-[#e02960] \">\n          <p>{storedUser?.firstName[0]}</p>\n            </div>\n            <p className=\"text-lg font-semibold\">{storedUser?.firstName}</p>\n          </div>\n        </div>\n      </div>\n      {/* {userProfile   && <UserProfile />} */}\n{/* && storedUser?.role === \"Manager\"  */}\n    </>\n  );\n};\n\nexport default TopDash;\n","size_bytes":2227},"src/components/UserForms/A-EditUser.jsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Webcam from \"react-webcam\";\nimport { useUserId } from \"../../contexts/userIdContext\";\nimport { Loading, InlineLoadingDots } from \"../Loading/Loading\";\n\nconst EditUser = ({ id, phone }) => {\n  const navigate = useNavigate();\n  console.log(id, phone);\n\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phone: \"\",\n    fcnNumber: \"\",\n    deliveryMethod: \"\",\n    role: \"\",\n    profilePicture: \"\"\n  });\n\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [errorMg, setErrorMg] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isCameraActive, setIsCameraActive] = useState(false);\n\n  const webcamRef = useRef(null);\n\n  // Fetch current user data\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const res = await fetch(\n          `https://gebeta-delivery1.onrender.com/api/v1/users/getUser?id=${id}`,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        );\n        const result = await res.json();\n        setFormData({\n          firstName: result.data.user.firstName || \"\",\n          lastName: result.data.user.lastName || \"\",\n          fcnNumber: result.data.user.fcnNumber || \"\",\n          phone: result.data.user.phone || \"\",\n          role: result.data.user.role || \"\",\n          deliveryMethod: result.data.user.deliveryMethod || \"\",\n          profilePicture: result.data.user.profilePicture || \"\",\n        });\n      } catch (err) {\n        setErrorMg(\"Failed to load user info\");\n      }\n    };\n\n    if (id) fetchUser();\n  }, [id]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Capture photo from webcam\n  const capture = () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (imageSrc) {\n      setProfilePicture(imageSrc);\n      setIsCameraActive(false);\n    }\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    setErrorMg(\"\");\n    setSuccess(\"\");\n\n    try {\n      const sanitizedPhone =\n        formData.phone.startsWith(\"0\")\n          ? formData.phone.slice(1)\n          : formData.phone;\n      const form = new FormData();\n      form.append(\"firstName\", formData.firstName);\n      form.append(\"lastName\", formData.lastName);\n      form.append(\"phone\", sanitizedPhone);\n      if(formData.role === \"Manager\" || formData.role === \"Delivery_Person\"){\n        form.append(\"role\", formData.role);\n        form.append(\"fcnNumber\", formData.fcnNumber);\n        form.append(\"deliveryMethod\", formData.deliveryMethod);\n      }\n      if(formData.role === \"Delivery_Person\"){\n        if (profilePicture) {\n          // Convert base64 to file if it's a data URL (from webcam)\n          if (typeof profilePicture === 'string' && profilePicture.startsWith('data:')) {\n            const response = await fetch(profilePicture);\n            const blob = await response.blob();\n            const fileName = `profile_${formData.firstName}_${Date.now()}.jpg`;\n            const file = new File([blob], fileName, { type: 'image/jpeg' });\n            form.append(\"profilePicture\", file);\n\n          }\n        }\n      }\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/users/${id}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: form,\n        }\n      );\n      console.log(res);\n\n      if (!res.ok) throw new Error(\"Failed to update\");\n\n      setSuccess(\"User updated successfully!\");\n    } catch (err) {\n      setErrorMg(\"Something went wrong while updating.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"\">\n      {/* FULL-SCREEN CAMERA VIEW */}\n      {isCameraActive && (\n        <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black bg-opacity-90 rounded-lg\">\n          <Webcam\n            ref={webcamRef}\n            audio={false}\n            mirrored={true}\n            screenshotFormat=\"image/png\"\n            className=\"w-full max-w-md rounded-xl border-4 border-[#deb770] shadow-lg\"\n            videoConstraints={{\n              width: 640,\n              height: 480,\n              facingMode: \"user\",\n            }}\n          />\n          <div className=\"flex gap-4 mt-6\">\n            <button\n              type=\"button\"\n              onClick={capture}\n              className=\"bg-green-600 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-green-700\"\n            >\n              Capture\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setIsCameraActive(false)}\n              className=\"bg-gray-500 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-gray-600\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"\">\n        {/* Header */}\n        {/* Horizontal Layout Card */}\n        <div className=\"bg-white  overflow-hidden \">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-0\">\n            {/* Left Panel - Profile Picture & Basic Info */}\n            <div className=\"bg-[#f4f1e9] p-2 lg:p-3 \">\n              <div className=\"text-center mb-4\">\n                <h2 className=\"text-xl font-bold text-gray-900 mb-1\">Profile Photo</h2>\n                <div className=\"relative inline-block\">\n                  <img\n                    src={profilePicture || formData.profilePicture || \"/default-avatar.png\"}\n                    alt=\"Profile\"\n                    className=\"w-24 h-24 rounded-full object-cover object-center border-2 border-[] shadow-md mx-auto\"\n                  />\n                  {/* Show edit button only for delivery persons */}\n                  {formData.role === \"Delivery_Person\" && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setIsCameraActive(true)}\n                      className=\"absolute -bottom-1 -right-1 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-all duration-200 shadow-md\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {formData.role === \"Delivery_Person\" ? \"Click to take photo\" : \"Profile photo\"}\n                </p>\n              </div>\n\n              {/* Name Row - Centered */}\n              <div className=\"space-y-3\">\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {[\"firstName\", \"lastName\"].map((field) => (\n                    <div key={field}>\n                      <label className=\"block text-xs font-semibold text-gray-700 mb-1 capitalize text-center\">\n                        {field.replace(/([A-Z])/g, ' $1').trim()}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name={field}\n                        value={formData[field]}\n                        onChange={handleChange}\n                        className=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-center\"\n                        placeholder={`Enter ${field}`}\n                      />\n                    </div>\n                  ))}\n                </div>\n\n                {/* Phone - Centered */}\n                <div>\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1 text-center\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleChange}\n                    className=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-center\"\n                    placeholder=\"Enter phone number\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Right Panel - Form Fields */}\n            <div className=\"p-2 lg:p-3\">\n              <div className=\"space-y-3\">\n                {/* FCN Number */}\n                <div>\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">\n                    FCN Number\n                    {/* <span className={formData.role && formData.role.toLowerCase() === \"customer\" ? \" hidden\" : \" text-red-500\"}> *</span> */}\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"fcnNumber\"\n                    value={formData.fcnNumber}\n                    onChange={handleChange}\n                    className=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n                    placeholder=\"Enter FCN number\"\n                    disabled={formData.role && formData.role.toLowerCase() === \"customer\"}\n                  />\n                </div>\n\n                {/* Role */}\n                <div>\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">Change Role </label>\n                  <select\n                    name=\"role\"\n                    value={formData.role}\n                    onChange={handleChange}\n                    className=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white\"\n                  >\n                    <option className=\"hidden\" value=\"\">Change Role</option>\n                    {/* <option value=\"admin\">Admin</option> */}\n                    <option \n                      value=\"Customer\" \n                      className={formData.role === \"Customer\" ? \"font-bold \" : \"\"}\n                    >\n                      Customer {formData.role === \"Customer\" && \" (Current)\"}\n                    </option>\n                    <option \n                      value=\"Manager\" \n                      className={formData.role === \"Manager\" ? \"font-bold \" : \"\"}\n                    >\n                      Manager {formData.role === \"Manager\" && \" (Current)\"}\n                    </option>\n                    <option \n                      value=\"Delivery_Person\" \n                      className={formData.role === \"Delivery_Person\" ? \"font-bold \" : \"\"}\n                    >\n                      Delivery {formData.role === \"Delivery_Person\" && \" (Current)\"}\n                    </option>\n                  </select>\n                </div>\n\n                {/* Delivery Method */}\n                <div>\n                  <label className=\"block text-xs font-semibold text-gray-700 mb-1\">vehicle type</label>\n                  <select\n                    name=\"deliveryMethod\"\n                    value={formData.deliveryMethod}\n                    onChange={handleChange}\n                    className=\"w-full px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white\"\n                    disabled={formData.role && (formData.role === \"Customer\" || formData.role === \"Manager\")}\n                  >\n                    <option className=\"hidden\" value=\"\">Select Delivery Method</option>\n                    <option \n                      value=\"Car\" \n                      className={formData.deliveryMethod === \"Car\" ? \"font-bold \" : \"\"}\n                    >\n                      Car {formData.deliveryMethod === \"Car\" && \" (Current)\"}\n                    </option>\n                    <option \n                      value=\"Motor\" \n                      className={formData.deliveryMethod === \"Motor\" ? \"font-bold \" : \"\"}\n                    >\n                      Motor {formData.deliveryMethod === \"Motor\" && \" (Current)\"}\n                    </option>\n                    <option \n                      value=\"Bicycle\" \n                      className={formData.deliveryMethod === \"Bicycle\" ? \"font-bold \" : \"\"}\n                    >\n                      Bicycle {formData.deliveryMethod === \"Bicycle\" && \" (Current)\"}\n                    </option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Messages - Right Aligned */}\n              <div className=\"mt-2 space-y-1\">\n                {errorMg && (\n                  <div className=\"p-2 bg-red-50 border border-red-200 rounded-lg\">\n                    <p className=\"text-red-600 text-xs\">{errorMg}</p>\n                  </div>\n                )}\n                \n                {success && (\n                  <div className=\"p-2 bg-green-50 border border-green-200 rounded-lg\">\n                    <p className=\"text-green-600 text-xs\">{success}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Bottom Action Bar */}\n          <div className=\"bg-[#f4f1e9] px-2 py-2 flex justify-end\">            \n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              disabled={loading}\n              className={`px-4 py-2 rounded-lg font-semibold text-white transition-all duration-200 shadow ${\n                loading\n                  ? 'bg-gray-400 cursor-not-allowed'\n                  : 'bg-gradient-to-r from-[#deb770] to-[#deb770] hover:from-[#deb770] hover:to-[#deb770] active:scale-95'\n              }`}\n            >\n              {loading ? (\n                <div className=\"flex justify-center\">\n                  <div className=\"flex items-center\">\n                    <InlineLoadingDots />\n                  </div>\n                </div>\n              ) : (\n                \"Update Profile\"\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditUser;","size_bytes":14492},"src/components/open-close-timer.jsx":{"content":"import { useState, useMemo } from \"react\";\n\nconst TimerToggle = () => {\n  // Get user data from sessionStorage and extract isOpenNow status\n  const userData = useMemo(() => {\n    try {\n      return JSON.parse(sessionStorage.getItem(\"user-data\"));\n    } catch {\n      return null;\n    }\n  }, []);\n  const restaurantFromStore = userData?.state?.restaurant;\n  const [isOpen, setIsOpen] = useState(Boolean(restaurantFromStore?.isOpenNow));\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [successMsg, setSuccessMsg] = useState(\"\");\n\n  // Handle switch toggle and PATCH request\n  const handleToggle = async () => {\n    setLoading(true);\n    setError(\"\");\n    setSuccessMsg(\"\");\n    try {\n      const formData = new FormData();\n      formData.append(\"isOpenNow\", String(!isOpen));\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/restaurants/${restaurantFromStore?.id}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: formData,\n        }\n      );\n      const result = await res.json();\n\n      if (res.ok && result.status === \"success\") {\n        setIsOpen(prev => !prev);\n        setSuccessMsg(`Restaurant is now ${!isOpen ? \"OPEN\" : \"CLOSED\"}.`);\n        // Also update sessionStorage to persist change\n        try {\n          const existing = sessionStorage.getItem(\"user-data\");\n          const parsed = existing ? JSON.parse(existing) : null;\n          const responseRestaurant =\n            result?.data?.restaurant ||\n            result?.data?.updatedRestaurant ||\n            result?.restaurant ||\n            null;\n          const updatedRestaurant = responseRestaurant\n            ? responseRestaurant\n            : { ...(parsed?.state?.restaurant || restaurantFromStore), isOpenNow: !isOpen };\n          const nextUserData = parsed\n            ? { ...parsed, state: { ...parsed.state, restaurant: updatedRestaurant } }\n            : { state: { restaurant: updatedRestaurant } };\n          sessionStorage.setItem(\"user-data\", JSON.stringify(nextUserData));\n        } catch (_) { }\n      } else {\n        setError(result?.message || \"Failed to update status.\");\n      }\n    } catch (err) {\n      setError(\"Network error. Try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center gap-3 scale-90\">\n      <label className=\"relative inline-flex items-center cursor-pointer\">\n        <input\n          type=\"checkbox\"\n          className=\"sr-only\"\n          checked={isOpen}\n          onChange={handleToggle}\n          disabled={loading}\n        />\n        <div\n          className={`relative w-20 h-8 rounded-full transition-colors duration-200 border-2 ${isOpen ? \"bg-green-500 border-green-500\" : \"bg-gray-300 border-red-\"\n            }`}\n        >\n          {/* Text inside the switch */}\n          <span\n            className={`absolute top-1/2 transform -translate-y-1/2 text-[10px] font-semibold tracking-wide transition-all duration-200 ${isOpen\n                ? \"left-2 text-white\" // Move left when open\n                : \"right-2 text-gray-700\" // Move right when closed\n              }`}\n          >\n            {isOpen ? \"OPEN\" : \"CLOSED\"}\n          </span>\n\n          {/* Knob */}\n          <div\n            className={`absolute top-[3px] left-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-200 ${isOpen ? \"translate-x-12\" : \"translate-x-0 bg-red-300\"\n              }`}\n          ></div>\n        </div>\n      </label>\n\n      \n    </div>\n\n  );\n};\n\nexport default TimerToggle;\n","size_bytes":3676},"src/services/HttpMethods.js":{"content":"import api from \"./api\";\n\n// GET\nexport const getData = (endpoint, headers = {}) =>\n  api.get(endpoint, { headers });\n\n// POST\nexport const postData = (endpoint, payload, headers = {}) =>\n  api.post(endpoint, payload, { headers });\n\n// PATCH\nexport const patchData = (endpoint, payload, headers = {}) =>\n  api.patch(endpoint, payload, { headers });\n\n// DELETE\nexport const deleteData = (endpoint, headers = {}) =>\n  api.delete(endpoint, { headers });\n","size_bytes":451},"src/Layouts/dashboardLayout.jsx":{"content":"import ManagerSidebar from \"../components/Sidebar/M-sidebar\";\nimport { useState } from \"react\";\nimport { PanelLeftClose, PanelRightClose } from \"lucide-react\";\nimport TopDash from \"../pages/TopDash\";\nconst DashboardLayout = ({ children }) => {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  return (\n    <div className=\"flex\">\n      {sidebarOpen && (\n        <div className=\"motion-preset-slide-right motion-duration-300\">\n          <ManagerSidebar />\n        </div>\n      )}\n      <button\n        className={`fixed top-[77px] -left-1 bg-[#e0cda9] p-2 border border-[#ceb07a] rounded-r-lg transition-all duration-300 z-20 ${sidebarOpen ? \"\" : \"pl-3\"}`}\n        onClick={() => setSidebarOpen(!sidebarOpen)}\n      >\n        {sidebarOpen ? (\n          <PanelLeftClose size={25} />\n        ) : (\n          <PanelRightClose size={25} />\n        )}\n      </button>\n      <div className=\"flex flex-col w-[100%] h-[100%]\">\n      <TopDash /> \n      <main className=\"w-[100%] h-[100%]\">{children}</main>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardLayout;\n","size_bytes":1071},"vite.config.js":{"content":"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\n// https://vite.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  build: {\n    outDir: 'dist',\n    sourcemap: false,\n    chunkSizeWarningLimit: 1000,\n    rollupOptions: {\n      output: {\n        manualChunks: undefined,\n      },\n    },\n  },\n})\n","size_bytes":338},"src/pages/ForgotPassPage.jsx":{"content":"import AuthLayout from \"../Layouts/AuthLayout\";\nimport ForgotPassForm from \"../components/AuthForms/ForgotPassForm\";\nconst ForgotPassPage = () => {\n    return ( \n        <>\n        <AuthLayout>\n            <ForgotPassForm />\n        </AuthLayout>\n        </>\n    );\n};\n\nexport default ForgotPassPage;","size_bytes":300},"src/components/VPLocation/WaveDivider.jsx":{"content":"import React from 'react';\nimport './WaveDivider.css'; // Import the accompanying CSS\n\nconst WaveDivider = () => {\n  return (\n    <div className=\"custom-shape-divider-bottom\">\n      <svg\n        data-name=\"Layer 1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 1200 120\"\n        preserveAspectRatio=\"none\"\n      >\n        <path\n          d=\"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z\"\n          opacity=\".25\"\n          className=\"shape-fill\"\n        />\n        <path\n          d=\"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z\"\n          opacity=\".5\"\n          className=\"shape-fill\"\n        />\n        <path\n          d=\"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z\"\n          className=\"shape-fill\"\n        />\n      </svg>\n    </div>\n  );\n};\n\nexport default WaveDivider;","size_bytes":1414},"src/components/AuthForms/SignUpForm.jsx":{"content":"import { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst SignupForm = () => {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    role: \"owner\", // default\n  });\n\n  const [error, setError] = useState(\"\");\n\n  const handleChange = (e) => {\n    // const sanitizedPhone =\n    // formData.phoneNumber.startsWith(\"0\")\n    //   ? formData.phoneNumber.slice(1)\n    //   : formData.phoneNumber;\n      setFormData({ ...formData, [e.target.name.trim()]: e.target.value.trim() });\n      // switch (e.target.name) {\n      //   case \"firstName\":\n      //     setFormData({ ...formData, firstName: e.target.value.trim() });\n      //     break;\n      //   case \"lastName\":\n      //     setFormData({ ...formData, lastName: e.target.value.trim() });\n      //     break;\n      //   case \"phoneNumber\":\n      //     setFormData({ ...formData, phoneNumber: e.target.value.startsWith(\"0\") ? e.target.value.slice(1) : e.target.value });\n      //     break;\n      //   case \"password\":\n      //     setFormData({ ...formData, password: e.target.value.trim() });\n      //     break;\n      //   case \"confirmPassword\":\n      //     setFormData({ ...formData, confirmPassword: e.target.value.trim() });\n      //     break;\n      //   default:\n      //     break;\n      // }\n   \n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (formData.password !== formData.confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }else{\n      setError(\"\")\n    }\n    const sanitizedPhone =\n    formData.phoneNumber.startsWith(\"0\")\n      ? formData.phoneNumber.slice(1)\n      : formData.phoneNumber;\n    if (\n      formData.firstName === \"\" ||\n      formData.lastName === \"\" ||\n      formData.phoneNumber === \"\" ||\n      formData.password === \"\" ||\n      formData.confirmPassword === \"\"\n    ) {\n      setError(\"All information are required\");\n      return;\n    }else{\n      setError(\"\");\n    }\n    const isValidPassword = (password) => {\n      if(!/[A-Z]/.test(password)){\n        setError(\"Password must contain at least one uppercase letter\");\n        return false;\n      }\n      if(!/[a-z]/.test(password)){\n        setError(\"Password must contain at least one lowercase letter\");\n        return false;\n      }\n      if(!/[0-9]/.test(password)){\n        setError(\"Password must contain at least one digit\");\n        return false;\n      }\n      if(!/[^A-Za-z0-9]/.test(password)){\n        setError(\"Password must contain at least one special character\");\n        return false;\n      }\n      if(password.length < 8){\n        setError(\"Password must be at least 8 characters long\");\n        return false;\n      }\n       return true;\n      \n    };\n    if (!isValidPassword(formData.password)) {\n      return;\n    }\n\n   \n\n    try {\n      const response = await axios.post(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/sign\",\n        {\n          first_name: formData.firstName,\n          last_name: formData.lastName,\n          phone_number: sanitizedPhone,\n          password: formData.password,\n          role: formData.role,\n        }\n      );\n\n      // Handle success (redirect to dashboard, store token, etc.)\n      // console.log(response.data);\n    } catch (err) {\n      setError(err.response?.data?.message || \"Something went wrong.\");\n    }\n    // console.log(formData)\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className=\"space-y-3 bg-cardBackground p-8 rounded-lg shadow-lg w-fit flex flex-col justify-self-center items-center mt-[20px] border-[0.5px] border-gray font-noto\"\n    >\n      <div className=\"w-full space-y-1\">\n        <h1 className=\"text-[20px] font-bold text-center font-noto \">\n          Join as Restaurant Partner\n        </h1>\n        <p className=\"text-[13px] text-gray-500 text-center font-noto\">\n          Create your restaurant account to start serving customers.\n        </p>\n        <div className=\"flex space-x-2\">\n          <div className=\"w-full space-y-1\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            type=\"text\"\n            name=\"firstName\"\n            value={formData.firstName}\n            onChange={handleChange}\n            placeholder=\"First Name\"\n            required\n            className=\"bg-white p-2 rounded-lg w-full border-[0.5px] border-gray\"\n          />\n          \n\n          </div>\n          <div className=\"w-full space-y-1\">\n        <label htmlFor=\"lastName\">Last Name:</label>\n        <input\n          type=\"text\"\n          name=\"lastName\"\n          value={formData.lastName}\n          onChange={handleChange}\n          placeholder=\"Last Name\"\n          required\n          className=\"bg-white p-2 rounded-lg w-full border-[0.5px] border-gray\"\n        />\n        </div>\n      </div>\n    </div>\n      <div className=\"flex flex-col justify-center items-center\">\n        <label htmlFor=\"phoneNumber\">Phone Number:</label>\n        <input\n          type=\"text\"\n          name=\"phoneNumber\"\n          value={formData.phoneNumber}\n          onChange={handleChange}\n          placeholder=\"912345678\"\n          required\n          className=\"bg-white p-2 rounded-lg w-full border-[0.5px] border-gray \"\n        />\n      </div>\n      <div className=\"flex space-x-2\">\n      <div className=\"w-full space-y-1\">\n        <label htmlFor=\"password\">Password:</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={formData.password}\n          onChange={handleChange}\n          placeholder=\"Strong@password123\"\n          required\n          className=\"bg-white p-2 rounded-lg w-full border-[0.5px] border-gray \"\n        />\n      </div>\n\n      <div className=\"w-full space-y-1\">\n        <label htmlFor=\"confirmPassword\">Confirm Password:</label>\n        <input\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={formData.confirmPassword}\n          onChange={handleChange}\n          placeholder=\"Strong@password123\"\n          required\n          className=\"bg-white p-2 rounded-lg w-full border-[0.5px] border-gray\"\n        />\n      </div>\n      </div>\n\n      <div className=\"flex space-x-24\">\n        <button\n          type=\"button\"\n          className={` p-2 rounded-lg w-[100px] border-[0.5px] border-gray hover:bg-lightGray ${\n            formData.role === \"owner\"\n              ? \"bg-black text-white hover:bg-primary\"\n              : \"bg-white text-black\"\n          }`}\n          onClick={() => setFormData({ ...formData, role: \"owner\" })}\n        >\n          Owner\n        </button>\n        <button\n          type=\"button\"\n          className={` p-2 rounded-lg w-[100px] border-[0.5px] border-gray hover:bg-lightGray ${\n            formData.role === \"manager\"\n              ? \"bg-black text-white hover:bg-primary\"\n              : \"bg-white text-black\"\n          }`}\n          onClick={() => setFormData({ ...formData, role: \"manager\" })}\n        >\n          Manager\n        </button>\n      </div>\n\n      {error && error !== \"\" ? <p className=\"text-red-500\">{error}</p> : null}\n\n      <button\n        type=\"submit\"\n        className=\"bg-white text-black hover:bg-black hover:text-white transform duration-200 p-2 rounded-lg w-[100px] font-bold border-[0.5px] border-gray\"\n      >\n        Sign Up\n      </button>\n\n      <p className=\"text-[13px] text-gray-800 flex self-end\">\n        Already have an account? &nbsp;{\" \"}\n        <Link to=\"/login\" className=\"underline font-semibold hover:font-bold\">\n          Login\n        </Link>\n      </p>\n    </form>\n  );\n};\n\nexport default SignupForm;\n","size_bytes":7623},"src/pages/M-DemoPages/menus.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport {\n  Edit,\n  Trash2,\n  X,\n  Save,\n  ChefHat,\n  ArrowLeft,\n  Salad,\n  RefreshCcw,\n} from \"lucide-react\";\nimport AddFood from \"../../components/UserForms/M-addFood\";\nimport PopupCard from \"../../components/Cards/PopupCard\";\nimport MEditFood from \"../../components/UserForms/M-EditFood\";\nimport useUserStore from \"../../Store/UseStore\";\nimport { Loading, InlineLoadingDots } from \"../../components/Loading/Loading\";\n\nconst Menus = () => {\n  // Zustand store\n  const {\n    menus,\n    menusLoading,\n    foodsByMenu,\n    foodsLoading,\n    fetchMenus,\n    fetchFoodsByMenu,\n    updateMenu,\n    addMenu: addMenuToStore\n  } = useUserStore();\n\n  const [loading, setLoading] = useState({\n    editMenu: false,\n    menuItems: false,\n\n  });\n  const [editingMenu, setEditingMenu] = useState(null);\n  const [selectedMenu, setSelectedMenu] = useState(null);\n  const [showAddFood, setShowAddFood] = useState(false);\n  const [showAddMenu, setShowAddMenu] = useState(false);\n  const [showEditFood, setShowEditFood] = useState(false);\n  const [selectedFood, setSelectedFood] = useState(null);\n  const [menuLoading, setMenuLoading] = useState(false);\n  const [refreshFoods, setRefreshFoods] = useState(false);\n\n  const [menuForm, setMenuForm] = useState({\n    menuType: \"\",\n    active: true,\n  });\n\n  const restaurantId = JSON.parse(sessionStorage.getItem(\"user-data\")).state\n    .restaurant?.id;\n  const restaurantName = JSON.parse(sessionStorage.getItem(\"user-data\")).state\n    .restaurant?.name;\n\n  // Get foods for selected menu from store\n  const menuFoods = selectedMenu && foodsByMenu[selectedMenu._id]\n    ? foodsByMenu[selectedMenu._id].foods\n    : [];\n\n  useEffect(() => {\n    if (restaurantId) {\n      // Fetch menus from store (will use cache if available)\n      fetchMenus(restaurantId);\n    }\n  }, [restaurantId]);\n\n  useEffect(() => {\n    if (refreshFoods && selectedMenu) {\n      // Force refresh of foods\n      fetchFoodsByMenu(selectedMenu._id, true);\n      setRefreshFoods(false);\n    }\n  }, [refreshFoods, selectedMenu?._id]);\n\n  const handleMenuClick = async (menu) => {\n    setSelectedMenu(menu);\n    // Fetch foods from store (will use cache if available)\n    await fetchFoodsByMenu(menu._id);\n  };\n\n  const handleEditMenu = async () => {\n    if (!menuForm.menuType) return alert(\"Menu type is required\");\n\n    try {\n      setMenuLoading(true);\n      const payload = {\n        menuType: menuForm.menuType.trim(),\n        active: menuForm.active,\n      };\n\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/food-menus/${editingMenu}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: JSON.stringify(payload),\n        }\n\n      );\n\n\n      const data = await res.json();\n      if (res.ok) {\n        // Update menu in store\n        updateMenu(editingMenu, payload);\n        setMenuForm({ menuType: \"\", active: true });\n        setEditingMenu(null);\n        alert(\"Menu item updated successfully!\");\n      } else {\n        alert(data.message || \"Failed to update menu item\");\n      }\n      setMenuLoading(false);\n\n    } catch (error) {\n      console.error(\"Error editing menu:\", error);\n      alert(\"Error updating menu item. Please try again.\");\n    }\n  };\n\n  const handleCreateMenu = async (e) => {\n    e.preventDefault();\n    if (!menuForm.menuType.trim()) return alert(\"Menu type is required\");\n\n    try {\n      const payload = {\n        restaurantId: restaurantId,\n        menuType: menuForm.menuType.trim(),\n        active: menuForm.active,\n      };\n      console.log(restaurantId)\n\n      const res = await fetch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/food-menus\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n          body: JSON.stringify(payload),\n        }\n      );\n\n      const data = await res.json();\n      if (res.ok) {\n        // Add new menu to store\n        addMenuToStore(data.data);\n        setMenuForm({ menuType: \"\", active: true });\n        setShowAddMenu(false);\n        alert(\"Menu created successfully!\");\n      } else {\n        alert(data.message || \"Failed to create menu\");\n      }\n    } catch (error) {\n      console.error(\"Error creating menu:\", error);\n      alert(\"Error creating menu. Please try again.\");\n    }\n  };\n\n  // const handleDeleteMenu = async (menuId) => {\n  //   console.log(menuId);\n  //   if (window.confirm(\"Are you sure you want to delete this menu?\")) {\n  //     try {\n  //       const res = await fetch(\n  //         `https://gebeta-delivery1.onrender.com/api/v1/food-menus/${menuId}`,\n  //         {\n  //           method: \"DELETE\",\n  //           headers: {\n  //             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //           },\n  //         }\n  //       );\n  //       if (res.ok) {\n  //         await fetchMenus();\n  //         // alert(\"Menu deleted successfully!\");\n  //       } else {\n  //         const data = await res.json();\n  //         alert(data.message || \"Failed to delete menu\");\n  //       }\n  //     } catch (error) {\n  //       console.error(\"Error deleting menu:\", error);\n  //       alert(\"Error deleting menu. Please try again.\");\n  //     }\n  //   }\n  // };\n\n  // const handleDeleteFood = async (foodId) => {\n  //   if (window.confirm(\"Are you sure you want to delete this food item?\")) {\n  //     try {\n  //       const res = await fetch(\n  //         `https://gebeta-delivery1.onrender.com/api/v1/foods/${foodId}`,\n  //         {\n  //           method: \"DELETE\",\n  //           headers: {\n  //             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //           },\n  //         }\n  //       );\n  //       if (res.ok) {\n  //         await fetchMenuFoods(selectedMenu._id);\n  //         alert(\"Food item deleted successfully!\");\n  //       } else {\n  //         const data = await res.json();\n  //         alert(data.message || \"Failed to delete food item\");\n  //       }\n  //     } catch (error) {\n  //       console.error(\"Error deleting food:\", error);\n  //       alert(\"Error deleting food. Please try again.\");\n  //     }\n  //   }\n  // };\n  const handleEditFood = (foodId) => {\n    console.log(foodId);\n    setShowEditFood(true);\n    setSelectedFood(foodId);\n  };\n\n  return (\n    <>\n      {showEditFood && (\n        <PopupCard>\n          <div>\n            <div className=\"flex justify-between items-center\">\n\n              <h3>Edit Food</h3>\n              <button onClick={() => setShowEditFood(false)}><X size={28} color=\"red\" className=\"absolute top-4 right-4\" /></button>\n            </div>\n            <div>\n              <MEditFood foodId={selectedFood} />\n            </div>\n          </div>\n        </PopupCard>\n      )}\n      {showAddMenu && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 motion-scale-in-[0.31] motion-translate-x-in-[65%] motion-translate-y-in-[-41%]\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-xl font-bold text-[#4b382a]\">Add Menu</h3>\n              <button\n                className=\"rounded-full hover:bg-red-50 transform transition-all duration-300\"\n                onClick={() => setShowAddMenu(false)}\n              >\n                <X size={28} color=\"red\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleCreateMenu} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n                  Menu Type *\n                </label>\n                <input\n                  type=\"text\"\n                  value={menuForm.menuType}\n                  onChange={(e) =>\n                    setMenuForm({ ...menuForm, menuType: e.target.value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                  placeholder=\"e.g., Lunch, Dinner, Breakfast\"\n                  required\n                />\n              </div>\n\n              <div className=\"flex gap-2 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddMenu(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 bg-[#905618] text-white py-2 px-4 rounded-md hover:bg-[#3d2e22] transition-colors\"\n                >\n                  Create Menu\n                </button>\n              </div>\n            </form>\n          </div>\n\n        </div>\n\n      )}\n      {showAddFood && (\n        <>\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50  \">\n            <div className=\"bg-white rounded-lg p-6 max-w-[700px] motion-scale-in-[0.31] motion-translate-x-in-[65%] motion-translate-y-in-[-41%]\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold text-[#4b382a]\">\n                  Add Food Item\n                </h3>\n                <button\n                  className=\"rounded-full hover:bg-red-50 transform transition-all duration-300\"\n                  onClick={() => setShowAddFood(false)}\n                >\n                  <X size={28} color=\"red\" />\n                </button>\n              </div>\n              <AddFood menuId={selectedMenu?._id} />\n            </div>\n          </div>\n        </>\n      )}\n      <div className=\"p-6 bg-[#f4f1e9] min-h-[calc(100vh-65px)] overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-8 bg-white/90 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-[#e0cda9]\">\n          <div className=\"flex items-center gap-6\">\n            {selectedMenu && (\n              <button\n                onClick={() => {\n                  setSelectedMenu(null);\n                  setMenuFoods([]);\n                }}\n                className=\"text-[#4b382a] hover:text-[#3d2e22] p-3 rounded-full bg-[#f8f6f0] hover:bg-[#e0cda9] transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105\"\n              >\n                <ArrowLeft size={24} />\n              </button>\n            )}\n            <div className=\"flex flex-col\">\n              <h2 className=\"text-4xl font-bold text-[#4b382a] tracking-tight\">\n                {selectedMenu ? `${selectedMenu.menuType}` : `${restaurantName}'s Menu `}\n              </h2>\n              {selectedMenu && (\n                <p className=\"text-lg text-[#8b7355] font-medium mt-1\">\n                  Manage food items\n                </p>\n              )}\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <button\n              className={`bg-gradient-to-r from-[#905618] to-[#b8691e] text-white px-6 py-3 rounded-xl flex items-center gap-3 hover:from-[#3d2e22] hover:to-[#4b382a] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 motion-preset-focus font-semibold ${selectedMenu ? \"\" : \"hidden\"\n                }`}\n              onClick={() => setShowAddFood(true)}\n            >\n              <Salad size={20} />\n              Add Food Item\n            </button>\n            <button\n              className={`bg-gradient-to-r from-[#905618] to-[#b8691e] text-white px-6 py-3 rounded-xl flex items-center gap-3 hover:from-[#3d2e22] hover:to-[#4b382a] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 motion-preset-focus font-semibold ${!selectedMenu ? \"\" : \"hidden\"\n                }`}\n              onClick={() => setShowAddMenu(true)}\n            >\n              <ChefHat size={20} />\n              Add Menu\n            </button>\n          </div>\n        </div>\n\n        {editingMenu && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-xl font-bold text-[#4b382a]\">Edit Menu</h3>\n                <button\n                  onClick={() => {\n                    setEditingMenu(null);\n                    setMenuForm({ menuType: \"\", active: true });\n                  }}\n                  className=\"text-red-500 hover:text-red-700\"\n                >\n                  <X size={26} />\n                </button>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-[#4b382a] mb-2\">\n                    Menu Type\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={menuForm.menuType}\n                    onChange={(e) =>\n                      setMenuForm({ ...menuForm, menuType: e.target.value })\n                    }\n                    className=\"w-full p-3 border border-[#e0cda9] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n                    placeholder=\"Enter menu type (e.g., Breakfast, Lunch, Dinner)\"\n                  />\n                </div>\n                <div className=\"flex items-center gap-6\">\n                  <label className=\"block text-sm font-medium text-[#4b382a]\">\n                    Active Status\n                  </label>\n                  <button\n                    type=\"button\"\n                    onClick={() => setMenuForm({ ...menuForm, active: !menuForm.active })}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[#4b382a] focus:ring-offset-2 ${menuForm.active ? 'bg-[#2aa541]' : 'bg-gray-400'\n                      }`}\n                  >\n                    <span\n                      className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${menuForm.active ? 'translate-x-6' : 'translate-x-1'\n                        }`}\n                    />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3 mt-6\">\n                <button\n                  onClick={handleEditMenu}\n                  className={`flex-1 bg-[#4b382a] text-white py-2 px-4 rounded-lg hover:bg-[#3d2e22] transition-colors flex items-center justify-center gap-2 ${menuLoading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n                  disabled={menuLoading}\n                >\n                  <Save size={18} />\n                  {menuLoading ? \"saving... \" : \"Save\"\n                  }\n                </button>\n\n              </div>\n            </div>\n          </div>\n        )}\n\n        {selectedMenu ? (\n          <div>\n            <div className=\"flex items-center gap-16 mb-4\">\n\n              <h3 className=\"text-2xl font-semibold text-[#4b382a] mb- flex items-center gap-2\">\n                <ChefHat size={24} />\n                Foods ({menuFoods.length})\n              </h3>\n              <button\n                onClick={() => setRefreshFoods(true)}\n                className=\"bg-[#e0cda9] p-2 rounded-md transition-transform duration-500 \"\n              >\n                <span\n                  className={`flex justify-center items-center ${foodsLoading ? \"animate-spin\" : \"\"\n                    }`}\n                >\n                  <RefreshCcw size={24} color=\"#4b382a\" />\n                </span>\n\n              </button>\n            </div>\n            {foodsLoading ? (\n              <Loading />\n            ) : (\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4\">\n                {menuFoods.length > 0 ? (\n                  menuFoods.map((food) => (\n                    <div\n                      key={food._id}\n                      className=\"bg-white rounded-lg shadow-md border border-[#e0cda9] relative overflow-hidden\"\n                      style={{\n                        backgroundImage: `url(${food.imageCover})`,\n                        backgroundSize: 'cover',\n                        backgroundPosition: 'center',\n                        minHeight: '280px'\n                      }}\n                    >\n                      {/* Overlay for better text readability */}\n                      <div className=\"absolute inset-0 bg-black bg-opacity-25 rounded-lg\"></div>\n\n                      {/* Content overlay */}\n                      <div className=\"relative z-10 p-4 h-full flex flex-col justify-betweenx\">\n                        <div className=\"  flex justify-between items-start mb-3\">\n                          <div className=\"flex-1\">\n                            <p className=\"text-lg font-bold text-white drop-shadow-lg\">\n                              {food.foodName}\n                            </p>\n                            {food.ingredients && (\n                              <p className=\"text-gray-200 text-sm mt-1 drop-shadow-md\">\n                                {food.ingredients}\n                              </p>\n                            )}\n                            <p className=\"text-white font-bold text-lg mt-2 drop-shadow-lg\">\n                              {food.price} ETB\n                            </p>\n                            <div className=\"flex items-center gap-2 mt-1\">\n                              <span\n                                className={`px-2 py-1 rounded-full text-xs font-medium ${food.status === \"Available\"\n                                  ? \"bg-green-500 text-white\"\n                                  : \"bg-red-500 text-white\"\n                                  }`}\n                              >\n                                {food.status}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"flex gap-2 self-end absolute bottom-5 right-5\">\n                            <button\n                              onClick={() => handleEditFood(food._id)}\n                              className=\"text-white hover:text-blue-300 p-2 bg-blue-600 bg-opacity-80 hover:bg-opacity-100 rounded-full transition-all duration-200\"\n                            >\n                              <Edit size={16} />\n                            </button>\n                            {/* <button\n                              onClick={() => handleDeleteFood(food._id)}\n                              className=\"text-white hover:text-white hover:bg-red-500 p-1 text-xs bg-red-400 w-[90px] rounded-md px-2 py-1 transition-colors duration-200 font-medium shadow-sm\"\n                            >\n                              Set to Unavailable\n                            </button> */}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"col-span-full text-center py-8\">\n                    <p className=\"text-gray-500\">No foods found in this menu</p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex items-center gap-16 mb-4\">\n              <h3 className=\"text-2xl font-semibold text-[#4b382a] flex items-center gap-2\">\n                <ChefHat size={24} />\n                Menu Items ({menus.length})\n              </h3>\n              <button\n                onClick={() => fetchMenus(restaurantId, true)}\n                className=\"bg-[#e0cda9] p-2 rounded-md transition-transform duration-500\"\n                title=\"Refresh menus\"\n              >\n                <span\n                  className={`flex justify-center items-center ${menusLoading ? \"animate-spin\" : \"\"\n                    }`}\n                >\n                  <RefreshCcw size={24} color=\"#4b382a\" />\n                </span>\n              </button>\n            </div>\n            {menusLoading ? (\n              <Loading />\n            ) : (\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4\">\n                {menus\n                  .sort((a, b) => {\n                    // Sort active menus first, then inactive menus\n                    if (a.active && !b.active) return -1;\n                    if (!a.active && b.active) return 1;\n                    return 0;\n                  })\n                  .map((menu) => (\n                    <div\n                      key={menu._id}\n                      className=\"bg-white rounded-lg p-4 shadow-md border border-[#e0cda9] cursor-pointer hover:shadow-lg transition-shadow\"\n                      onClick={() => handleMenuClick(menu)}\n                    >\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div className=\"flex-1\">\n                          <p className=\"text-lg font-bold text-[#a95b23]\">\n                            {menu.menuType}\n                          </p>\n                          {menu.description && (\n                            <p className=\"text-gray-600 text-sm mt-1\">\n                              {menu.description}\n                            </p>\n                          )}\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <span\n                              className={`px-2 py-1 rounded-full text-xs ${menu.active\n                                ? \"bg-green-100 text-green-800\"\n                                : \"bg-red-100 text-red-800\"\n                                }`}\n                            >\n                              {menu.active ? \"Active\" : \"Inactive\"}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"flex gap-2 \">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setMenuForm({\n                                menuType: menu.menuType || \"\",\n                                active: menu.active || false,\n                              });\n                              setEditingMenu(menu._id);\n                            }}\n                            className=\"text-blue-600 hover:text-blue-800 p-1\"\n                          >\n                            <Edit size={16} />\n                          </button>\n\n                        </div>\n                      </div>\n                      {menu.image && (\n                        <div className=\"mt-3\">\n                          <img\n                            src={menu.image}\n                            alt={menu.name}\n                            className=\"w-full h-32 object-cover rounded-lg\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Menus;","size_bytes":23438},"src/components/Sidebar/M-sidebar.jsx":{"content":"import {useNavigation}  from '../../contexts/NavigationContext';\nimport useUserStore from '../../Store/UseStore';\nimport {\n  LayoutDashboard,\n  ShoppingCart,\n  Utensils,\n  Users,\n  BarChart2,\n  Settings,\n  UtensilsCrossed\n} from 'lucide-react';\n\n\nconst navItems = [\n  { label: 'Dashboard', path: '/dashboard', icon: <LayoutDashboard size={18} /> },\n  { label: 'Menu', path: '/menu', icon: <Utensils size={18} /> },\n  { label: 'Orders', path: '/orders', icon: <ShoppingCart size={18} />, hasNotifications: true },\n  // { label: 'Customers', path: '/customers', icon: <Users size={18} /> },\n  { label: 'Analytics', path: '/analytics', icon: <BarChart2 size={18} /> },\n  { label: 'Settings', path: '/settings', icon: <Settings size={18} /> },\n];\n\nconst ManagerSidebar = () => {\n  const { activeNav, setActiveNav } = useNavigation(\"\");\n  const { newOrderAlert } = useUserStore();\n   \n  return (\n    <aside className=\"w-60 min-h-screen  bg-[url('https://res.cloudinary.com/drinuph9d/image/upload/v1761891640/food_images/food_1761891639878_side-nav.png')] bg-cover bg-center   bg-cardBackground shadow-md p-6   sticky top-0 left-0 motion-preset-slide-right motion-duration-1500 font-noto\">\n      <div className=\"text-lg font-bold pb-5 flex items-center justify-center  space-x-1 border-b border-[#e2b96c] mb-8 gap-4\">\n            <img src=\"https://res.cloudinary.com/drinuph9d/image/upload/v1761897257/food_images/food_1761897256388_logo.png\" alt=\"Gbeታ Logo\" className=\"w-9 h-9 rounded-lg bg-[#8f4504] object-contain\"/>\n      <span>Gebeታ Management</span>\n      </div>\n\n      <nav className=\"space-y-3\" >\n        {navItems.map((item) => (\n          <span\n          key={item.path}\n          className={`flex items-center  text-[#000000] space-x-3 px-3 py-2 rounded-xl font-medium transition-all duration-100 scroll-smooth cursor-pointer relative ${\n            activeNav === item.label\n              ? 'bg-gradient-to-r backdrop-blur-lg bg-black/5 border-[#0a0602] border-l-4 border-l-[#c94435] drop-shadow'\n              : 'motion-text-out-slate-100 '\n          }`}\n            \n            data-nav={item.label}\n            onClick={() => setActiveNav(item.label)}\n          >\n            {item.icon}\n            <span>{item.label}</span>\n            \n            {/* Notification badge for Orders */}\n            {item.hasNotifications && newOrderAlert && (\n              <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse\"></div>\n            )}\n          </span>\n        ))}\n      </nav>\n    </aside>\n  );\n};\n\nexport default ManagerSidebar;\n","size_bytes":2579},"src/pages/verify.jsx":{"content":"import AuthLayout from \"../Layouts/AuthLayout\";\nimport VerifyForm from \"../components/AuthForms/VerifyForm\";\n\nconst Verify = () => {\n    return ( \n        <AuthLayout>\n            <VerifyForm/>\n        </AuthLayout>\n     );\n}\n \nexport default Verify;","size_bytes":250},"src/components/AuthForms/VerifyForm.jsx":{"content":"import { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useState, useRef } from \"react\";\nimport { InlineLoadingDots } from \"../Loading/Loading\";\n\nconst VerifyForm = ({ phone }) => {\n    const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n    const [error, setError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const navigate = useNavigate();\n    const inputRefs = useRef([]);\n    console.log(phone);\n\n    const handleChange = (index, value) => {\n        if (!/^[0-9]?$/.test(value)) return;\n        const newOtp = [...otp];\n        newOtp[index] = value;\n        setOtp(newOtp);\n        if (value && index < otp.length - 1) {\n            inputRefs.current[index + 1]?.focus();\n        }\n    };\n\n    const handleKeyDown = (index, event) => {\n        if (event.key === \"Backspace\") {\n            if (otp[index] === \"\") {\n                if (index > 0) inputRefs.current[index - 1]?.focus();\n            } else {\n                const newOtp = [...otp];\n                newOtp[index] = \"\";\n                setOtp(newOtp);\n            }\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const code = otp.join(\"\");\n        if (code.length !== 6) {\n            setError(\"Please complete all fields\");\n            return;\n        }\n\n        try {\n            setLoading(true);\n            const res = await axios.post(\n                \"https://gebeta-delivery1.onrender.com/api/v1/users/verifyOTP\",\n                {\n                    phone: phone,\n                    code: code,\n                }\n            );\n            console.log(res.data);\n\n            if(res.data.status === \"success\"){\n\n                setMessage(res.data.message || \"OTP verified successfully\");\n\n            }\n            setError(\"\");\n            const role = sessionStorage.getItem(\"user-data\").state.user.role;\n            if (role !== \"Admin\") {\n                setTimeout(() => {\n                    navigate(\"/login\");\n                }, 1500);\n            }\n        } catch (err) {\n            if(res.data.status !== \"success\"){\n                console.log(err);\n                setError(res.data.status !== \"success\" ? res.data.message : \"Invalid or expired OTP\");\n\n            }\n            setMessage(\"\");\n        } finally {\n            setLoading(false);\n            // setShowVerifyForm(true);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4 p-8 flex flex-col items-center gap-12 min-h-[250px]  font-noto motion-preset-fade \">\n            <h2 className=\"text-xl font-bold\">Verify OTP</h2>\n            <p className=\"text-sm\">\n                Please enter the 6-digit OTP sent to {phone || \"your registered phone number\"}\n            </p>\n            <div className=\"flex items-center justify-center gap-2\">\n                {otp.map((item, index) => (\n                    <input\n                        key={index}\n                        type=\"text\"\n                        value={item}\n                        onChange={(e) => handleChange(index, e.target.value)}\n                        onKeyDown={(e) => handleKeyDown(index, e)}\n                        ref={(el) => (inputRefs.current[index] = el)}\n                        maxLength={1}\n                        className=\"w-[40px] h-[40px] bg-gray-200 rounded-lg border border-gray-300 text-center text-xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                ))}\n            </div>\n            {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n            {message && <p className=\"text-green-500 text-sm\">{message}</p>}\n            <button\n                type=\"submit\"\n                className={`bg-[#deb770] text-white font-bold py-2 px-4 rounded ${loading ? \"cursor-not-allowed opacity-50\" : \"\"}`}\n                disabled={loading}\n            >\n                {loading ? <InlineLoadingDots /> : \"Verify\"}\n            </button>\n        </form>\n    );\n};\n\nexport default VerifyForm;","size_bytes":4081},"src/pages/SignupPage.jsx":{"content":"import AuthLayout from \"../Layouts/AuthLayout\";\nimport SignupForm from \"../components/AuthForms/SignUpForm\";\n\nconst SignupPage = () => {\n  return (\n    <AuthLayout>\n        <div className=\" \">\n\n      <div className=\"relative flex items-center justify-center h-screen md:right-[50%]\">\n        \n        <div className=\"-rotate-90 w-[650px] h-[436px] bg-gradient-to-br from-amber-50 via-orange-100 to-yellow-200 rounded-xl shadow-2xl z-0\">\n        </div>\n        <div className=\"absolute z-10 translate-x-[300px] motion-preset-slide-left\">\n          <SignupForm />\n        </div>\n        \n      </div>\n        </div>\n    </AuthLayout>\n  );\n};\n\nexport default SignupPage;\n","size_bytes":668},"src/components/UserForms/M-MyProfilEditForm.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { InlineLoadingDots} from \"../Loading/Loading\";\nimport useStore from \"../../Store/UseStore\";\nimport { useUserProfile } from \"../../contexts/UserProfileContext\";\n\nconst ProfileEditForm = () => {\n  const { userProfile, setUserProfile } = useUserProfile();\n  const { setUser } = useStore();\n\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [loading, setLoading] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    username: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    restaurantName: \"\",\n    restaurantAddress: \"\",\n    profilePicture: \"\",\n  });\n\n  // Load user data from sessionStorage\n  useEffect(() => {\n    const storedUser = JSON.parse(sessionStorage.getItem(\"user-data\"))?.state?.user;\n\n    if (storedUser) {\n      setFormData({\n        username: storedUser.username || \"\",\n        firstName: storedUser.firstName || \"\",\n        lastName: storedUser.lastName || \"\",\n        email: storedUser.email || \"\",\n        phone: storedUser.phone || \"\",\n        restaurantName: storedUser.restaurantName || \"\",\n        restaurantAddress: storedUser.restaurantAddress || \"\",\n        profilePicture: storedUser.profilePicture || \"\",\n      });\n    }\n  }, []);\n\n  // Handle text input change\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Handle image input change\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setProfilePicture(file);\n    }\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const form = new FormData();\n\n      // Only append fields that backend expects\n      form.append(\"firstName\", formData.firstName);\n      form.append(\"lastName\", formData.lastName);\n      // form.append(\"email\", formData.email);\n      // form.append(\"phone\", formData.phone);\n      if (profilePicture) {\n        form.append(\"profilePicture\", profilePicture);\n      }\n\n      const response = await axios.patch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/updateMe\",\n        form,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n      console.log(response);\n\n      if (response?.data?.data?.user) {\n        const updatedUser = response.data.data.user;\n\n        // Update Zustand\n        setUser(updatedUser);\n\n        // Update sessionStorage\n        sessionStorage.setItem(\n          \"user-data\",\n          JSON.stringify({ state: { user: updatedUser } })\n        );\n\n        alert(\"Profile updated successfully!\");\n        setUserProfile(false);\n      } else {\n        alert(\"Failed to update profile.\");\n      }\n    } catch (err) {\n      console.error(\"Update error:\", err);\n      const message =\n        err?.response?.data?.message ||\n        err?.message ||\n        \"Something went wrong while updating the profile.\";\n      alert(message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex border-t-2 border-[#deb770] pt-5\">\n      {/* Profile Image & Upload */}\n      <div className=\"flex flex-col gap-2 p-2\">\n        <img\n          src={\n            profilePicture\n              ? URL.createObjectURL(profilePicture)\n              : formData.profilePicture || \"/default-avatar.jpg\"\n          }\n          alt=\"Profile\"\n          className=\"w-[230px] h-[200px] rounded-xl object-cover\"\n        />\n        <label className=\"flex items-center justify-center w-[230px] p-2 border border-gray rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n          <svg \n            className=\"w-5 h-5 mr-2 text-primary\" \n            fill=\"none\" \n            stroke=\"currentColor\" \n            viewBox=\"0 0 24 24\"\n          >\n            <path \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\" \n              strokeWidth={2} \n              d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" \n            />\n          </svg>\n          <span className=\"text-sm font-medium text-primary\">Upload Image</span>\n          <input\n            type=\"file\"\n            name=\"profilePicture\"\n            onChange={handleImageChange}\n            className=\"hidden\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      {/* Text Fields */}\n      <form\n        onSubmit={handleSubmit}\n        className=\"flex flex-col gap-5 text-sm justify-center p-5 w-full\"\n      >\n        <div>\n          <label className=\"block text-l font-medium text-primary\">Username</label>\n          <input\n            name=\"username\"\n            type=\"text\"\n            className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n            value={formData.username}\n            onChange={handleChange}\n            disabled // Not submitted to backend yet\n          />\n        </div>\n\n        <div className=\"flex gap-10\">\n          <div>\n            <label className=\"block text-sm font-medium text-primary\">First Name</label>\n            <input\n              name=\"firstName\"\n              type=\"text\"\n              className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n              value={formData.firstName}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-primary\">Last Name</label>\n            <input\n              name=\"lastName\"\n              type=\"text\"\n              className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n              value={formData.lastName}\n              onChange={handleChange}\n              required\n            />\n          </div>\n        </div>\n\n        {/* <div>\n          <label className=\"block text-sm font-medium text-primary\">Email</label>\n          <input\n            name=\"email\"\n            type=\"email\"\n            className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n          />\n        </div> */}\n\n        <div className=\"flex gap-10\">\n          <div>\n            <label className=\"block text-sm font-medium text-primary\">Restaurant Name</label>\n            <input\n              name=\"restaurantName\"\n              type=\"text\"\n              className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n              value={formData.restaurantName}\n              onChange={handleChange}\n              disabled // Not submitted to backend yet\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-primary\">Restaurant Address</label>\n            <input\n              name=\"restaurantAddress\"\n              type=\"text\"\n              className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n              value={formData.restaurantAddress}\n              onChange={handleChange}\n              disabled // Not submitted to backend yet\n            />\n          </div>\n          <div>\n            {/* <label className=\"block text-sm font-medium text-primary\">Phone Number</label>\n            <input\n              name=\"phone\"\n              type=\"text\"\n              className=\"w-full border-[0.5px] border-gray p-2 rounded-lg\"\n              value={formData.phone}\n              onChange={handleChange}\n              required\n            /> */}\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end items-center mt-10\">\n          <button\n            type=\"submit\"\n            className={`bg-primary text-white px-6 py-2 rounded-lg hover:bg-white hover:text-primary border border-gray transition-all duration-300 ${loading ? \"cursor-not-allowed bg-white\" : \"\"}`}\n          >\n            {loading ? <InlineLoadingDots /> : \"Save Changes\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ProfileEditForm;\n","size_bytes":8135},"src/pages/A-DemoPages/deliveryGuys.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport motorcycleIconImg from \"../../assets/images/motorcycle-192x192.png\";\nimport verifiedIcon from \"../../assets/images/blueCar.png\";\nimport bicycleIcon from \"../../assets/images/motorcycle-192x192.png\";\n\nimport { io } from \"socket.io-client\";\n\n\n// Default marker fix (Leaflet default icons)\nimport markerIcon2x from \"leaflet/dist/images/marker-icon-2x.png\";\nimport markerIcon from \"leaflet/dist/images/marker-icon.png\";\nimport markerShadow from \"leaflet/dist/images/marker-shadow.png\";\n\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: markerIcon2x,\n  iconUrl: markerIcon,\n  shadowUrl: markerShadow,\n});\n\n// Vehicle type icons (fixed sizing + correct URLs)\nconst createVehicleIcon = (url, size = 36) =>\n  new L.Icon({\n    iconUrl: url,\n    iconSize: [size, size],\n    iconAnchor: [size / 2, size / 2],\n    popupAnchor: [0, -size / 2],\n    shadowUrl: markerShadow,\n    shadowSize: [40, 40],\n  });\n\nconst carIcon = createVehicleIcon(\"https://cdn-icons-png.flaticon.com/512/744/744465.png\", 38);\nconst bikeIcon = createVehicleIcon(bicycleIcon, 34);\nconst motorcycleIcon = createVehicleIcon(motorcycleIconImg, 36);\nconst verifiedDeliveryIcon = createVehicleIcon(verifiedIcon, 40);\nconst defaultDeliveryIcon = carIcon;\n\n// Socket connection\nconst createSocketConnection = (token) => {\n  const URL = \"https://gebeta-delivery1.onrender.com\";\n  return io(URL, {\n    auth: { token },\n    withCredentials: true,\n    transports: [\"websocket\", \"polling\"],\n    timeout: 40000,\n  });\n};\n\nconst DeliveryGuys = () => {\n  const [deliveryPersons, setDeliveryPersons] = useState([]);\n  const [mapCenter, setMapCenter] = useState([8.9900123, 38.7539948]); // Default center (Addis)\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const token = localStorage.getItem(\"token\");\n\n  // WebSocket connection for real-time delivery location updates\n  useEffect(() => {\n    const newSocket = createSocketConnection(token);\n    setSocket(newSocket);\n\n    newSocket.on(\"connect\", () => setIsConnected(true));\n    newSocket.on(\"disconnect\", () => setIsConnected(false));\n\n    newSocket.on(\"deliveryLocationUpdate\", ({ userId, location }) => {\n      setDeliveryPersons((prev) => {\n        const existing = prev.find((p) => p.userId === userId);\n        if (existing) {\n          return prev.map((p) =>\n            p.userId === userId ? { ...p, location, lastUpdate: Date.now() } : p\n          );\n        }\n        return [...prev, { userId, location, lastUpdate: Date.now() }];\n      });\n    });\n\n    return () => {\n      newSocket.disconnect();\n    };\n  }, [token]);\n\n\n  const getDeliveryIcon = (method) => {\n    const m = method?.toLowerCase();\n    switch (m) {\n      case \"car\":\n        return carIcon;\n      case \"bike\":\n      case \"bicycle\":\n        return bikeIcon;\n      case \"motor\":\n      case \"motorcycle\":\n        return motorcycleIcon;\n      case \"walk\":\n      case \"walking\":\n        return walkingIcon;\n      case \"verified\":\n        return verifiedDeliveryIcon;\n      default:\n        return defaultDeliveryIcon;\n    }\n  };\n\n  // Prevents zoom reset every update\n  const MapUpdater = () => {\n    const map = useMap();\n    const [hasInitialized, setHasInitialized] = useState(false);\n\n    useEffect(() => {\n      if (deliveryPersons.length > 0 && !hasInitialized) {\n        const bounds = L.latLngBounds([]);\n        deliveryPersons.forEach((p, i) => {\n          const coords = p.location?.latitude\n            ? [parseFloat(p.location.latitude), parseFloat(p.location.longitude)]\n            : getDemoCoordinates(i);\n          bounds.extend(coords);\n        });\n        // map.fitBounds(bounds, { padding: [50, 50] });\n        setHasInitialized(true);\n      }\n    }, [deliveryPersons, map, hasInitialized]);\n    return null;\n  };\n\n  const filteredDeliveryPersons = deliveryPersons.filter((p) => {\n    const userName = p.location?.userName || p.name || \"\";\n    return userName.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  const downloadDeliveryHistory = (user) =>\n    alert(`Downloading delivery history for ${user.location?.userName || \"Unknown\"}...`);\n\n  return (\n    <div className=\"h-[calc(100vh-65px)] w-full bg-[#f9f5f0] p-2 overflow-auto\">\n      <div className=\"mb-4 pl-10\">\n        <h1 className=\"text-xl font-bold text-gray-800 mb-1\">Delivery Personnel Map</h1>\n        <p className=\"text-sm text-gray-600\">View all delivery personnel on the map</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-150px)]\">\n        {/* MAP SECTION */}\n        <div className=\"lg:col-span-2 h-full\">\n          <div className=\"bg-white rounded-lg shadow-lg p-3 h-full flex flex-col\">\n            <h2 className=\"text-lg font-semibold mb-2\">Delivery Personnel Locations</h2>\n            <div className=\"flex-1 rounded-lg overflow-hidden min-h-0\">\n              <MapContainer\n                center={mapCenter}\n                zoom={13}\n                scrollWheelZoom\n                style={{ width: \"100%\", height: \"100%\" }}\n              >\n                <TileLayer\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  attribution='© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n                />\n\n                {filteredDeliveryPersons.map((person, i) => {\n                  const coords = person.location?.latitude\n                    ? [parseFloat(person.location.latitude), parseFloat(person.location.longitude)]\n                    : getDemoCoordinates(i);\n\n                  return (\n                    <Marker\n                      key={person.userId || i}\n                      position={coords}\n                      icon={getDeliveryIcon(person.location?.userDeliveryMethod)}\n                    >\n                      <Popup>\n                        <div className=\"min-w-[120px]\">\n                          <h3 className=\"font-semibold text-base mb-1\">\n                            {person.location?.userName || `Delivery ${i + 1}`}\n                          </h3>\n                          <p className=\"text-sm text-gray-600\">\n                            📞 {person.location?.userPhone || \"No phone\"}\n                          </p>\n                          <p className=\"text-sm text-blue-600\">\n                            🚗 {person.location?.userDeliveryMethod || \"Unknown\"}\n                          </p>\n                          {/* {person.lastUpdate && (\n                            <p className=\"text-xs text-gray-500\">\n                              🕒 {new Date(person.lastUpdate).toLocaleTimeString()}\n                            </p>\n                          )} */}\n                        </div>\n                      </Popup>\n                    </Marker>\n                  );\n                })}\n\n                <MapUpdater />\n              </MapContainer>\n            </div>\n          </div>\n        </div>\n\n        {/* LIST SECTION */}\n        <div className=\"lg:col-span-1 h-full\">\n          <div className=\"relative bg-white rounded-lg shadow-lg p-2 flex flex-col\">\n            <h2 className=\"text-lg font-semibold mb-2\">Delivery Personnel List</h2>\n\n            <input\n              type=\"text\"\n              placeholder=\"Search by user name...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-3/4 px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 m-2 text-sm\"\n            />\n\n            <div className=\"flex-1 space-y-2 overflow-y-auto min-h-0 max-h-96\">\n              {filteredDeliveryPersons.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-4\">\n                  {searchTerm ? \"No results found\" : \"No delivery personnel found\"}\n                </p>\n              ) : (\n                filteredDeliveryPersons.map((p, i) => {\n                  const name = p.location?.userName || `Delivery ${i + 1}`;\n                  const phone = p.location?.userPhone || \"No phone\";\n                  const method = p.location?.userDeliveryMethod || \"Unknown\";\n                  return (\n                    <div key={p.userId || i} className=\"border rounded-lg p-2 hover:bg-gray-50\">\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                          <span className=\"text-blue-600 font-semibold text-sm\">\n                            {name.charAt(0).toUpperCase()}\n                          </span>\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium text-gray-900 text-sm truncate\">{name}</h3>\n                          <p className=\"text-xs text-gray-500 truncate\">{phone}</p>\n                          <p className=\"text-xs text-blue-600 truncate\">{method}</p>\n                          {p.lastUpdate && (\n                            <p className=\"text-xs text-gray-400\">\n                              Last update: {new Date(p.lastUpdate).toLocaleTimeString()}\n                            </p>\n                          )}\n                        </div>\n                        <button\n                          onClick={() => downloadDeliveryHistory(p)}\n                          className=\"px-2 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded-md transition\"\n                        >\n                          History\n                        </button>\n                      </div>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n\n            <div className=\"mt-2 pt-2 border-t text-sm text-gray-600\">\n              Total: {filteredDeliveryPersons.length}\n              {isConnected ? (\n                <p className=\"text-xs text-green-600 mt-1\">🟢 Real-time updates active</p>\n              ) : (\n                <p className=\"text-xs text-red-600 mt-1\">🔴 Connection lost</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeliveryGuys;\n","size_bytes":10402},"src/pages/NotFoundPage.jsx":{"content":"const NotFoundPage = () => {\n    return ( \n        <>\n        <div className=\"h-[100vh] w-full border flex items-center justify-center text-center\">\n            <div className=\"flex flex-col items-center justify-center gap-4\">\n                <h1>404</h1>\n            <p>Page Not Found</p>\n            <button className=\"bg-primary text-white font-semibold p-2 hover:bg-white hover:text-black transform duration-200 rounded-lg w-[100px] border-gray shadow-inner  border\" onClick={() => window.history.back()}>Go Back</button>\n            <div className=\"bg-[url('/src/assets/images/404.jpg')] h-[300px] w-[300px] bg-contain bg-center bg-no-repeat\">\n            </div>\n            </div>\n        </div>\n        </>\n     );\n}\n \nexport default NotFoundPage;","size_bytes":754},"src/pages/Landing.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ArrowDownToDot, Search, Star } from \"lucide-react\";\nimport { useViewport } from \"../components/VPLocation/ViewPort\";\nimport { ParallaxBackground } from \"../components/VPLocation/OffsetView\";\nimport WaveDivider from \"../components/VPLocation/WaveDivider\";\n\n// Constants for scroll thresholds (abstracted from hardcoded values)\nconst NAV_SCROLL_THRESHOLD = 100;\nconst CARDS_SCROLL_THRESHOLD = 400;\nconst CARDS_APPEARANCE_THRESHOLD = 430;\n\n// Animation configurations for restaurant cards\nconst CARD_ANIMATIONS = [\n  {\n    scale: 0.37,\n    translateX: -69,\n    translateY: -57,\n    opacity: 0,\n    duration: \"0.87s\",\n  },\n  {\n    scale: 0.29,\n    translateX: 0,\n    translateY: -36,\n  },\n  {\n    scale: 0.37,\n    translateX: 69,\n    translateY: -55,\n    opacity: 0,\n    duration: \"0.87s\",\n  },\n];\n\n// Main Landing page component\nconst Landing = () => {\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [rotate, setRotate] = useState(45);\n  const { width, height, scrollY } = useViewport(); // Removed unused scrollX\n  console.log(scrollY)\n  // Rotation effect: Increment angle every 5 seconds\n  useEffect(() => {\n    let currentAngle = 45;\n    const interval = setInterval(() => {\n      currentAngle += 90;\n      setRotate(currentAngle);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle search form submission\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      navigate(`/restaurants?q=${encodeURIComponent(searchTerm.trim())}`);\n    }\n  };\n\n  // Generate animation classes for cards\n  const getCardClasses = (index) => {\n    // Use static, pre-defined motion classes so Tailwind can statically extract them\n    const baseClasses = `\n      m-2 group px-10 py-5\n      bg-white/10 rounded-lg\n      flex flex-col items-center justify-center gap-2\n      relative overflow-hidden cursor-pointer\n      shadow-lg z-20\n      after:absolute after:h-full after:w-full after:inset-0 after:rounded-lg\n      after:bg-[#f5dbb3] after:-z-20\n      after:-translate-y-full after:transition-all after:duration-500\n      after:hover:translate-y-0\n      transition-all duration-300 hover:duration-300\n      [&_p]:delay-200 [&_p]:transition-all\n    `;\n\n    // Motion classes per card index (no dynamic template values)\n    const motionClassesByIndex = [\n      // index 0 -> scale 0.37, x -69%, y -57%, opacity 0, duration 0.87s\n      \"motion-scale-in-[0.37] motion-translate-x-in-[-69%] motion-translate-y-in-[-57%] motion-opacity-in-[0] motion-duration-[0.87s]/opacity\",\n      // index 1 -> scale 0.29, x 0%, y -36%\n      \"motion-scale-in-[0.29] motion-translate-x-in-[0%] motion-translate-y-in-[-36%]\",\n      // index 2 -> scale 0.37, x 69%, y -55%, opacity 0, duration 0.87s\n      \"motion-scale-in-[0.37] motion-translate-x-in-[69%] motion-translate-y-in-[-55%] motion-opacity-in-[0] motion-duration-[0.87s]/opacity\",\n    ];\n\n    const motionBase =\n      motionClassesByIndex[index] ??\n      \"motion-scale-in-[0.29] motion-translate-x-in-[0%] motion-translate-y-in-[-36%]\";\n\n    const conditionalClasses =\n      scrollY >= CARDS_APPEARANCE_THRESHOLD ? `${motionBase}` : \"hidden\";\n\n    const scaleClasses =\n      scrollY >= CARDS_SCROLL_THRESHOLD\n        ? \"scale-105 transition-all duration-300\"\n        : \"\";\n\n    return `${baseClasses} ${conditionalClasses} ${scaleClasses}`.trim();\n  };\n\n  // Restaurant card data\n  const restaurants = [\n    {\n      image: \"https://placehold.co/600x400/FFF/000?text=Restaurant+1\",\n      name: \"Gourmet Grills\",\n      description: \"A modern twist on classic comfort food.\",\n      rating: 4.8,\n      reviews: \"2,500 ratings\",\n      index: 0,\n    },\n    {\n      image: \"https://placehold.co/600x400/FFF/000?text=Restaurant+2\",\n      name: \"Spicy Spoon\",\n      description: \"Authentic and fiery international cuisine.\",\n      rating: 4.5,\n      reviews: \"1,800 ratings\",\n      index: 1,\n    },\n    {\n      image: \"https://placehold.co/600x400/FFF/000?text=Restaurant+3\",\n      name: \"The Vegan Corner\",\n      description: \"Fresh, plant-based meals crafted with care.\",\n      rating: 4.9,\n      reviews: \"3,100 ratings\",\n      index: 2,\n    },\n  ];\n\n  // Image sources for rotating section (reused to avoid duplication)\n  const foodImages = [\n    \"https://res.cloudinary.com/drinuph9d/image/upload/v1761891464/food_images/food_1761891463855_Cheese_Burger.png\",\n    \"https://res.cloudinary.com/drinuph9d/image/upload/v1761912096/food_images/food_1761912094928_food_2.png\",\n    \"https://res.cloudinary.com/drinuph9d/image/upload/v1761913788/food_images/food_1761913787869_food_3.png\",\n    \"https://res.cloudinary.com/drinuph9d/image/upload/v1761914500/food_images/food_1761914499863_food_3.png\",\n  ];\n\n  return (\n    <div className=\"relative min-h-screen bg-cover font-sans text-gray-900 bg-landing\">\n      {/* Dark overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-b from-black/10 via-black/20 to-black/20 z-0\" />\n\n      {/* Fixed Header */}\n      <header>\n        <nav className={`flex justify-between items-center px-6 md:px-8 md:py-1 w-full top-0 left-0 mt-0 rounded-b-3xl fixed z-50 ${scrollY >= NAV_SCROLL_THRESHOLD ? \"bg-black/10 backdrop-blur-sm\" : \"\"\n          }`}>\n          <Link\n            to=\"/\"\n            className=\"flex items-center gap-2 p-2 font-logo text-3xl md:text-2xl text-white border-2 border-white rounded-lg hover:border-yellow-400 transition-colors duration-300 transform hover:scale-105\"\n          >\n            <img\n              src=\"https://res.cloudinary.com/drinuph9d/image/upload/v1761897257/food_images/food_1761897256388_logo.png\"\n              alt=\"Logo\"\n              className=\"w-10 h-10 object-cover rounded\"\n            />\n            Gebeታ\n          </Link>\n          <div className=\"flex gap-4\">\n            <button\n              onClick={() => navigate(\"/login\")}\n              className=\"bg-white z-30 text-gray-900 px-5 py-2 md:px-6 md:py-3 rounded-full shadow-lg font-semibold transition-all duration-300 hover:bg-yellow-400 hover:text-white cursor-pointer\"\n            >\n              Login\n            </button>\n          </div>\n        </nav>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"relative z-10 flex flex-col items-center justify-center h-[630px]\">\n        <h1 className=\"text-white text-4xl md:text-7xl font-bold tracking-tight drop-shadow-xl animate-fade-in-down mb-6\">\n          <span className=\"block mb-2 md:mb-4 text-start \">Craving?</span>\n          <span className=\"bg-gradient-to-r from-yellow-300 via-yellow-400 to-orange-500 bg-clip-text text-transparent\">\n            Tap. Eat. Repeat.\n          </span>\n        </h1>\n        <p className=\"text-white text-lg md:text-xl font-medium mb-8 drop-shadow-lg\">\n          Discover your next favorite meal from trending restaurants and hidden gems near you.\n        </p>\n        <form onSubmit={handleSearch} className=\"flex flex-col sm:flex-row gap-3 items-center justify-center w-full max-w-xl p-2 rounded-full bg-white/20 backdrop-blur-sm shadow-2xl\">\n          <div className=\"relative w-full\">\n            <label htmlFor=\"search-input\" className=\"sr-only\">\n              Search by restaurant or cuisine\n            </label>\n            <input\n              id=\"search-input\"\n              className=\"p-3 pl-12 rounded-full border border-gray-300 bg-white/95 text-gray-800 w-full shadow-md focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300\"\n              type=\"text\"\n              placeholder=\"Search for 'pizza', 'sushi', or a restaurant name...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500\" size={20} />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"bg-yellow-500 text-white px-8 py-3 rounded-full hover:bg-yellow-600 transition-colors duration-300 font-bold w-full sm:w-auto transform hover:scale-105\"\n          >\n            Search\n          </button>\n        </form>\n      </section>\n\n      {/* Scroll Indicator */}\n      <div className=\"absolute bottom-10 left-1/2 -translate-x-1/2 z-10\">\n        <Link to=\"#explore\" aria-label=\"Explore restaurants\">\n          <ArrowDownToDot color=\"white\" size={50} className=\"animate-bounce\" />\n        </Link>\n      </div>\n\n      <WaveDivider />\n\n      {/* Explore Section */}\n      <section id=\"explore\" className=\"relative py-20 pb-48 bg-[#f4f1e9] backdrop-blur-lg rounded-t-xl min-h-[700px] \">\n        <div className=\"max-w-6xl mx-auto overflow-hidden flex flex-col items-center justify-center \">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800\">\n            Featured Restaurants\n          </h2>\n          <div className={`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 p-8 ${scrollY >= CARDS_APPEARANCE_THRESHOLD ? \"opacity-100\" : \"opacity-0\"} transition-opacity duration-300`}>\n            <div className={getCardClasses(0) + `${scrollY >= CARDS_APPEARANCE_THRESHOLD ? \"motion-translate-x-in-[121%] motion-translate-y-in-[-47%]\" : \"opacity-0\"} transition-opacity duration-300`}>\n              <img\n                src=\"https://placehold.co/600x400/FFF/000?text=Restaurant+1\"\n                alt=\"Placeholder for Gourmet Grills\"\n                className=\"w-full h-48 object-cover rounded-lg\"\n              />\n              <div className=\"p-6\">\n                <h3 className=\"text-xl font-bold mb-2\">Gourmet Grills</h3>\n                <p className=\"text-gray-600 mb-4\">A modern twist on classic comfort food.</p>\n                <div className=\"flex items-center text-yellow-500\">\n                  <Star size={16} fill=\"currentColor\" stroke=\"none\" />\n                  <span className=\"ml-1 font-semibold text-gray-800\">4.8</span>\n                  <span className=\"text-sm text-gray-500 ml-2\">(2,500 ratings)</span>\n                </div>\n              </div>\n            </div>\n            <div className={getCardClasses(1) + `${scrollY >= CARDS_APPEARANCE_THRESHOLD ? \"motion-translate-x-in-[128%] motion-translate-y-in-[139%]\" : \"opacity-0\"} transition-opacity duration-300`}>\n              <img\n                src=\"https://placehold.co/600x400/FFF/000?text=Restaurant+2\"\n                alt=\"Placeholder for Spicy Spoon\"\n                className=\"w-full h-48 object-cover rounded-lg\"\n              />\n              <div className=\"p-6\">\n                <h3 className=\"text-xl font-bold mb-2\">Spicy Spoon</h3>\n                <p className=\"text-gray-600 mb-4\">Authentic and fiery international cuisine.</p>\n                <div className=\"flex items-center text-yellow-500\">\n                  <Star size={16} fill=\"currentColor\" stroke=\"none\" />\n                  <span className=\"ml-1 font-semibold text-gray-800\">4.5</span>\n                  <span className=\"text-sm text-gray-500 ml-2\">(1,800 ratings)</span>\n                </div>\n              </div>\n            </div>\n            <div className={getCardClasses(2) + `${scrollY >= CARDS_APPEARANCE_THRESHOLD ? \"motion-translate-x-in-[121%] motion-translate-y-in-[-47%]\" : \"opacity-0\"} transition-opacity duration-300`}>\n              <img\n                src=\"https://placehold.co/600x400/FFF/000?text=Restaurant+3\"\n                alt=\"Placeholder for The Vegan Corner\"\n                className=\"w-full h-48 object-cover rounded-lg\"\n              />\n              <div className=\"p-6\">\n                <h3 className=\"text-xl font-bold mb-2\">The Vegan Corner</h3>\n                <p className=\"text-gray-600 mb-4\">Fresh, plant-based meals crafted with care.</p>\n                <div className=\"flex items-center text-yellow-500\">\n                  <Star size={16} fill=\"currentColor\" stroke=\"none\" />\n                  <span className=\"ml-1 font-semibold text-gray-800\">4.9</span>\n                  <span className=\"text-sm text-gray-500 ml-2\">(3,100 ratings)</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Parallax Section */}\n      <ParallaxBackground backgroundImage=\"src/assets/images/p.png\" />\n\n      {/* Rotating Images Container */}\n      <div className={`overflow-hidden border-2 h-[800px] relative bg-cover bg-center hidden md:block w-${width}`} >\n        {/* First Rotating Wheel */}\n        <div\n          className=\"z-0 border-separate border-2 border-black p-5 m-5 gap-44 flex flex-col origin-center transition-transform duration-700 bg-[#333] absolute md:-left-[595px] md:-top-[55px] rounded-full\"\n          style={{ transform: `rotate(${rotate}deg)` }}\n        >\n          <div className=\"flex justify-between gap-x-44\">\n            <img\n              src={foodImages[0]}\n              alt=\"Food Image 1\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n            <img\n              src={foodImages[1]}\n              alt=\"Food Image 2\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n          </div>\n          <div className=\"flex justify-between gap-44\">\n            <img\n              src={foodImages[2]}\n              alt=\"Food Image 3\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n            <img\n              src={foodImages[3]}\n              alt=\"Food Image 4\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n          </div>\n        </div>\n\n        {/* Second Rotating Wheel (reversed order for effect) */}\n        <div\n          className=\"z-0 border-separate border-2 border-black p-5 m-5 gap-44 flex flex-col origin-center transition-transform duration-700 bg-[#333] absolute md:-right-[595px] md:-top-[55px] rounded-full\"\n          style={{ transform: `rotate(${rotate}deg)` }}\n        >\n          <div className=\"flex justify-between gap-44\">\n            <img\n              src={foodImages[3]}\n              alt=\"Food Image 4\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n            <img\n              src={foodImages[2]}\n              alt=\"Food Image 3\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n          </div>\n          <div className=\"flex justify-between gap-x-44\">\n            <img\n              src={foodImages[1]}\n              alt=\"Food Image 2\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n            <img\n              src={foodImages[0]}\n              alt=\"Food Image 1\"\n              className=\"rotate-180 h-[300px] w-[300px] object-cover transition-all duration-530 m-3\"\n            />\n          </div>\n        </div>\n      </div>\n      <ParallaxBackground backgroundImage=\"src/assets/images/p.png\" />\n\n      {/* About / Why Gebeታ Section */}\n      <section id=\"about\" className=\"relative py-16 bg-[#f4f1e9] overflow-hidden\">\n        {/* Decorative gradient blobs */}\n        <div className=\"pointer-events-none absolute -left-24 -top-24 h-72 w-72 rounded-full bg-gradient-to-br from-[#f4f1e9] to-[#f8f6f0] blur-3xl opacity-70\" />\n        <div className=\"pointer-events-none absolute -right-24 -bottom-24 h-80 w-80 rounded-full bg-gradient-to-br from-[#f1d59b] to-[#e0cda9] blur-3xl opacity-60\" />\n\n        <div className=\"relative max-w-6xl mx-auto px-6 md:px-8\">\n          <div className=\"text-center max-w-3xl mx-auto\">\n            <h2 className=\"text-3xl md:text-4xl font-extrabold\">\n              <span className=\"bg-gradient-to-r from-[#905618] via-[#b8691e] to-[#905618] bg-clip-text text-transparent\">\n                Why order with Gebeታ?\n              </span>\n            </h2>\n            <p className=\"mt-4 text-[#6b5b4b] text-lg leading-relaxed\">\n              From the first tap to the last bite, we make food discovery simple and delightful.\n              Explore top-rated spots, search your cravings, and reorder your favorites in seconds.\n            </p>\n            <div className=\"mt-6 inline-flex items-center gap-2 rounded-full bg-[#3d2e22]/90 px-5 py-2 text-white text-sm shadow-md\">\n              Curated picks daily\n              <span className=\"inline-block h-2 w-2 rounded-full bg-[#2aa541]\" />\n              <span className=\"text-white/80\">Fast & easy</span>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12\">\n            {/* Card 1 */}\n            <div className=\"group relative rounded-2xl p-[1px] bg-gradient-to-br from-[#e0cda9] to-[#f1d59b] shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1\">\n              <div className=\"bg-white rounded-2xl p-6 h-full\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-[#905618] to-[#b8691e] flex items-center justify-center text-white shadow-md\">\n                    <Search size={20} />\n                  </div>\n                  <h3 className=\"font-semibold text-lg text-[#3d2e22]\">Search your cravings</h3>\n                </div>\n                <p className=\"mt-3 text-[#6b5b4b]\">\n                  Find dishes, cuisines, or restaurants near you with a quick search.\n                </p>\n              </div>\n            </div>\n\n            {/* Card 2 */}\n            <div className=\"group relative rounded-2xl p-[1px] bg-gradient-to-br from-[#e0cda9] to-[#f1d59b] shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1\">\n              <div className=\"bg-white rounded-2xl p-6 h-full\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-[#905618] to-[#b8691e] flex items-center justify-center text-white shadow-md\">\n                    <Star size={20} />\n                  </div>\n                  <h3 className=\"font-semibold text-lg text-[#3d2e22]\">Top-rated picks</h3>\n                </div>\n                <p className=\"mt-3 text-[#6b5b4b]\">\n                  Browse the community’s favorites and discover trending restaurants.\n                </p>\n              </div>\n            </div>\n\n            {/* Card 3 */}\n            <div className=\"group relative rounded-2xl p-[1px] bg-gradient-to-br from-[#e0cda9] to-[#f1d59b] shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1\">\n              <div className=\"bg-white rounded-2xl p-6 h-full\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-[#905618] to-[#b8691e] flex items-center justify-center text-white shadow-md\">\n                    <ArrowDownToDot size={20} />\n                  </div>\n                  <h3 className=\"font-semibold text-lg text-[#3d2e22]\">Tap. Eat. Repeat.</h3>\n                </div>\n                <p className=\"mt-3 text-[#6b5b4b]\">\n                  Reorder your favorites effortlessly and keep meals as easy as a tap.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-10 flex justify-center\">\n            <Link\n              to=\"/restaurants\"\n              className=\"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-[#905618] to-[#b8691e] px-6 py-3 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]\"\n            >\n              Explore Restaurants\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"bg-[#1b1b1b] text-gray-300\">\n        {/* Accent bar */}\n        <div className=\"h-[2px] w-full bg-gradient-to-r from-[#905618] via-[#b8691e] to-[#905618] opacity-60\" />\n\n        <div className=\"max-w-6xl mx-auto px-6 md:px-8 py-12\">\n          {/* Newsletter / CTA */}\n          <div className=\"mb-10 rounded-2xl p-[1px] bg-gradient-to-r from-[#3d2e22] to-transparent\">\n            <div className=\"rounded-2xl bg-[#262626] p-6 md:p-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\n              <div>\n                <h4 className=\"text-white text-lg font-semibold\">Stay in the loop</h4>\n                <p className=\"text-sm text-gray-400 mt-1\">Get fresh picks and occasional treats in your inbox.</p>\n              </div>\n              <form\n                onSubmit={(e) => e.preventDefault()}\n                className=\"w-full md:w-auto flex gap-2\"\n              >\n                <input\n                  type=\"email\"\n                  placeholder=\"Enter your email\"\n                  className=\"w-full md:w-72 rounded-lg bg-[#1f1f1f] border border-white/10 px-4 py-2 text-sm text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#b8691e]\"\n                />\n                <button\n                  type=\"submit\"\n                  className=\"rounded-lg bg-gradient-to-r from-[#905618] to-[#b8691e] px-4 py-2 text-sm font-semibold text-white shadow-md hover:shadow-lg transition-all\"\n                >\n                  Subscribe\n                </button>\n              </form>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n            <div>\n              <Link to=\"/\" className=\"flex items-center gap-2\">\n                <img\n                  src=\"https://res.cloudinary.com/drinuph9d/image/upload/v1761897257/food_images/food_1761897256388_logo.png\"\n                  alt=\"Gebeታ logo\"\n                  className=\"w-10 h-10 object-cover rounded\"\n                />\n                <span className=\"font-logo text-2xl text-white\">Gebeታ</span>\n              </Link>\n              <p className=\"mt-4 text-sm text-gray-400\">\n                Discover local flavors, top-rated restaurants, and quick reorders — all in one place.\n              </p>\n            </div>\n\n            <div>\n              <h4 className=\"text-white font-semibold mb-3\">Explore</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>\n                  <a href=\"#explore\" className=\"hover:text-white transition-colors\">Featured Restaurants</a>\n                </li>\n                <li>\n                  <Link to=\"/restaurants\" className=\"hover:text-white transition-colors\">All Restaurants</Link>\n                </li>\n              </ul>\n            </div>\n\n            <div>\n              <h4 className=\"text-white font-semibold mb-3\">Company</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>\n                  <a href=\"#about\" className=\"hover:text-white transition-colors\">About</a>\n                </li>\n                <li>\n                  <Link to=\"/login\" className=\"hover:text-white transition-colors\">Partner Login</Link>\n                </li>\n              </ul>\n            </div>\n\n            <div>\n              <h4 className=\"text-white font-semibold mb-3\">Get Started</h4>\n              <ul className=\"space-y-2 text-sm\">\n                <li>\n                  <button\n                    onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\n                    className=\"hover:text-white transition-colors\"\n                  >\n                    Back to top\n                  </button>\n                </li>\n                <li>\n                  <Link to=\"/login\" className=\"hover:text-white transition-colors\">Login</Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"border-t border-white/10 py-4 text-center text-xs text-gray-400\">\n          © {new Date().getFullYear()} Gebeታ. All rights reserved.\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Landing;","size_bytes":24018},"src/components/Cards/PopupCard.jsx":{"content":"\nconst PopupCard = ({children , ...props}) => {\n    return ( <>\n    <div className=\"fixed top-0 left-0 w-[100%] h-[100%] bg-black/50 z-50 flex items-center justify-center font-noto \">\n          <div className=\" bg-[#f4f1e9] transition-all ease-out rounded-lg p-8 motion-scale-in-[0.19] motion-translate-x-in-[-15%] motion-translate-y-in-[-18%] motion-opacity-in-[0%] motion-rotate-in-[6deg] motion-blur-in-[5px] motion-duration-[0.35s] motion-duration-[0.53s]/scale motion-duration-[0.53s]/translate motion-duration-[0.63s]/rotate\" {...props}>\n            <div className=\" pb-2 border-gray\">\n              {children}\n            </div>\n            \n          </div>\n        </div>\n    </> );\n}\n \nexport default PopupCard;","size_bytes":721},"src/utils/notifications.js":{"content":"import useUserStore from '../Store/UseStore';\n\n// Utility functions to add notifications from anywhere in the app\nexport const addNotification = (type, title, message) => {\n  const store = useUserStore.getState();\n  store.addNotification({ type, title, message });\n};\n\nexport const addSuccessNotification = (title, message) => {\n  addNotification('success', title, message);\n};\n\nexport const addErrorNotification = (title, message) => {\n  addNotification('error', title, message);\n};\n\nexport const addWarningNotification = (title, message) => {\n  addNotification('warning', title, message);\n};\n\nexport const addInfoNotification = (title, message) => {\n  addNotification('info', title, message);\n};\n\n// Example usage:\n// import { addSuccessNotification, addErrorNotification } from '../utils/notifications';\n// \n// addSuccessNotification('Success!', 'Your action was completed successfully');\n// addErrorNotification('Error!', 'Something went wrong');\n// addWarningNotification('Warning!', 'Please check your input');\n// addInfoNotification('Info', 'Here is some information for you');\n","size_bytes":1085},"src/components/AuthForms/LoginForm.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport UseUserStore from \"../../Store/UseStore\";\nimport { Loading, InlineLoadingDots } from \"../Loading/Loading\";\nimport { Eye, EyeOff } from \"lucide-react\";\nimport VerifyForm from \"./VerifyForm\";\n\nconst LoginForm = () => {\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMg, setErrorMg] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showVerifyForm, setShowVerifyForm] = useState(false);\n  const [user, setUserLocal] = useState(null); // Renamed from 'results' to 'user' for clarity, initialized as null\n  const [token, setToken] = useState(\"\");\n\n  const navigate = useNavigate();\n  const { setUser, setRestaurant, setIsLoggedIn } = UseUserStore();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validation\n    if (!phone || !password) {\n      setErrorMg(\"All fields are required\");\n      return;\n    } else {\n      setErrorMg(\"\"); // Clear previous errors\n    }\n\n    try {\n      setLoading(true);\n      const res = await fetch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/login\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ phone, password }),\n        }\n      );\n      const data = await res.json();\n      console.log(data);\n      console.log(res.ok);\n\n      if (!res.ok) {\n        throw new Error(data.message || \"Login failed check your internet connection\");\n      }\n\n      // if (data.data?.message?.includes(\"OTP sent to your\")) {\n      //   setShowVerifyForm(true);\n      //   return;\n      // }\n\n      // if (!data.data.user) {\n      //   // Fallback for unexpected response structure\n      //   setShowVerifyForm(true);\n      //   return;\n      // } \n      else {\n        setUserLocal(data.data.user);\n        setToken(data.token);\n        localStorage.setItem(\"token\", data.token);\n        setUser(data.data.user);\n        // setIsLoggedIn(true); // Set logged in only on full success\n\n        if (data.data.user.role === \"Manager\") {\n          // Fetch restaurants before navigating\n          await fetchRestaurants();\n          navigate(\"/managerDashboard\");\n        } else if (data.data.user.role === \"Admin\") {\n          navigate(\"/adminDashboard\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error.message);\n      setErrorMg(\"Incorrect phone number or password\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRestaurants = async () => {\n    if (!user?._id || !token) return; // Guard clause\n    try {\n      const res = await fetch(\n        `https://gebeta-delivery1.onrender.com/api/v1/restaurants/by-manager`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      const data = await res.json();\n      if (res.ok && data.status === \"success\") {\n        setRestaurant(data.data.restaurants?.[0] || null);\n      } else {\n        throw new Error(data.message || \"Failed to load restaurants.\");\n      }\n    } catch (err) {\n      console.error(\"Fetch error:\", err);\n    }\n  };\n\n  // Effect to fetch restaurants only when user is a Manager and token is available\n  useEffect(() => {\n    if (user?.role === \"Manager\" && token) {\n      fetchRestaurants();\n    }\n  }, [user, token]);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div\n        className={`space-y-4 bg-[#f5f5f5] p-8 rounded-lg shadow-lg w-[370px] flex flex-col justify-self-center items-center mt-[20px] border border-gray font-noto ${\n          showVerifyForm ? \"hidden\" : \"\"\n        }`}\n      >\n        <h1 className=\"text-2xl font-bold text-center\">Login</h1>\n        <p className=\"text-[13px] text-gray-500 text-center\">Welcome back!</p>\n\n        <div className=\"w-full space-y-1\">\n          <label htmlFor=\"phone\">Phone Number:</label>\n          <input\n            type=\"text\"\n            name=\"phone\"\n            value={phone}\n            onChange={(e) => {\n              const sanitizedPhone =\n                e.target.value.startsWith(\"0\")\n                  ? e.target.value.slice(1)\n                  : e.target.value;\n              setPhone(sanitizedPhone);\n            }}\n            placeholder=\"912345678\"\n            required\n            className=\"bg-white border-[0.5px] border-gray p-2 rounded-md w-full text-black\"\n          />\n        </div>\n\n        <div className=\"w-full space-y-1\">\n          <label htmlFor=\"password\">Password:</label>\n          <div className=\"relative\">\n            <input\n              type={showPassword ? \"text\" : \"password\"}\n              name=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n              autoComplete=\"new-password\"\n              required\n              className=\"bg-white border-[0.5px] border-gray p-2 rounded-md w-full text-black pr-10\"\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword(!showPassword)}\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n            >\n              {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n            </button>\n          </div>\n        </div>\n\n        <Link\n          to=\"/forgot-password\"\n          className=\"flex -translate-x-5 -translate-y-3 self-end hover:underline hover:text-black text-[13px] text-gray-500\"\n        >\n          Forgot Password?\n        </Link>\n\n        {errorMg && <p className=\"text-red-500 text-sm\">{errorMg}</p>}\n\n        <button\n          type=\"submit\"\n          className={`bg-white flex items-center justify-center transform duration-200 text-gray-800 font-bold py-2 px-4 rounded-md w-[100px] hover:bg-black hover:text-white border-[0.5px] border-gray ${\n            loading ? \"cursor-not-allowed opacity-50 hover:bg-white\" : \"\"\n          }`}\n        >\n          {loading ? <InlineLoadingDots /> : \"Log In\"}\n        </button>\n\n        <p className=\"text-[13px] text-gray-800 flex self-end\">\n          {/* Don't have an account? &nbsp;\n          <Link to=\"/signup\" className=\"underline font-semibold hover:font-bold\">\n            Sign Up\n          </Link> */}\n        </p>\n      </div>\n      {showVerifyForm && <VerifyForm phone={phone} />}\n    </form>\n  );\n};\n\nexport default LoginForm;","size_bytes":6528},"src/components/Cards/Cards.jsx":{"content":"const Card = ({children , ...props}) => {\n    return ( \n        <div className=\" w-fit p-4 bg-white border border-[#e0cda9] rounded-lg font-noto m-2 shadow-lg\" {...props}>\n        {children}\n        </div>\n     );\n}\n \nexport default Card;","size_bytes":238},"src/services/OrderPollingService.js":{"content":"// src/services/OrderPollingService.js\nimport axios from \"axios\";\nimport useUserStore from \"../Store/UseStore\";\nimport bellSound from \"../assets/N-Bell.mp3\";\nimport { io } from \"socket.io-client\";\nimport { useEffect, useRef } from \"react\";\n\n// The singleton class for handling API and WebSocket logic\nclass OrderPollingService {\n  constructor() {\n    this.interval = null;\n    this.isRunning = false;\n    this.baseURL = \"https://gebeta-delivery1.onrender.com/api/v1/orders/restaurant\";\n    this.lastFetchTime = 0;\n    this.minFetchInterval = 3000;\n    this.socket = null;\n    this.onNewOrderCallback = null; // Callback for React component\n    // Do not connect WebSocket on construction; only connect if allowed\n  }\n\n  // Set the callback function from the React hook\n  setNewOrderCallback(callback) {\n    this.onNewOrderCallback = callback;\n  }\n\n  connectWebSocket() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n\n    const storeData = JSON.parse(sessionStorage.getItem(\"user-data\"));\n    const userRole = storeData?.state?.user?.role;\n    const isLoggedIn = storeData?.state?.isLoggedIn;\n    const token = localStorage.getItem(\"token\");\n    const restaurantId = storeData?.state?.restaurant?.id;\n    console.log( restaurantId );\n\n    // Only connect if user is manager and logged in\n    if (\n      !token ||\n      !restaurantId ||\n      userRole !== \"Manager\" ||\n      !isLoggedIn\n    ) {\n      console.error(\"❌ Cannot connect to WebSocket: Missing token, restaurantId, or user is not manager/logged in\");\n      return;\n    }\n\n    const socketURL = \"https://gebeta-delivery1.onrender.com\";\n    this.socket = io(socketURL, {\n      auth: { token },\n      transports: [\"websocket\", \"polling\"],\n      timeout: 20000,\n      reconnection: true,\n      reconnectionAttempts: 10,\n      reconnectionDelay: 2000,\n    });\n\n    this.socket.on(\"connect\", () => {\n      console.log(\"✅ Connected to socket:\", this.socket.id);\n    });\n\n    this.socket.on(\"newOrder\", (orderData) => {\n      console.log(\"🔔 New order received via socket:\", orderData);\n      // Trigger the callback in the React hook\n      if (this.onNewOrderCallback) {\n        this.onNewOrderCallback();\n      }\n    });\n\n    this.socket.on(\"connect_error\", (error) => {\n      console.error(\"❌ Socket connection error:\", error.message);\n    });\n  }\n\n  getAPI_URL() {\n    const store = JSON.parse(sessionStorage.getItem(\"user-data\"));\n    const restaurantId = store?.state?.restaurant?.id;\n    if (!restaurantId) {\n\n      console.error(\"❌ No restaurantId found in sessionStorage\");\n      return null;\n    }\n    return `${this.baseURL}/${restaurantId}/orders`;\n  }\n\n  async fetchOrders() {\n    // Only fetch if user is manager and logged in\n    const storeData = sessionStorage.getItem(\"user-data\") ? JSON.parse(sessionStorage.getItem(\"user-data\")) : null;\n    const userRole = storeData?.state?.user?.role;\n    const isLoggedIn = storeData?.state?.isLoggedIn;\n    if (userRole !== \"Manager\" || !isLoggedIn) {\n      // Optionally clear orders if not manager/logged in\n      const store = useUserStore.getState();\n      store.setOrders?.([]);\n      store.setOrdersLoading?.(false);\n      return;\n    }\n\n    const now = Date.now();\n    if (now - this.lastFetchTime < this.minFetchInterval) {\n      return;\n    }\n    this.lastFetchTime = now;\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        console.error(\"❌ No token found in localStorage\");\n        this.stopPolling?.();\n        return;\n      }\n      const apiURL = this.getAPI_URL();\n      if (!apiURL) {\n        return;\n      }\n\n      // Set loading state in Zustand store\n      const store = useUserStore.getState();\n      store.setOrdersLoading?.(true);\n      store.setOrdersError?.(null);\n\n      const res = await axios.get(apiURL, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      console.log(res);\n\n      const orders = res.data.data || [];\n      const sorted = this.sortOrders(orders);\n\n      // Store orders in Zustand store\n      store.setOrders?.(sorted);\n      store.setOrdersLoading?.(false);\n\n      // Handle new order notification if there are orders\n      if (orders.length > 0) {\n        this.handleNewOrder(sorted[0]);\n      }\n    } catch (error) {\n      console.error(\n        \"❌ OrderPollingService error:\",\n        error.response ? error.response.data : error.message\n      );\n      const store = useUserStore.getState();\n      store.setOrdersLoading?.(false);\n      store.setOrdersError?.(\"Failed to fetch orders\");\n      store.addNotification?.({\n        id: Date.now().toString(),\n        type: \"error\",\n        title: \"Connection Error\",\n        message:\n          error.response?.status === 401\n            ? \"Authentication failed. Please log in again.\"\n            : \"Failed to get orders. Please check your connection.\",\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  handleNewOrder(orderData) {\n    const store = useUserStore.getState();\n    const latestFetchedId = orderData?.orderId;\n    const currentLatestId = store.latestOrderId;\n    if (latestFetchedId && latestFetchedId !== currentLatestId) {\n      store.setNewOrderAlert?.(true);\n      store.setLatestOrderId?.(latestFetchedId);\n      store.addNotification?.({\n        id: Date.now().toString(),\n        type: \"info\",\n        title: \"New Order Received\",\n        message: `Order #${orderData?.orderCode || latestFetchedId} has been placed`,\n        timestamp: Date.now(),\n      });\n      this.playNotificationSound();\n      setTimeout(() => {\n        const currentStore = useUserStore.getState();\n        currentStore.setNewOrderAlert?.(false);\n      }, 5000);\n    }\n  }\n\n  sortOrders(orders) {\n    const statusPriority = { pending: 1, preparing: 2, cooked: 3, delivering: 5 };\n    return [...orders].sort((a, b) => {\n      const priorityA = statusPriority[a.orderStatus?.toLowerCase()] || 99;\n      const priorityB = statusPriority[b.orderStatus?.toLowerCase()] || 99;\n      return priorityA - priorityB;\n    });\n  }\n\n  playNotificationSound() {\n    try {\n      const audio = new Audio(bellSound);\n      audio.volume = 0.5;\n      audio.play().catch((err) =>\n        console.warn(\"⚠️ Failed to play notification sound:\", err)\n      );\n    } catch (error) {\n      console.warn(\"⚠️ Error playing audio:\", error);\n    }\n  }\n\n  async checkNow() {\n    await this.fetchOrders();\n  }\n\n  // Method to manually trigger order fetching\n  async refreshOrders() {\n    console.log(\"🔄 Manually refreshing orders...\");\n    await this.fetchOrders();\n  }\n}\n\n// Create a singleton instance\nconst orderPollingService = new OrderPollingService();\n\n// Custom hook to integrate the service with a React component\nexport const useOrderFetcher = () => {\n  // We use useRef to prevent the fetch from triggering on every render\n  const isInitialMount = useRef(true);\n  \n  // Get login state and user from Zustand store to react to login changes\n  const { isLoggedIn, user } = useUserStore();\n  const userRole = user?.role;\n\n  useEffect(() => {\n    if (userRole === \"Manager\" && isLoggedIn) {\n      // Set up a callback in the service to trigger a fetch when a new order is received\n      const fetchOnNewOrder = () => {\n        orderPollingService.fetchOrders();\n      };\n      orderPollingService.setNewOrderCallback(fetchOnNewOrder);\n\n      // Connect WebSocket if not already connected\n      orderPollingService.connectWebSocket();\n\n      // Initial fetch on component mount or when manager logs in\n      orderPollingService.fetchOrders();\n\n      // Cleanup: Remove the callback and disconnect socket when the component unmounts or user logs out\n      return () => {\n        orderPollingService.setNewOrderCallback(null);\n        if (orderPollingService.socket) {\n          orderPollingService.socket.disconnect();\n          orderPollingService.socket = null;\n        }\n      };\n    } else {\n      // If not manager or not logged in, clear orders and disconnect socket\n      const store = useUserStore.getState();\n      store.setOrders?.([]);\n      store.setOrdersLoading?.(false);\n      if (orderPollingService.socket) {\n        orderPollingService.socket.disconnect();\n        orderPollingService.socket = null;\n      }\n      orderPollingService.setNewOrderCallback(null);\n    }\n  }, [isLoggedIn, userRole]); // React to login state and role changes\n\n  // Return refresh function for manual triggering\n  return {\n    refreshOrders: () => orderPollingService.refreshOrders(),\n  };\n};\n\nexport default orderPollingService;","size_bytes":8524},"src/contexts/NavigationContext.jsx":{"content":"import { createContext, useState, useContext } from 'react';\n\nconst NavigationContext = createContext();\n\nexport const NavigationProvider = ({ children }) => {\n  const [activeNav, setActiveNav] = useState('Dashboard');\n\n  return (\n    <NavigationContext.Provider value={{ activeNav, setActiveNav }}>\n      {children}\n    </NavigationContext.Provider>\n  );\n};\n\nexport const useNavigation = () => useContext(NavigationContext);\n","size_bytes":426},"src/components/firstLogin.jsx":{"content":"import PopupCard from \"./Cards/PopupCard\";\nimport { useState, useEffect } from \"react\";\nimport useUserStore from \"../Store/UseStore\";\n\n\nconst FirstLogin = () => {\n    const [show, setShow] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [successMsg, setSuccessMsg] = useState(\"\");\n    const [SetInput, setSetInput] = useState(true);\n    const [address, setAddress] = useState(\"\");\n    const { user, setUserFirstLogin } = useUserStore();\n    // console.log(user?.firstLogin);\n\n    // Get managerId from sessionStorage, handle missing/null\n    let managerId = null;\n    try {\n        const userData = JSON.parse(sessionStorage.getItem(\"user-data\"));\n        managerId = userData?.state.restaurant?.id\n        // console.log(userData?.state.restaurant?.id);\n    } catch (e) {\n        managerId = null;\n    }\n\n    // console.log(managerId);\n\n    // Handler for \"Set\" button\n    const handleSetLocation = () => {\n        setErrorMsg(\"\");\n        setSuccessMsg(\"\");\n        if (!navigator.geolocation) {\n            setErrorMsg(\"Geolocation is not supported by your browser.\");\n            return;\n        }\n        setLoading(true);\n        navigator.geolocation.getCurrentPosition(\n            async (position) => {\n                const { latitude, longitude } = position.coords;\n                // Prepare JSON payload for location\n                const payload = {\n                    location: {\n                        type: \"Point\",\n                        coordinates: [longitude, latitude],\n                        address: address,\n                    },\n                    firstLogin: false\n                };\n                console.log(latitude, longitude);\n                // if (form.location.coordinates.length === 2) {\n                //       formData.append(\"location[coordinates][0]\", form.location.coordinates[0]);\n                //       formData.append(\"location[coordinates][1]\", form.location.coordinates[1]);\n                //     }\n\n                try {\n                    const res = await fetch(\n                        `https://gebeta-delivery1.onrender.com/api/v1/restaurants/${managerId}`,\n                        {\n                            method: \"PATCH\",\n                            headers: {\n                                \"Content-Type\": \"application/json\",\n                                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                            },\n                            body: JSON.stringify(payload),\n                        }\n                    );\n                    const result = await res.json();\n                    if (res.ok && result.status === \"success\") {\n                        setSuccessMsg(\"Location updated successfully!\");\n                        setTimeout(() => setShow(false), 1200);\n                        setUserFirstLogin(false);\n\n                    } else {\n                        setErrorMsg(result.message || \"Failed to update location.\");\n                    }\n                } catch (err) {\n                    setErrorMsg(\"Failed to update location. Please try again.\");\n                }\n                setLoading(false);\n            },\n            (error) => {\n                setLoading(false);\n                setErrorMsg(\"Failed to capture location. Please ensure location services are enabled.\");\n            },\n            { enableHighAccuracy: true }\n        );\n    };\n    // setUserFirstLogin(false);    \n\n\n    useEffect(() => {\n        const id = setTimeout(() => {\n            setShow(true);\n        }, 250000);\n        return () => clearTimeout(id);\n    }, []);\n\n    // Handler for \"Remind me later\"\n    const handleLater = () => {\n        setShow(false);\n        setUserFirstLogin(false);\n    };\n\n    // Don't show popup if dismissed or no managerId\n    if (!show || !managerId) return null;\n\n    return (\n        <PopupCard>\n            <div className=\"flex flex-col self-start justify-start\">\n                <h1 className=\"text-2xl text-gray-800\">\n                    <span>\n                        {\"Welcome\".split(\"\").map((char, i) => (\n                            <span\n                                key={i}\n                                className=\"inline-block animate-bounce text-[#deb770] font-extrabold hover:text-blue-400 cursor-none\"\n                                style={{\n                                    animationDelay: `${i * 0.6}s`,\n                                    animationDuration: \"2s\",\n                                }}\n                            >\n                                {char}\n                            </span>\n                        ))}\n                    </span>{\" \"}\n                    to Gebeta Delivery Management Dashboard!!\n                </h1>\n                <div className=\"flex flex-col self-center justify-start p-3 rounded-lg \">\n                    <label htmlFor=\"firstLogin\" className=\"mb-2\">\n                        Set your current location as your restaurant's location\n                    </label>\n                    <div className=\"flex flex-row self-center gap-2\">\n\n\n                        {!SetInput && <div className=\"motion-preset-pop  flex gap-4\">\n                            <input type=\"text\" placeholder=\"Address\" className=\"bg-white p-2 rounded-lg w-full border border-gray-900\" value={address} onChange={(e) => setAddress(e.target.value)} />\n                            <button\n                                className=\"bg-[#deb770] text-white p-2 rounded-lg disabled:opacity-60\"\n                                onClick={handleSetLocation}\n                                disabled={loading}\n                            >\n                                {loading ? \"Setting...\" : \"Set\"}\n                            </button>\n                        </div>\n                        }\n\n                        {SetInput && <>\n                            <button\n                                className=\"bg-[#deb770] text-white p-2 rounded-lg disabled:opacity-60\"\n                                onClick={() => setSetInput(false)}\n                                disabled={loading}\n                            >\n                                {loading ? \"Setting...\" : \"Set\"}\n                            </button>\n                            <button\n                                className=\"bg-[#deb770] text-white p-2 rounded-lg\"\n                                onClick={handleLater}\n                                disabled={loading}\n                            >\n                                Remind me later\n                            </button>\n                        </>}\n                    </div>\n                    {errorMsg && (\n                        <div className=\"text-red-600 text-sm mt-2\">{errorMsg}</div>\n                    )}\n                    {successMsg && (\n                        <div className=\"text-green-600 text-sm mt-2\">{successMsg}</div>\n                    )}\n                </div>\n            </div>\n        </PopupCard>\n    );\n};\n\nexport default FirstLogin;","size_bytes":7091},"src/Layouts/A-dashboardLayout.jsx":{"content":"import AdminSidebar from \"../components/Sidebar/A-sidBar\";\nimport { useState } from \"react\";\nimport { PanelLeftClose, PanelRightClose } from \"lucide-react\";\nimport TopDash from \"../pages/TopDash\";\nconst AdminDashboardLayout = ({ children }) => {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  return (\n    <div className=\"flex\">\n      {sidebarOpen && (\n        <div className=\"motion-preset-slide-right motion-duration-300\">\n          <AdminSidebar />\n        </div>\n      )}\n      <button\n        className={` fixed top-[77px] -left-1 bg-[#e0cda9] p-2 border border-[#ceb07a] rounded-r-lg transition-all duration-300 z-20 ${sidebarOpen ? \"\" : \"pl-3\"}`}\n        onClick={() => setSidebarOpen(!sidebarOpen)}\n      >\n        {sidebarOpen ? (\n          <PanelLeftClose size={25} />\n        ) : (\n          <PanelRightClose size={25} />\n        )}\n      </button>\n      <div className=\"flex flex-col w-[100%] h-[100%]\">\n      <TopDash /> \n      <main className=\"w-[100%] h-[100%]\">{children}</main>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboardLayout;\n","size_bytes":1077},"src/services/UseHttp.js":{"content":"import { useState } from \"react\";\n\nconst useHttp = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [response, setResponse] = useState(null);\n\n  const request = async (method, url, payload = null, options = {}) => {\n    setLoading(true);\n    setError(\"\");\n    setResponse(null);\n\n    try {\n      const res = await fetch(url, {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...(options.headers || {}),\n        },\n        body: payload ? JSON.stringify(payload) : null,\n        ...options,\n      });\n\n      const resData = await res.json();\n\n      if (!res.ok) throw new Error(resData.message || \"Request failed\");\n\n      setResponse(resData);\n      return resData;\n    } catch (e) {\n      console.error(e);\n      setError(e.message || \"Something went wrong!!\");\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const post = (url, payload, options) => request(\"POST\", url, payload, options);\n  const patch = (url, payload, options) => request(\"PATCH\", url, payload, options);\n  const del = (url, options) => request(\"DELETE\", url, null, options);\n\n  return { post, patch, del, loading, error, response };\n};\n\nexport default useHttp;\n","size_bytes":1259},"src/pages/A-DemoPages/AllList.jsx":{"content":"import { useState } from \"react\";\nimport EmployeeList from \"./EmployList\";\nimport UserList from \"./UsersList\";\nimport ManagerList from \"./ManagersList\";\nimport Card from \"../../components/Cards/Cards\";\nimport { Pencil, Trash, Contact, UserRoundPen, Plus, X } from \"lucide-react\";\nimport AddUserForm from \"../../components/UserForms/A-AddUserForm\";\nimport PopupCard from \"../../components/Cards/PopupCard\";\nimport ShowById from \"./showById\";\n\nconst AllList = () => {\n  const [list, setList] = useState(\"all\");\n  const [showAddBtn, setShowAddBtn] = useState(false);\n\n  return (\n    <>\n      <div className=\"p-8 flex gap-2 items-center justify-center h-[calc(100vh-65px)] bg-[#f4f1e9] font-noto\">\n        <Card>\n          <div className=\"w-[450px] h-[500px]\">\n            <div className=\"flex justify-between \">\n              <h2 className=\"text-xl my-1 font-semibold\">{list === \"all\" ? \"all Users\" : list}</h2>\n              <button\n                onClick={() => setShowAddBtn(true)}\n                className=\"flex items-center text-xs border rounded-xl px-1 border-blue-200 hover:scale-105 transition-all duration-300 active:scale-95 active:rotate-3 bg-blue-50\"\n              >\n                <span className=\"rounded-full mr-1 w-[20px] h-[20px] flex items-center justify-center bg-blue-100\">\n                  <Plus strokeWidth={1} />\n                </span>\n                add {list === \"all\" ? \"Users\" : list === \"Customer\" ? \"Customer\" : list === \"Delivery_Person\" ? \"Delivery Person\" : \"Manager\"}\n              </button>\n            </div>\n            <div className=\"flex justify-between mt- mb-6\">\n              <div className=\"flex flex-wrap gap-3\">\n                {/* <button\n                  className={`bg-primary text-white px-4 py-2 rounded-lg hover:bg-white hover:text-primary border border-gray ${\n                    list === \"Managers\" ? \"translate-y-2\" : \"\"\n                  } transition-all duration-300`}\n                  onClick={() => setList(\"Managers\")}\n                >\n                  Managers\n                </button> */}\n                <button\n                  className={`bg-[#e0cda9] text-sm  px-3 py-2 rounded-lg hover:bg-[#deb770] text-primary    ${\n                    list === \"Customer\" ? \"translate-y-2 bg-[#deb770]\" : \"\"\n                  } transition-all duration-300`}\n                  onClick={() => setList(\"Customer\")}\n                >\n                  Users\n                </button>\n                \n                <button\n                  className={`bg-[#e0cda9]  text-sm px-3 py-2 rounded-lg hover:bg-[#deaa4a] ${\n                    list === \"Manager\" ? \"translate-y-2 bg-[#deb770]\" : \"\"\n                  } transition-all duration-300`}\n                  onClick={() => setList(\"Manager\")}\n                >\n                  Managers\n                </button>\n                <button\n                  className={`bg-[#e0cda9]  text-sm px-3 py-2 rounded-lg hover:bg-[#daa33e]   ${\n                    list === \"Delivery_Person\" ? \"translate-y-2 bg-[#deb770]\" : \"\"\n                  } transition-all duration-300`}\n                  onClick={() => setList(\"Delivery_Person\")}\n                >\n                  Delivery Person\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col max-h-[425px] overflow-y-auto scrollbar-hide -translate-y-2  \">\n              {list ? (\n                <UserList role={list} />\n              ) : null}\n            </div>\n          </div>\n        </Card>\n        <ShowById />\n      </div>\n      {showAddBtn && (\n        <div className=\"fixed top-0 left-0 w-[100%] h-[100%] bg-black/50 z-50 flex items-center justify-center font-noto \">\n          <div className=\" bg-[#f4f1e9] transition-all ease-out rounded-lg p-8 motion-scale-in-[0.13] motion-translate-x-in-[-36%] motion-translate-y-in-[-10%] motion-opacity-in-[0%] motion-rotate-in-[7deg] motion-blur-in-[5px] motion-duration-[0.35s] motion-duration-[0.53s]/scale motion-duration-[0.53s]/translate motion-duration-[0.63s]/rotate\">\n            <div className=\"flex justify-between border-b pb-2 border-[#f0d5b9]\">\n              <h1 className=\"text-xl font-semibold\">Add Customers Form</h1>\n              <button\n                onClick={() => setShowAddBtn(false)}\n                className=\"rounded-full hover:bg-red-50 \"\n              >\n                <X strokeWidth={2} size={30} color=\"red\" />\n              </button>\n            </div>\n            <div className=\"p-1\">\n              <AddUserForm />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AllList;\n","size_bytes":4614},"src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n    html {\n      font-family: \"Poppins\", \"Noto Sans\", system-ui, sans-serif;\n    }\n  }\n\n@layer components {\n  /* Notification animations */\n  @keyframes slide-in-right {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  .animate-slide-in-right {\n    animation: slide-in-right 0.3s ease-out;\n  }\n\n  /* Bounce animation for new order alert */\n  @keyframes bounce {\n    0%, 20%, 53%, 80%, 100% {\n      transform: translate3d(0,0,0);\n    }\n    40%, 43% {\n      transform: translate3d(0,-8px,0);\n    }\n    70% {\n      transform: translate3d(0,-4px,0);\n    }\n    90% {\n      transform: translate3d(0,-2px,0);\n    }\n  }\n\n  .animate-bounce {\n    animation: bounce 1s infinite;\n  }\n\n  /* Pulse animation for bell icon */\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n\n  .animate-pulse {\n    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n}\n\n.bg-landing {\n  background-image: url(\"https://res.cloudinary.com/drinuph9d/image/upload/v1761892982/food_images/food_1761892981740_landing_2.jpg\");\n  background-attachment: fixed;\n  background-position: center;\n  height: 100vh;\n  \n  background-size: cover;\n  height: 100vh;\n}\n.bg-telet {\n  background-image: url(\"https://res.cloudinary.com/drinuph9d/image/upload/v1761892217/food_images/food_1761892216821_telet.png\");\n  background-attachment: fixed;\n  background-position: center;\n  height: 100vh;\n  \n  background-size: cover;\n  height: 100vh;\n}\n.bg-parallax-3 {\n  background-image: url(\"/fewa.png\");\n  background-attachment: fixed;\n  background-position: center;\n  height: 100vh;\n  \n  background-size: cover;\n  height: 100vh;\n}\n.boxes {\n  --size: 32px;\n  --duration: 800ms;\n  @apply relative;\n  height: calc(var(--size) * 2);\n  width: calc(var(--size) * 3);\n  transform-style: preserve-3d;\n  transform-origin: 50% 50%;\n  margin-top: calc(var(--size) * 1.5 * -1);\n  transform: rotateX(60deg) rotateZ(45deg) rotateY(0deg) translateZ(0px);\n}\n\n.box {\n  @apply absolute;\n  width: var(--size);\n  height: var(--size);\n  transform-style: preserve-3d;\n}\n\n.box:nth-child(1) {\n  transform: translate(100%, 0);\n  animation: box1 var(--duration) linear infinite;\n}\n\n.box:nth-child(2) {\n  transform: translate(0, 100%);\n  animation: box2 var(--duration) linear infinite;\n}\n\n.box:nth-child(3) {\n  transform: translate(100%, 100%);\n  animation: box3 var(--duration) linear infinite;\n}\n\n.box:nth-child(4) {\n  transform: translate(200%, 0);\n  animation: box4 var(--duration) linear infinite;\n}\n\n.box > div {\n  --background: #5C8DF6;\n  --top: auto;\n  --right: auto;\n  --bottom: auto;\n  --left: auto;\n  --translateZ: calc(var(--size) / 2);\n  --rotateY: 0deg;\n  --rotateX: 0deg;\n  @apply absolute w-full h-full;\n  background: var(--background);\n  top: var(--top);\n  right: var(--right);\n  bottom: var(--bottom);\n  left: var(--left);\n  transform: rotateY(var(--rotateY)) rotateX(var(--rotateX)) translateZ(var(--translateZ));\n}\n\n/* cube faces */\n.box > div:nth-child(1) {\n  --top: 0;\n  --left: 0;\n}\n.box > div:nth-child(2) {\n  --background: #145af2;\n  --right: 0;\n  --rotateY: 90deg;\n}\n.box > div:nth-child(3) {\n  --background: #447cf5;\n  --rotateX: -90deg;\n}\n.box > div:nth-child(4) {\n  --background: #DBE3F4;\n  --top: 0;\n  --left: 0;\n  --translateZ: calc(var(--size) * 3 * -1);\n}\n\n/* animations */\n@keyframes box1 {\n  0%, 50% { transform: translate(100%, 0); }\n  100% { transform: translate(200%, 0); }\n}\n@keyframes box2 {\n  0% { transform: translate(0, 100%); }\n  50% { transform: translate(0, 0); }\n  100% { transform: translate(100%, 0); }\n}\n@keyframes box3 {\n  0%, 50% { transform: translate(100%, 100%); }\n  100% { transform: translate(0, 100%); }\n}\n@keyframes box4 {\n  0% { transform: translate(200%, 0); }\n  50% { transform: translate(200%, 100%); }\n  100% { transform: translate(100%, 100%); }\n}\n","size_bytes":3955},"src/pages/M-DemoPages/Settings.jsx":{"content":"import { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport EditRestaurantForm from \"../../components/UserForms/M-EditRestaurantForm\";\nimport { Loading, InlineLoadingDots } from \"../../components/Loading/Loading\";\nimport useUserStore from \"../../Store/UseStore\";\n\nconst Settings = () => {\n  const navigate = useNavigate();\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showEditForm, setShowEditForm] = useState(\"\");\n  const { clearMenusCache } = useUserStore();\n\n  const token = localStorage.getItem(\"token\");\n\n  const logout = () => {\n    // Clear all user-related data from both storage types\n    sessionStorage.removeItem(\"user-data\");\n    sessionStorage.clear(); // Clear all session storage as backup\n    localStorage.removeItem(\"token\");\n    \n    // Clear menus and foods cache\n    clearMenusCache();\n    \n    setMessage(\"Get back soon 👋\");\n    setTimeout(() => {\n    sessionStorage.clear(); // Clear all session storage as backup\n      navigate(\"/login\");\n    }, 2000);\n  };\n\n  const deleteAccount = async () => {\n    const confirmDelete = window.confirm(\n      \"Are you sure you want to delete your account? This action cannot be undone.\"\n    );\n    if (!confirmDelete) return;\n\n    setLoading(true);\n    try {\n      const res = await fetch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/deleteMe\",\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (res.ok) {\n        setMessage(\"Account deleted successfully\");\n        localStorage.removeItem(\"token\");\n        sessionStorage.removeItem(\"user-data\");\n        setTimeout(() => {\n          navigate(\"/signup\"); // or \"/login\" based on your flow\n        }, 2000);\n      } else {\n        const errorData = await res.json();\n        setMessage(errorData.message || \"Failed to delete account.\");\n      }\n    } catch (error) {\n      setMessage(\"An error occurred while deleting the account.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n    <div className=\"motion-preset-focus motion-duration-300 bg-[#f4f1e9] pb-[4px]\">\n      <div className=\"bg-[#f4f1e9] translate-x-12 rounded w-fit \">\n        <button\n          onClick={()=>{setShowEditForm(\"Edit Restaurant\")}}\n          className={`px-3 text-sm py-2 text-white font-semibold shadow-md bg-amber-900 transform-all duration-300 ${showEditForm === \"Edit Restaurant\" ? \"bg-[#b55d1f] -translate-y-1\" : \"\"} \n          ` \n        }\n        // ${sessionStorage.getItem(\"user-data\")?.role === \"manager\" ? \"\" : \"hidden\"}\n        >\n          Restaurant settings\n        </button>\n        <button\n          onClick={()=>{setShowEditForm(\"Account settings\")}}\n          className={`px-3 text-sm py-2 text-white font-semibold shadow-md transition-all duration-300 bg-amber-900 transform-all ${showEditForm === \"Account settings\" || showEditForm === \"\" ? \"bg-[#b55d1f] -translate-y-1\" : \"\"}` }\n        >\n          Account settings\n        </button>\n      </div>\n{/* && sessionStorage.getItem(\"user-data\")?.role === \"manager\"  */}\n      {showEditForm === \"Edit Restaurant\" ? (\n        <EditRestaurantForm />\n      ) : (\n        <div className=\"max-w-screen mx-auto p-4 space-y-6 h-[calc(100vh-106px)]  bg-[#f4f1e9] flex justify-center items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-4\">Account Settings</h1>\n\n            {/* Demo Setting Options */}\n            <div className=\"space-y-2\">\n              <div className=\"p-4 border border-gray rounded-lg shadow\">\n                <h2 className=\"text-xl font-semibold\">\n                  Notification Preferences\n                </h2>\n                <p className=\"text-sm text-gray-600\">Coming soon...</p>\n              </div>\n\n              <div className=\"p-4 border border-gray rounded-lg shadow\">\n                <h2 className=\"text-xl font-semibold\">Dark Mode</h2>\n                <p className=\"text-sm text-gray-600\">Coming soon...</p>\n              </div>\n            </div>\n\n            {/* Logout Button */}\n            <div className=\"mt-4\">\n              <button\n                className=\"bg-blue-600 hover:bg-blue-800 text-white font-semibold py-2 px-4 rounded \"\n                onClick={logout}\n              >\n                Log Out\n              </button>\n            </div>\n\n            {/* Delete Account Section */}\n            <div className=\"mt-6 border-t pt-4\">\n              <h2 className=\"text-xl font-bold text-red-600\">Danger Zone</h2>\n              <p className=\"text-gray-600 text-sm mb-2\">\n                Deleting your account is permanent and cannot be undone.\n              </p>\n              <button\n                className=\"bg-red-600 hover:bg-red-800 text-white font-semibold py-2 px-4 rounded\"\n                onClick={deleteAccount}\n                disabled={loading}\n              >\n                {loading ? \"Deleting...\" : \"Delete My Account\"}\n              </button>\n            </div>\n\n            {/* Message */}\n            {message && (\n              <p className=\"text-center text-green-700 mt-4\">{message}</p>\n            )}\n          </div>\n        </div>\n      )}\n      </div>\n    </>\n  );\n};\n\nexport default Settings;\n","size_bytes":5272},"src/pages/A-DemoPages/UsersList.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport UseFetch from \"../../services/get\";\nimport Card from \"../../components/Cards/Cards\";\nimport { Loading , InlineLoadingDots} from \"../../components/Loading/Loading\";\nimport { Pencil, Trash, Search, RefreshCcw, Phone } from \"lucide-react\";\nimport ShowById from \"./showById\";\nimport { useUserId } from \"../../contexts/userIdContext\";\n\nconst UsersList = ({ role }) => {\n  const [users, setUsers] = useState([]);\n  const { getId, setGetId, refreshUsers } = useUserId();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [errorMg, setErrorMg] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [refetch, setRefetch] = useState(false);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    setErrorMg(null);\n\n    try {\n      const response = await fetch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users\",\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch users\");\n      }\n\n      const result = await response.json();\n      setData(result);\n    } catch (error) {\n      setErrorMg(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (Array.isArray(data?.data?.users)) {\n      setUsers(data.data.users);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, [refreshUsers, refetch]);\n\n  const formatDate = (isoString) => {\n    const date = new Date(isoString);\n    const day = String(date.getDate()).padStart(2, \"0\");\n    const month = String(date.getMonth() + 1).padStart(2, \"0\");\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n//  console.log(\"eeeee\", users)\n  const filteredUsers = users.filter((user) => {\n    const fullName = `${user.firstName} ${user.lastName}`.toLowerCase();\n    const userId = user._id ? user._id.toLowerCase() : '';\n    const Phone = user.phone ? user.phone.toLowerCase() : ''; // Add toLowerCase() and a check\n    \n    // Ensure searchTerm is converted to lowercase once\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n\n    // The fix is in this line:\n    const matchesSearch = fullName.includes(lowerCaseSearchTerm) || \n                          userId.includes(lowerCaseSearchTerm) || \n                          Phone.includes(lowerCaseSearchTerm); // Use the lowercase search term here\n\n    const matchesRole = role && role !== \"all\" ? user.role === role : true;\n    \n    return matchesSearch && matchesRole;\n});\n\n  return (\n    <div className=\"\">\n      <input\n        type=\"text\"\n        placeholder={`Search by name...`}\n        style={{ backgroundImage: 'url(\"https://img.icons8.com/ios/24/000000/search--v1.png\")', backgroundRepeat: 'no-repeat', backgroundPosition: 'right center' }}\n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        className=\" border px-2 py-1 mb-4 rounded-lg  shadow-sm w- max-w-md sticky top-0 z-50\"\n      />\n      <button\n              className=\"bg-[#e0cda9] p-2 rounded transition-all duration-500 mx-6  sticky top-0 z-40\"\n              onClick={() => {\n                setRefetch(!refetch);\n              }}\n            >\n              <span\n                className={` flex justify-center items-center  ${\n                  loading && \"animate-spin transition duration-1500\"\n                }`}\n              >\n                <RefreshCcw size={24} color=\"#4b382a\" />\n              </span>\n            </button>\n            \n\n      {errorMg && <p className=\"text-red-500\">{errorMg}</p>}\n      {loading ? (\n        <Loading />\n      ) : (\n        filteredUsers?.map((user) => (\n          <div\n            key={user._id}\n            className=\"  transition-all duration-300\"\n            onClick={() => {\n              setGetId(user._id);\n              // console.log(\"Selected User ID:\", user._id);\n            }}\n          >\n            <div className=\" w-fit p-4 bg-white border  rounded-lg font-noto m-2 shadow-lg hover:bg-gray-50 \">\n              <div className=\"flex items-center justify-between min-w-[400px] px-5 pl-2\">\n                  \n                  <div className=\"flex justify-center items-center \">\n\n                    <img\n                      className={`mx- object-cover object-center ${\n                        user.profilePicture ? \"\" : \"bg-gray\"\n                      } w-[70px] h-[70px] flex justify-center items-center shadow-lg rounded-full`}\n                      src={user.profilePicture}\n                      alt=\"\"\n                    />\n                  </div>\n                  <div className=\"flex flex-col w-[150px] gap-2\">\n                    <h2 className=\"text-md font-semibold \">\n                      {user.firstName || \"Unnamed\"} {user.lastName || \"Unnamed\"}\n                    </h2>\n                    <p className=\"text-[10px] pl-1 text-md\">{user.phone || \"N/A\"}</p>\n                  </div>\n                <div className=\"flex flex-col items-start justify-end \">\n                <p className=\"text-xs\">\n                  <span className=\"font-semibold text-[10px]\">Enrolled on</span>{\" \"}\n                  <br /> {formatDate(user.createdAt)}\n                </p>\n                <p className={`text-[12px] font- mt-3 ${user.role === \"Admin\" ? \"bg-red-100\" : user.role === \"Customer\" ? \"bg-blue-100\" : user.role === \"Manager\" ? \"bg-green-100\" : \"bg-yellow-100\"} rounded-full px-2 py-1 flex justify-center items-center`}>{user.role === \"Delivery_Person\" ? \"Delivery\" : `${user.role}`}</p>\n                  </div>\n\n                \n              </div>\n            </div>\n          </div>\n        ))\n      )}\n      \n    </div>\n  );\n};\n\nexport default UsersList;\n","size_bytes":5795},"src/pages/UserProfile.jsx":{"content":"import { X } from \"lucide-react\";\nimport { useUserProfile } from \"../contexts/UserProfileContext\";\nimport ProfileEditForm from \"../components/UserForms/M-MyProfilEditForm\";\nconst UserProfile = () => {\n  const { setUserProfile } = useUserProfile();\n  return (\n    <div className=\"fixed top-0 left-0 w-[100%] h-[100%] bg-black/50 z-50 flex items-center justify-center font-noto \">\n      <div className=\"w-[55%] h-[70%] bg-white transition-all ease-out rounded-lg p-8 motion-scale-in-[0.5] motion-translate-x-in-[63%] motion-translate-y-in-[-54%] motion-opacity-in-[0%] motion-rotate-in-[6deg] motion-blur-in-[5px] motion-duration-[0.35s] motion-duration-[0.53s]/scale motion-duration-[0.53s]/translate motion-duration-[0.63s]/rotate\">\n        <div className=\"flex justify-between self-start items-center\">\n          <h1 className=\" text-2xl font-bold\">Profile</h1>\n          <button\n            className=\"text-white p-1 rounded-full border-gray hover:bg-red-50\"\n            onClick={() => {\n              setUserProfile(false);\n            }}\n          >\n            <X strokeWidth={2} size={30} color=\"red\" />\n          </button>\n        </div>\n        <div className=\"pb-5\">\n          <ProfileEditForm />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;\n","size_bytes":1282},"src/components/AuthForms/OTPform.jsx":{"content":"import { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst OtpVerificationForm = ({ phone, setShowOtpForm }) => {\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]); // for 6-digit OTP\n  // const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const inputRefs = useRef([]);\n  const navigate = useNavigate();\n\n  const handleChange = (index, value) => {\n    if (!/^[0-9]?$/.test(value)) return;\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n\n    if (value && index < otp.length - 1) {\n      inputRefs.current[index + 1]?.focus();\n    }\n  };\n\n  const handleKeyDown = (index, event) => {\n    if (event.key === \"Backspace\") {\n      if (otp[index] === \"\") {\n        if (index > 0) inputRefs.current[index - 1]?.focus();\n      } else {\n        const newOtp = [...otp];\n        newOtp[index] = \"\";\n        setOtp(newOtp);\n      }\n    }\n\n    // Handle Enter key to submit\n    if (event.key === \"Enter\" && index === otp.length - 1) {\n      handleSubmit(event);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    // No need for e.preventDefault() since no <form>\n    e?.preventDefault?.();\n\n    const code = otp.join(\"\");\n    if (code.length !== 6 || !phone || !password || !passwordConfirm) {\n      setError(\"Please complete all fields\");\n      return;\n    }\n    if(password !== passwordConfirm){\n      setError(\"Passwords do not match\");\n      return;\n    }\n\n    try {\n      const res = await axios.post(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/resetPasswordOTP\",\n        {\n          phone,\n          code,\n          password,\n          passwordConfirm,\n        }\n      );\n      console.log(res);\n      res.data.status === \"success\" && navigate(\"/login\");\n      \n      setMessage(res.data.message || \"OTP verified successfully\");\n      setError(\"\");\n    } catch (err) {\n      // console.error(\"OTP verification error:\", err);\n      setError(err.response?.data?.message || \"Invalid or expired OTP\");\n      setMessage(\"\");\n    }\n    // console.log(res.data)\n  };\n\n  const handleResend = async () => {\n    if (!phone) {\n      setError(\"Phone number is required\");\n      return;\n    }\n    try {\n      const res = await axios.post(\n        \"https://gebeta-delivery1.onrender.com/api/v1/users/requestResetOTP\",\n        { phone } // assuming the phone is needed\n      );\n      setMessage(res.data.message || \"OTP resent\");\n      setError(\"\");\n    } catch (err) {\n      setError(err.response?.data?.message || \"Failed to resend OTP\");\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div\n      className=\"space-y-1 bg-cardBackground p-8 rounded-lg shadow-lg w-[370px] flex flex-col items-center gap-3 border border-gray font-noto\"\n    >\n      <h2 className=\"text-xl font-bold\">Reset Password</h2>\n      <h3 className=\"text-sm text-gray-600\">Enter the 6-digit OTP sent to {phone}</h3>\n\n      {/* Phone Input */}\n      {/* <div className=\"w-full\">\n        <label className=\"block mb-1\">Phone Number:</label>\n        <input\n          type=\"text\"\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          placeholder=\"912345678\"\n          className=\"w-full border border-gray rounded-lg px-3 py-2\"\n        />\n      </div> */}\n\n      {/* OTP */}\n      <div className=\"flex gap-2 justify-center\">\n        {otp.map((digit, index) => (\n          <input\n            key={index}\n            ref={(el) => (inputRefs.current[index] = el)}\n            type=\"text\"\n            value={digit}\n            onChange={(e) => handleChange(index, e.target.value)}\n            onKeyDown={(e) => handleKeyDown(index, e)}\n            maxLength={1}\n            className=\"w-10 h-10 text-center border border-gray rounded-lg text-lg\"\n          />\n        ))}\n      </div>\n\n      {/* Password Inputs */}\n      <div className=\"w-full\">\n        <label className=\"block mb-1\">New Password:</label>\n        <input\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"w-full border border-gray rounded-lg px-3 py-2\"\n        />\n      </div>\n      <div className=\"w-full\">\n        <label className=\"block mb-1\">Confirm Password:</label>\n        <input\n          type=\"password\"\n          value={passwordConfirm}\n          onChange={(e) => setPasswordConfirm(e.target.value)}\n          className=\"w-full border border-gray rounded-lg px-3 py-2\"\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              handleSubmit(e);\n            }\n          }}\n        />\n      </div>\n\n      {/* Error & Message */}\n      {error && <p className=\"text-red-500\">{error}</p>}\n      {message && <p className=\"text-green-500\">{message}</p>}\n\n      {/* Submit Button */}\n      <button\n        type=\"button\"\n        onClick={handleSubmit}\n        className=\"bg-black text-white py-2 px-6 rounded-lg hover:opacity-90\"\n      >\n      Reset Password\n      </button>\n\n      {/* Resend */}\n      <p\n        onClick={handleResend}\n        className=\"text-sm text-gray-600 hover:underline cursor-pointer\"\n      >\n        Resend OTP\n      </p>\n    </div>\n  );\n};\n\nexport default OtpVerificationForm;","size_bytes":5360},"src/pages/M-DemoPages/InfoCards.jsx":{"content":"import {\n  ChartNoAxesCombined ,\n  ShoppingCart,\n  Utensils,\n  BarChart2,\n  Timer,\n  UtensilsCrossed,\n} from \"lucide-react\";\nimport Card from \"../../components/Cards/Cards\";\nimport TimerToggle from \"../../components/open-close-timer\";\nimport { useMemo } from \"react\";\nimport useUserStore from \"../../Store/UseStore\";\n\nconst InfoCards = () => {\n  const { orders } = useUserStore();\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"ETB\",\n    }).format(amount || 0);\n  };\n\n  const analytics = useMemo(() => {\n    if (!orders || orders.length === 0) {\n      return {\n        totalRevenue: 0,\n        orderCount: 0,\n        revenueGrowth: 0,\n        orderGrowth: 0,\n        orderTypeCounts: { dineIn: 0, delivery: 0, takeAway: 0 },\n      };\n    }\n\n    const filteredOrders = orders.filter((order) => {\n      const orderDate = new Date(order.createdAt || order.orderDate || Date.now());\n      const dayOfMonth = orderDate.getDate();\n      return dayOfMonth <= 28;\n    });\n\n    const totalRevenue = filteredOrders.reduce(\n      (sum, order) => sum + (order.totalFoodPrice || 0),\n      0\n    );\n    const orderCount = orders.length;\n\n    const orderTypeCounts = orders.reduce(\n      (acc, order) => {\n        const type = String(order.orderType || order.type || \"\").toLowerCase();\n        if (type.includes(\"dine\")) acc.dineIn += 1;\n        else if (type.includes(\"deliver\")) acc.delivery += 1;\n        else if (type.includes(\"take\")) acc.takeAway += 1;\n        return acc;\n      },\n      { dineIn: 0, delivery: 0, takeAway: 0 }\n    );\n\n    const monthlyStats = {};\n    filteredOrders.forEach((order) => {\n      const orderDate = new Date(order.createdAt || order.orderDate || Date.now());\n      const monthKey = orderDate.toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        year: \"numeric\",\n      });\n\n      if (!monthlyStats[monthKey]) {\n        monthlyStats[monthKey] = {\n          month: orderDate.toLocaleDateString(\"en-US\", { month: \"short\" }),\n          revenue: 0,\n          orders: 0,\n        };\n      }\n\n      monthlyStats[monthKey].revenue += order.totalFoodPrice || 0;\n      monthlyStats[monthKey].orders += 1;\n    });\n\n    const monthlyData = Object.values(monthlyStats)\n      .map((month) => ({\n        ...month,\n      }))\n      .sort((a, b) => new Date(a.month + \" 2024\") - new Date(b.month + \" 2024\"))\n      .slice(-6);\n\n    const revenueGrowth =\n      monthlyData.length >= 2\n        ? ((monthlyData[monthlyData.length - 1].revenue -\n            monthlyData[monthlyData.length - 2].revenue) /\n            monthlyData[monthlyData.length - 2].revenue) *\n          100\n        : 0;\n\n    const orderGrowth =\n      monthlyData.length >= 2\n        ? ((monthlyData[monthlyData.length - 1].orders -\n            monthlyData[monthlyData.length - 2].orders) /\n            monthlyData[monthlyData.length - 2].orders) *\n          100\n        : 0;\n\n    return {\n      totalRevenue,\n      orderCount,\n      revenueGrowth: Math.round(revenueGrowth * 10) / 10,\n      orderGrowth: Math.round(orderGrowth * 10) / 10,\n      orderTypeCounts,\n    };\n  }, [orders]);\n  const openHours =JSON.parse(sessionStorage.getItem(\"user-data\"))?.state?.restaurant?.isOpenNow;\n  const CardInfo = [\n    {\n      label: \"Total Revenue\",\n      num: formatCurrency(analytics.totalRevenue),\n      icon: <ChartNoAxesCombined size={18} />,\n      progress: `${Math.abs(analytics.revenueGrowth)}% from last month`,\n    },\n    {\n      label: \"Orders\",\n      num: analytics.orderCount?.toLocaleString?.() || analytics.orderCount,\n      icon: <ShoppingCart size={18} />,\n      progress: `${Math.abs(analytics.orderGrowth)}% from last month`,\n    },\n    {\n      label: \"Orders by Type\",\n      num: `${analytics.orderTypeCounts.dineIn} / ${analytics.orderTypeCounts.delivery} / ${analytics.orderTypeCounts.takeAway}`,\n      icon: <BarChart2 size={18} />,\n      progress: \"dine-in / delivery / take-away\",\n    },\n    {\n      label: \"Growth\",\n      num: `${analytics.revenueGrowth}%`,\n      icon: <Utensils size={18} />,\n      progress: \"Revenue vs last month\",\n    },\n    {\n      label: \"New updates\",\n      num: \"\",\n      icon: <Timer size={18} />,\n      progress: \"Coming soon\",\n    },\n\n  ];\n  return (\n    <>\n      <div className=\"flex flex-wrap gap-4 md:justify-between font-noto\">\n        {CardInfo.map((item, index) => (\n          <Card key={index}>\n            <div className=\"flex flex-col items-start  md:w-[150px]\">\n            <div>{item.icon}</div>\n            <h1 className=\"font-semibold\">{item.label}</h1>\n            <div className={`${item.num ===\"Open\" ? \"text-green-500 font-bold p-1 rounded-lg border border-green-500 bg-green-50\" : item.num === \"Closed\" ? \"text-red-500 font-bold p-1 rounded-lg border border-red-500 bg-red-50\" : \"\"}`}>{item.num}</div>\n            <p className=\"text-xs text-placeholderText\">{item.progress}</p>\n            </div>\n          </Card>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default InfoCards;\n","size_bytes":5000},"src/components/Sidebar/A-sidBar.jsx":{"content":"import {useNavigation}  from '../../contexts/NavigationContext';\nimport { useEffect } from 'react';\nimport {\n  LayoutDashboard,\n  ShoppingCart,\n  Utensils,\n  Users,\n  BarChart2,\n  Settings,\n  UtensilsCrossed,\n  ScrollText,\n  IdCard,\n  Truck \n} from 'lucide-react';\n\n\nconst navItems = [\n  { label: 'Dashboard', path: '/dashboard', icon: <LayoutDashboard size={20} /> },\n  { label: 'Users', path: '/lists', icon:<Users size={20} />  },\n  // { label: 'Orders', path: '/orders', icon: <ShoppingCart size={18} /> },\n  // { label: 'Menu', path: '/menu', icon: <Utensils size={18} /> },\n  { label: 'Restaurants', path: '/customers', icon:<ScrollText size={20} />  },\n  { label: 'Delivery Guys', path: '/delivery-guys', icon: <Truck size={20} /> },\n  { label: 'Analytics', path: '/analytics', icon: <BarChart2 size={20} /> },\n  { label: 'Settings', path: '/settings', icon: <Settings size={20} /> },\n];\n\nconst AdminSidebar = () => {\n  const { activeNav, setActiveNav } = useNavigation(\"\");\n  //  console.log(activeNav)\n  localStorage.setItem(\"activeNav\", activeNav);\n  \n  \n\n\n  return (\n    <aside className=\"w-60 min-h-screen bg-gray-50 border-r bg-[url('https://res.cloudinary.com/drinuph9d/image/upload/v1761891640/food_images/food_1761891639878_side-nav.png')] bg-cover bg-center  shadow-lg p-6  sticky top-0 left-0 motion-preset-slide-right motion-duration-1500 font-noto\">\n     \n      <div className=\"text-xl font-bold pb-8 flex items-center justify-center  space-x-1 border-b-[0.5px] border-[#e0cda9] mb-8 \">\n      <img src=\"https://res.cloudinary.com/drinuph9d/image/upload/v1761897257/food_images/food_1761897256388_logo.png\" alt=\"Gbeታ Logo\" className=\"w-8 h-8 rounded-lg bg-[#8f4504] object-contain\"/>\n        <span>Gbeታ Admin</span>\n      </div>\n\n      <nav className=\"space-y-3 \" >\n        {navItems.map((item) => (\n          <span\n            key={item.path}\n            className={`flex items-center  text-[#000000] space-x-3 px-3 py-2 rounded-xl font-medium transition-all duration-100 scroll-smooth cursor-pointer ${\n              activeNav === item.label\n                ? 'bg-gradient-to-r backdrop-blur-lg bg-black/5 border-[#0a0602] border-l-4 border-l-[#c94435] drop-shadow'\n                : 'motion-text-out-slate-100 '\n            }`}\n            \n            data-nav={item.label}\n            onClick={() => setActiveNav(item.label)}\n          >\n            {item.icon}\n            <span>{item.label}</span>\n          </span>\n        ))}\n      </nav>\n    </aside>\n  );\n};\n\nexport default AdminSidebar;\n","size_bytes":2522},"src/components/UserForms/A-AddRestaurantsForm.jsx":{"content":"import { useState, useEffect } from \"react\";\n\nconst AddRestaurantsForm = () => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    license: \"\",\n    locationAddress: \"\",\n    locationDescription: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    cuisineTypes: \"\",\n    deliveryRadiusMeters: \"\",\n    imageCover: \"\",\n    isDeliveryAvailable: false,\n    isOpenNow: true,\n    openHours: \"\",\n    description: \"\",\n    manager: \"+251\", // Good to keep the prefix\n  });\n\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const token = localStorage.getItem(\"token\");\n  const [managerList, setManagerList] = useState([]);\n  const [showManList, setShowManList] = useState([]);\n\n  // --- NEW: useEffect to fetch managers on component mount ---\n  useEffect(() => {\n    const getManagerList = async () => {\n      // Don't run if there's no token\n      // if (!token) return;\n      try {\n        const response = await fetch(\n          \"https://gebeta-delivery1.onrender.com/api/v1/users\",\n          {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n        const data = await response.json();\n        if (response.ok) {\n          // Filter for users with role 'manager' if possible, otherwise map all phones\n          setManagerList(data.data.users.map((user)));\n          console.log(managerList)\n        } else {\n          console.error(\"Failed to fetch manager list:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching manager list:\", error);\n      }\n    };\n\n    getManagerList();\n  }, [token]); // Dependency array ensures this runs when the token is available\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  // --- CORRECTED: The handler for the manager input ---\n  const handleManagerInputChange = (value) => {\n    // First, update the form data\n    setFormData({ ...formData, manager: value });\n\n    // Then, handle the suggestion list logic\n    if (value && value.trim().length > 4) { // e.g., longer than \"+251\"\n      const filteredList = managerList.filter((manager) =>\n        manager.includes(value) // Use the direct 'value' here, not state\n      );\n      setShowManList(filteredList);\n    } else {\n      // Hide the list if the input is too short\n      setShowManList([]);\n    }\n  };\n\n  // --- NEW: Handler for selecting a manager from the list ---\n  const handleSelectManager = (managerPhone) => {\n    setFormData({ ...formData, manager: managerPhone });\n    setShowManList([]); // Hide the list after selection\n  };\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\n        \"https://gebeta-delivery1.onrender.com/api/v1/restaurants\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({\n            name: formData.name,\n            license: formData.license,\n            manager: formData.manager,\n            cuisineTypes: formData.cuisineTypes\n              .split(\",\")\n              .map((cuisine) => cuisine.trim()),\n            // deliveryRadiusMeters: parseInt(formData.deliveryRadiusMeters),\n            openHours: formData.openHours,\n            description: formData.description,\n            isDeliveryAvailable: formData.isDeliveryAvailable,\n            isOpenNow: formData.isOpenNow,\n          }),\n        }\n      );\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setMessage(\"✅ Restaurant added successfully!\");\n        setFormData({\n          name: \"\",\n          license: \"\",\n          locationAddress: \"\",\n          locationDescription: \"\",\n          latitude: \"\",\n          longitude: \"\",\n          cuisineTypes: \"\",\n          deliveryRadiusMeters: \"\",\n          imageCover: \"\",\n          isDeliveryAvailable: false,\n          isOpenNow: true,\n          openHours: \"\",\n          description: \"\",\n          manager: \"+251\", // Reset to prefix\n        });\n      } else {\n        setMessage(`❌ ${data.message || \"Something went wrong.\"}`);\n      }\n    } catch (error) {\n      console.error(\"Error submitting the form:\", error);\n      setMessage(\"❌ Error submitting the form.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className=\"space-y-2\">\n        {/* Basic Info */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Restaurant Name\n          </label>\n          <input\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n          />\n        </div>\n\n        <div className=\"flex gap-4\">\n          <div className=\"space-y-2\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              License Number\n            </label>\n            <input\n              name=\"license\"\n              value={formData.license}\n              onChange={handleChange}\n              required\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n            />\n          </div>\n\n          {/* Assign a Manager */}\n          {/* --- CORRECTED JSX with new handlers --- */}\n          <div className=\"space-y-2 relative\"> {/* Added relative for positioning list */}\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Assign a Manager\n            </label>\n            <input\n              name=\"manager\"\n              value={formData.manager}\n              onChange={(e) => handleManagerInputChange(e.target.value)}\n              placeholder=\"Search manager phone...\"\n              autoComplete=\"off\" // Good for custom dropdowns\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n            />\n            {/* Manager Suggestion List */}\n            {showManList.length > 0 && (\n              <ul className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto\">\n                {showManList.map((managerPhone) => (\n                  <li\n                    key={managerPhone}\n                    className=\"px-3 py-2 cursor-pointer hover:bg-amber-100\"\n                    onClick={() => handleSelectManager(managerPhone)}\n                  >\n                    {managerPhone}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Cuisine Types (comma-separated)\n            </label>\n            <input\n              name=\"cuisineTypes\"\n              value={formData.cuisineTypes}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n            />\n          </div>\n\n          {/* <div className=\"space-y-2 \">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Delivery Radius (meters)\n            </label>\n            <input\n              type=\"number\"\n              name=\"deliveryRadiusMeters\"\n              value={formData.deliveryRadiusMeters}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n            />\n          </div> */}\n          <div>\n            <div className=\"space-y-2\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Open Hours\n              </label>\n              <input\n                name=\"openHours\"\n                value={formData.openHours}\n                onChange={handleChange}\n                placeholder=\"e.g. 8:00 AM - 10:00 PM\"\n                pattern=\"^(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM)\\s-\\s(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM)$\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n              />\n            </div>\n          </div>\n\n          {/* Toggle Switches */}\n          <div className=\"flex flex-col gap-6 mt-4 items-center justify-center\">\n            {/* Delivery Available Switch */}\n            <div className=\"flex items-center space-x-3 justify-between \">\n              <span className=\"text-sm text-gray-700\">Delivery Available</span>\n              <button\n                type=\"button\"\n                onClick={() =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    isDeliveryAvailable: !prev.isDeliveryAvailable,\n                  }))\n                }\n                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                  formData.isDeliveryAvailable ? \"bg-amber-600\" : \"bg-gray-300\"\n                }`}\n              >\n                <span\n                  className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                    formData.isDeliveryAvailable\n                      ? \"translate-x-6\"\n                      : \"translate-x-1\"\n                  }`}\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Description */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Short Description\n          </label>\n          <textarea\n            name=\"description\"\n            value={formData.description}\n            onChange={handleChange}\n            rows={3}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500\"\n          />\n        </div>\n\n        {/* Submit */}\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-fit flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? \"Submitting...\" : \"Add Restaurant\"}\n        </button>\n\n        {/* Message */}\n        {message && (\n          <p\n            className={`mt-3 text-sm font-medium ${\n              message.includes(\"✅\") ? \"text-green-700\" : \"text-red-600\"\n            }`}\n          >\n            {message}\n          </p>\n        )}\n      </form>\n    </>\n  );\n};\n\nexport default AddRestaurantsForm;","size_bytes":11352},"src/pages/M-DemoPages/customers.jsx":{"content":"import { useState } from \"react\";\nimport { Users, Phone, ShoppingCart, DollarSign } from \"lucide-react\";\n\nconst Customers = () => {\n    const [customers] = useState([\n        {\n            id: 1,\n            firstName: \"John\",\n            lastName: \"Doe\",\n            phone: \"+1 (555) 123-4567\",\n            totalOrders: 12,\n            totalSpent: 1250.75,\n            feedback: \"Great service! Always satisfied with my orders.\"\n        },\n        {\n            id: 2,\n            firstName: \"Jane\",\n            lastName: \"Smith\",\n            phone: \"+1 (555) 987-6543\",\n            totalOrders: 8,\n            totalSpent: 890.50,\n            feedback: \"Good quality products, fast delivery.\"\n        },\n        {\n            id: 3,\n            firstName: \"Mike\",\n            lastName: \"Johnson\",\n            phone: \"+1 (555) 456-7890\",\n            totalOrders: 15,\n            totalSpent: 2100.25,\n            feedback: \"Excellent customer support and product variety.\"\n        },\n        {\n            id: 4,\n            firstName: \"Sarah\",\n            lastName: \"Williams\",\n            phone: \"+1 (555) 321-9876\",\n            totalOrders: 6,\n            totalSpent: 675.00,\n            feedback: \"Very pleased with the shopping experience.\"\n        },\n        {\n            id: 5,\n            firstName: \"David\",\n            lastName: \"Brown\",\n            phone: \"+1 (555) 654-3210\",\n            totalOrders: 20,\n            totalSpent: 3200.80,\n            feedback: \"Outstanding service! Highly recommended.\"\n        }\n    ]);\n\n    const restaurantInfo = JSON.parse(sessionStorage.getItem(\"user-data\"));\n    const restaurantName = restaurantInfo.state.restaurant.name;\n\n    return (\n        <div className=\"p-6 bg-[#f4f1e9] h-[calc(100vh-65px)] overflow-y-auto\">\n            <div className=\"max-w-7xl mx-auto\">\n                {/* Header */}\n                <div className=\"flex items-center gap-3 mb-8\">\n                    <div className=\"bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                        <img src={restaurantInfo.state.restaurant.imageCover} alt=\"Restaurant Logo\" className=\"w-16 h-16 rounded-lg object-cover border-2 border-white/20\" />\n                    </div>\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-[#4b2e2e]\">{restaurantName}</h1>\n                        <p className=\"text-[#5f4637] mt-1\">Manage your customer database</p>\n                    </div>\n                </div>\n\n                {/* Stats Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                    <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                        <div className=\"flex items-center justify-between\">\n                            <div>\n                                <p className=\"text-[#5f4637] text-sm\">Total Customers</p>\n                                <p className=\"text-2xl font-bold text-[#4b2e2e]\">{customers.length}</p>\n                            </div>\n                            <div className=\"p-3 bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                                <Users className=\"w-6 h-6 text-[#8B4513]\" />\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                        <div className=\"flex items-center justify-between\">\n                            <div>\n                                <p className=\"text-[#5f4637] text-sm\">Average Orders</p>\n                                <p className=\"text-2xl font-bold text-[#4b2e2e]\">\n                                    {(customers.reduce((sum, customer) => sum + customer.totalOrders, 0) / customers.length).toFixed(1)}\n                                </p>\n                            </div>\n                            <div className=\"p-3 bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                                <ShoppingCart className=\"w-6 h-6 text-[#8B4513]\" />\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                        <div className=\"flex items-center justify-between\">\n                            <div>\n                                <p className=\"text-[#5f4637] text-sm\">Total Revenue</p>\n                                <p className=\"text-2xl font-bold text-[#4b2e2e]\">\n                                    ${customers.reduce((sum, customer) => sum + customer.totalSpent, 0).toFixed(2)}\n                                </p>\n                            </div>\n                            <div className=\"p-3 bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                                <DollarSign className=\"w-6 h-6 text-[#8B4513]\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Customers List */}\n                <div className=\"bg-white border border-[#e2b96c] rounded-xl shadow-md overflow-hidden\">\n                    <div className=\"p-6 border-b border-[#e2b96c]\">\n                        <h2 className=\"text-xl font-semibold text-[#4b2e2e]\">Customer List</h2>\n                    </div>\n                    \n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full\">\n                            <thead className=\"bg-[#8B4513] bg-opacity-5\">\n                                <tr>\n                                    <th className=\"px-6 py-4 text-left text-sm font-medium text-[#4b2e2e]\">Customer</th>\n                                    <th className=\"px-6 py-4 text-left text-sm font-medium text-[#4b2e2e]\">Contact</th>\n                                    <th className=\"px-6 py-4 text-left text-sm font-medium text-[#4b2e2e]\">Orders</th>\n                                    <th className=\"px-6 py-4 text-left text-sm font-medium text-[#4b2e2e]\">Total Spent</th>\n                                    <th className=\"px-6 py-4 text-left text-sm font-medium text-[#4b2e2e]\">Customer Feedback</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-[#e2b96c]\">\n                                {customers.map((customer) => (\n                                    <tr key={customer.id} className=\"hover:bg-[#8B4513] hover:bg-opacity-5 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-10 h-10 bg-[#8B4513] bg-opacity-10 rounded-full flex items-center justify-center\">\n                                                    <span className=\"text-[#8B4513] font-medium text-sm\">\n                                                        {customer.firstName[0]}{customer.lastName[0]}\n                                                    </span>\n                                                </div>\n                                                <div>\n                                                    <p className=\"font-medium text-[#4b2e2e]\">\n                                                        {customer.firstName} {customer.lastName}\n                                                    </p>\n                                                    <p className=\"text-sm text-[#5f4637]\">ID: {customer.id}</p>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-2 text-sm text-[#5f4637]\">\n                                                <Phone className=\"w-4 h-4\" />\n                                                {customer.phone}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className=\"px-3 py-1 bg-[#8B4513] bg-opacity-10 text-[#8B4513] rounded-full text-sm font-medium\">\n                                                {customer.totalOrders}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className=\"font-medium text-[#4b2e2e]\">\n                                                ${customer.totalSpent.toFixed(2)}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"max-w-xs\">\n                                                <p className=\"text-sm text-[#5f4637] truncate\" title={customer.feedback}>\n                                                    {customer.feedback}\n                                                </p>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n \nexport default Customers;","size_bytes":9607},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"src/components/ProtectedRoute.jsx":{"content":"// components/ProtectedRoute.jsx\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ children, allowedRoles }) => {\n  const userData = JSON.parse(sessionStorage.getItem(\"user-data\")).state.user;\n  const userRole = userData?.role;\n//   console.log(userRole);\n\n  if (!userRole || !allowedRoles.includes(userRole)) {\n    // Redirect to not authorized or login page\n    return <Navigate to=\"/unauthorized\" replace />;\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n","size_bytes":493},"src/pages/M-DemoPages/Analytics.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { TrendingUp, TrendingDown, Users, ShoppingBag, DollarSign, Minus } from \"lucide-react\";\nimport  useUserStore  from \"../../Store/UseStore\";\n\nconst Analytics = () => {\n\n  const {orders} = useUserStore();\n\n  // Calculate analytics from real orders data\n  const calculateAnalytics = () => {\n    if (!orders || orders.length === 0) {\n      return {\n        totalRevenue: 0,\n        orderCount: 0,\n        customerCount: 0,\n        revenueGrowth: 0,\n        orderGrowth: 0,\n        customerGrowth: 0,\n        orderTypeCounts: { dineIn: 0, delivery: 0, takeAway: 0 },\n        monthlyData: []\n      };\n    }\n\n    // Keep only orders with a valid date\n    const datedOrders = orders.filter(order => {\n      const rawDate = order.createdAt || order.orderDate;\n      if (!rawDate) return false;\n      const orderDate = new Date(rawDate);\n      return !isNaN(orderDate);\n    });\n\n    // Calculate total revenue and order count (all valid dated orders)\n    const totalRevenue = datedOrders.reduce((sum, order) => sum + (order.totalFoodPrice || 0), 0);\n    const orderCount = orders.length;\n\n    // Calculate unique customers (assuming each order has a customer ID or email)\n    const uniqueCustomers = new Set();\n    datedOrders.forEach(order => {\n      if (order.customerId) {\n        uniqueCustomers.add(order.customerId);\n      } else if (order.customerEmail) {\n        uniqueCustomers.add(order.customerEmail);\n      } else if (order.userId) {\n        uniqueCustomers.add(order.userId);\n      }\n    });\n    const customerCount = uniqueCustomers.size || orderCount; // Fallback to order count if no customer IDs\n\n    // Count orders by type (dine-in, delivery, take away)\n    const orderTypeCounts = orders.reduce((acc, order) => {\n      const type = String(order.orderType || order.type || '').toLowerCase();\n      if (type.includes('dine')) {\n        acc.dineIn += 1;\n      } else if (type.includes('deliver')) {\n        acc.delivery += 1;\n      } else if (type.includes('take')) {\n        acc.takeAway += 1;\n      }\n      return acc;\n    }, { dineIn: 0, delivery: 0, takeAway: 0 });\n\n    // Group orders by month for charts\n    const monthlyStats = {};\n    \n    datedOrders.forEach(order => {\n      const rawDate = order.createdAt || order.orderDate;\n      if (!rawDate) return;\n      const orderDate = new Date(rawDate);\n      if (isNaN(orderDate)) return;\n      const monthYearKey = `${orderDate.getFullYear()}-${String(orderDate.getMonth() + 1).padStart(2, '0')}`;\n      \n      if (!monthlyStats[monthYearKey]) {\n        monthlyStats[monthYearKey] = {\n          month: orderDate.toLocaleDateString('en-US', { month: 'short' }),\n          revenue: 0,\n          orders: 0,\n          customers: new Set(),\n          sortKey: new Date(orderDate.getFullYear(), orderDate.getMonth(), 1).getTime()\n        };\n      }\n      \n      monthlyStats[monthYearKey].revenue += order.totalFoodPrice || 0;\n      monthlyStats[monthYearKey].orders += 1;\n      \n      if (order.customerId) {\n        monthlyStats[monthYearKey].customers.add(order.customerId);\n      } else if (order.customerEmail) {\n        monthlyStats[monthYearKey].customers.add(order.customerEmail);\n      } else if (order.userId) {\n        monthlyStats[monthYearKey].customers.add(order.userId);\n      }\n    });\n\n    // Convert to array and sort by year-month\n    const monthlyData = Object.values(monthlyStats)\n      .map(month => ({\n        ...month,\n        customers: month.customers.size\n      }))\n      .sort((a, b) => a.sortKey - b.sortKey);\n\n    // Calculate growth rates (simplified - comparing last month to previous)\n    const revenueGrowth = monthlyData.length >= 2 \n      ? ((monthlyData[monthlyData.length - 1].revenue - monthlyData[monthlyData.length - 2].revenue) / monthlyData[monthlyData.length - 2].revenue * 100)\n      : 0;\n    \n    const orderGrowth = monthlyData.length >= 2 \n      ? ((monthlyData[monthlyData.length - 1].orders - monthlyData[monthlyData.length - 2].orders) / monthlyData[monthlyData.length - 2].orders * 100)\n      : 0;\n    \n    const customerGrowth = monthlyData.length >= 2 \n      ? ((monthlyData[monthlyData.length - 1].customers - monthlyData[monthlyData.length - 2].customers) / monthlyData[monthlyData.length - 2].customers * 100)\n      : 0;\n\n    return {\n      totalRevenue,\n      orderCount,\n      customerCount,\n      revenueGrowth: Math.round(revenueGrowth * 10) / 10,\n      orderGrowth: Math.round(orderGrowth * 10) / 10,\n      customerGrowth: Math.round(customerGrowth * 10) / 10,\n      orderTypeCounts,\n      monthlyData\n    };\n  };\n\n  const [analytics, setAnalytics] = useState(calculateAnalytics());\n  const [timeFrame, setTimeFrame] = useState(\"This Month\");\n\n  // Recalculate analytics when orders change\n  useEffect(() => {\n    setAnalytics(calculateAnalytics());\n  }, [orders]);\n\n    const formatCurrency = (amount) => {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'ETB'\n        }).format(amount);\n    };\n\n    const StatCard = ({ title, value, growth, icon: Icon, isRevenue = false }) => {\n        const isPositive = growth > 0;\n        const isZero = growth === 0;\n        const displayValue = isRevenue ? formatCurrency(value) : value.toLocaleString();\n\n        return (\n            <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow duration-300\">\n                <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"p-3 bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                        <Icon className=\"w-6 h-6 text-[#8B4513]\" />\n                    </div>\n                    <div className={`flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${\n                        isZero\n                            ? 'hidden'\n                            : isPositive \n                                ? 'bg-green-100 text-green-700' \n                                : 'bg-red-100 text-red-700'\n                    }`}>\n                        {isPositive ? <TrendingUp className=\"w-4 h-4\" /> : isZero ? <Minus className=\"w-4 h-4\" /> : <TrendingDown className=\"w-4 h-4\" />}\n                        {Math.abs(growth)}%\n                    </div>\n                </div>\n                <h3 className=\"text-2xl font-bold text-[#4b2e2e] mb-1\">{displayValue}</h3>\n                <p className=\"text-[#5f4637] text-sm\">{title}</p>\n            </div>\n        );\n    };\n\n    const OrdersByTypeCard = ({ counts }) => {\n        const totalByType = counts.dineIn + counts.delivery + counts.takeAway;\n        return (\n            <div className=\"bg-white border border-[#e2b96c] rounded-2xl p-7 shadow-lg hover:shadow-xl transition-shadow duration-300\">\n                <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"p-4 bg-[#8B4513]/10 rounded-xl flex items-center justify-center\">\n                        <ShoppingBag className=\"w-7 h-7 text-[#8B4513]\" />\n                    </div>\n                </div>\n                {/* <h3 className=\"text-3xl font-extrabold text-[#342211] mb-0.5 tracking-tight\">{totalByType.toLocaleString()}</h3> */}\n                {/* <p className=\"text-[#85644b] text-[15px] mb-4 font-medium\">Orders by Type</p> */}\n                <div className=\"mt-2 grid grid-cols-3 gap-3 text-center\">\n                  <div className=\"flex flex-col items-center\">\n                    <span className=\"text-[13px] text-[#927556] font-semibold mb-1\">Dine-in</span>\n                    <span className=\"text-xl font-bold text-[#5a3620]\">{counts.dineIn}</span>\n                  </div>\n                  <div className=\"flex flex-col items-center\">\n                    <span className=\"text-[13px] text-[#927556] font-semibold mb-1\">Delivery</span>\n                    <span className=\"text-xl font-bold text-[#5a3620]\">{counts.delivery}</span>\n                  </div>\n                  <div className=\"flex flex-col items-center\">\n                    <span className=\"text-[13px] text-[#927556] font-semibold mb-1\">Take-away</span>\n                    <span className=\"text-xl font-bold text-[#5a3620]\">{counts.takeAway}</span>\n                  </div>\n                </div>\n            </div>\n        );\n    };\n\n    const ChartBar = ({ data, maxValue, label }) => {\n        const height = (data / maxValue) * 100;\n        return (\n            <div className=\"flex flex-col items-center gap-2\">\n                <div className=\"w-8 bg-gray-200 rounded-t-md h-32 flex items-end\">\n                    <div \n                        className=\"w-full bg-gradient-to-t from-[#722828] to-[#a05c2c] rounded-t-md transition-all duration-500\"\n                        style={{ height: `${height}%` }}\n                    ></div>\n                </div>\n                <span className=\"text-xs text-[#5f4637] font-medium\">{label}</span>\n            </div>\n        );\n    };\n    const restaurantInfo = JSON.parse(sessionStorage.getItem(\"user-data\"));\n    const restaurantName = restaurantInfo.state.restaurant.name;\n\n    return (\n        <div className=\"h-[calc(100vh-65px)] bg-[#f9f5f0] p-6 overflow-y-auto\">\n            <div className=\"max-w-7xl mx-auto\">\n                {/* Header */}\n                    <div className=\"flex justify-between items-center mb-8\">\n                        <div className=\"flex items-center gap-3\">\n\n                    <div className=\" bg-[#8B4513] bg-opacity-10 rounded-lg\">\n                            {/* <Users className=\"w-8 h-8 text-[#8B4513]\" /> */}\n                            <img src={restaurantInfo.state.restaurant.imageCover ||restaurantInfo.state.user.profilePicture } alt=\"Restaurant Logo\" className=\"w-16 h-16 rounded-lg object-cover border-2 border-white/20\" />\n                        </div>\n                        <div>\n                            <h1 className=\"text-3xl font-bold text-[#4b2e2e]\">{restaurantName}</h1>\n                            <p className=\"text-[#5f4637] mt-1\">Business Insights</p>\n                        </div>\n                        </div>\n                    {/* <select \n                        value={timeFrame}\n                        onChange={(e) => setTimeFrame(e.target.value)}\n                        className=\"bg-white border border-[#e2b96c] rounded-lg px-4 py-2 text-[#4b2e2e] focus:outline-none focus:ring-2 focus:ring-[#8B4513]\"\n                    >\n                        <option>This Week</option>\n                        <option>This Month</option>\n                        <option>This Quarter</option>\n                        <option>This Year</option>\n                    </select> */}\n                </div>\n\n                {/* Stats Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                    <StatCard\n                        title=\"Total Revenue\"\n                        value={analytics.totalRevenue}\n                        growth={analytics.revenueGrowth}\n                        icon={DollarSign}\n                        isRevenue={true}\n                    />\n                    <StatCard\n                        title=\"Total Orders\"\n                        value={analytics.orderCount }\n                        growth={analytics.orderGrowth}\n                        icon={ShoppingBag}\n                    />\n                    <OrdersByTypeCard counts={analytics.orderTypeCounts} />\n                </div>\n\n                {/* Charts Section */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                    {/* Revenue Chart */}\n                    <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                        <h3 className=\"text-xl font-semibold text-[#4b2e2e] mb-6\">Monthly Revenue</h3>\n                        <div className=\"flex items-end justify-between gap-4 h-40\">\n                            {analytics.monthlyData.map((data, index) => (\n                                <div key={index} className=\"flex flex-col items-center\">\n                                    <span className=\"text-xs text-[#5f4637] mb-1 font-medium\">\n                                        {formatCurrency(data.revenue)}\n                                    </span>\n                                    <ChartBar\n                                        data={data.revenue}\n                                        maxValue={Math.max(...analytics.monthlyData.map(d => d.revenue))}\n                                        label={data.month}\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Orders Chart */}\n                    <div className=\"bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                        <h3 className=\"text-xl font-semibold text-[#4b2e2e] mb-6\">Monthly Orders</h3>\n                        <div className=\"relative flex items-end justify-between gap-4 h-40\">\n                            {/* Vertical axis with numbers */}\n                            <div className=\"absolute left-0 top-0 bottom-0 w-12 flex flex-col justify-between text-xs text-[#8B4513] font-medium\">\n                                {(() => {\n                                    const maxOrders = Math.max(...analytics.monthlyData.map(d => d.orders));\n                                    const step = Math.ceil(maxOrders / 4);\n                                    return [\n                                        <span key=\"4\">{maxOrders}</span>,\n                                        <span key=\"3\">{Math.ceil(maxOrders * 0.75)}</span>,\n                                        <span key=\"2\">{Math.ceil(maxOrders * 0.5)}</span>,\n                                        <span key=\"1\">{Math.ceil(maxOrders * 0.25)}</span>,\n                                        <span key=\"0\">0</span>\n                                    ];\n                                })()}\n                            </div>\n                            {/* Vertical line */}\n                            <div className=\"absolute left-12 top-0 bottom-0 border-l border-[#8B4513] opacity-30\"></div>\n                            <div className=\"ml-16 flex items-end justify-between gap-4 h-40 flex-1\">\n                                {analytics.monthlyData.map((data, index) => (\n                                    <div key={index} className=\"relative group\">\n                                        {/* Tooltip */}\n                                        <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-[#4b2e2e] text-white px-2 py-1 rounded text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10\">\n                                            {data.orders} orders\n                                        </div>\n                                        <ChartBar\n                                            data={data.orders}\n                                            maxValue={Math.max(...analytics.monthlyData.map(d => d.orders))}\n                                            label={data.month}\n                                        />\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Summary Section */}\n                {/* <div className=\"mt-8 bg-white border border-[#e2b96c] rounded-xl p-6 shadow-md\">\n                    <h3 className=\"text-xl font-semibold text-[#4b2e2e] mb-4\">Performance Summary</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                        <div className=\"text-center p-4 bg-[#8B4513] bg-opacity-5 rounded-lg\">\n                            <p className=\"text-[#5f4637]\">Average Order Value</p>\n                            <p className=\"text-lg font-semibold text-[#4b2e2e]\">{formatCurrency(analytics.totalRevenue / analytics.orderCount)}</p>\n                        </div>\n                        <div className=\"text-center p-4 bg-[#8B4513] bg-opacity-5 rounded-lg\">\n                            <p className=\"text-[#5f4637]\">Orders per Customer</p>\n                            <p className=\"text-lg font-semibold text-[#4b2e2e]\">{(analytics.orderCount / analytics.customerCount).toFixed(1)}</p>\n                        </div>\n                        <div className=\"text-center p-4 bg-[#8B4513] bg-opacity-5 rounded-lg\">\n                            <p className=\"text-[#5f4637]\">Revenue per Customer</p>\n                            <p className=\"text-lg font-semibold text-[#4b2e2e]\">{formatCurrency(analytics.totalRevenue / analytics.customerCount)}</p>\n                        </div>\n                    </div>\n                </div> */}\n            </div>\n        </div>\n    );\n}\n \nexport default Analytics;","size_bytes":16933},"src/pages/A-DemoPages/ManagersList.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport UseFetch from \"../../services/get\";\nimport Card from \"../../components/Cards/Cards\";\nimport {Loading , InlineLoadingDots} from \"../../components/Loading/Loading\";\n\nconst ManagerList = () => {\n  const [managers, setManagers] = useState([]);\n  const { data, loading, errorMg } = UseFetch(\n    \"https://gebeta-delivery1.onrender.com/api/v1/users\",\n    {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (Array.isArray(data?.data?.users)) {\n      setManagers(data.data.users);\n    }\n  }, [data]);\n  console.log(managers)\n\n  return (\n    <div className=\"p-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {errorMg && <p className=\"text-red-500\">{errorMg}</p>}\n      {loading ? (\n        <Loading />\n      ) : (\n        managers.map((manager) => (\n          <Card key={manager._id}>\n            <h2 className=\"text-xl font-semibold\">{manager.firstName || \"Unnamed\"}</h2>\n            <img src={manager.profilePicture} alt=\"\" />\n            <p>Email: {manager.email || \"N/A\"}</p>\n            <p>Phone: {manager.phone}</p>\n          </Card>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default ManagerList;\n","size_bytes":1248},"src/components/GlobalNotifications.jsx":{"content":"import { useEffect } from 'react';\nimport { X, Bell, AlertCircle, CheckCircle, Info } from 'lucide-react';\nimport useUserStore from '../Store/UseStore';\nimport bellSound from '../assets/N-Bell.mp3';\n\nconst GlobalNotifications = () => {\n  const { \n    notifications, \n    removeNotification, \n    cleanupNotifications,\n    newOrderAlert,\n    setNewOrderAlert \n  } = useUserStore();\n\n  // Auto-cleanup notifications every 30 seconds\n  useEffect(() => {\n    const cleanupTimeout = setTimeout(() => {\n      cleanupNotifications();\n    }, 3000);\n\n    return () => clearInterval(cleanupInterval);\n  }, [cleanupNotifications]);\n\n  // Auto-hide new order alert after 5 seconds\n  useEffect(() => {\n    if (newOrderAlert) {\n      // Play bell sound for new order\n      const audio = new Audio(bellSound);\n      audio.play().catch(error => {\n        console.log('Could not play notification sound:', error);\n      });\n      \n      const timer = setTimeout(() => {\n        setNewOrderAlert(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [newOrderAlert, setNewOrderAlert]);\n\n  const getNotificationIcon = (type) => {\n    switch (type) {\n      case 'success':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case 'error':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\n      case 'warning':\n        return <AlertCircle className=\"w-5 h-5 text-yellow-500\" />;\n      default:\n        return <Info className=\"w-5 h-5 text-blue-500\" />;\n    }\n  };\n\n  const getNotificationStyle = (type) => {\n    switch (type) {\n      case 'success':\n        return 'border-green-200 bg-green-50 text-green-800';\n      case 'error':\n        return 'border-red-200 bg-red-50 text-red-800';\n      case 'warning':\n        return 'border-yellow-200 bg-yellow-50 text-yellow-800';\n      default:\n        return 'border-blue-200 bg-blue-50 text-blue-800';\n    }\n  };\n\n  if (notifications.length === 0 && !newOrderAlert) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2 max-w-sm\">\n      {/* New Order Alert */}\n      {newOrderAlert && (\n        <div className=\"animate-bounce bg-orange-500 text-white px-4 py-3 rounded-lg shadow-lg border border-orange-300 flex items-center gap-3\">\n          <Bell className=\"w-5 h-5 animate-pulse\" />\n          <div>\n            <p className=\"font-semibold\">New Order!</p>\n            <p className=\"text-sm opacity-90\">You have a new order to process</p>\n          </div>\n          <button\n            onClick={() => setNewOrderAlert(false)}\n            className=\"ml-auto text-orange-200 hover:text-white transition-colors\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      )}\n\n      {/* Regular Notifications */}\n      {notifications.map((notification) => (\n        <div\n          key={notification.id}\n          className={`p-4 rounded-lg shadow-lg border ${getNotificationStyle(notification.type)} animate-slide-in-right`}\n        >\n          <div className=\"flex items-start gap-3\">\n            {getNotificationIcon(notification.type)}\n            <div className=\"flex-1\">\n              <h4 className=\"font-semibold\">{notification.title}</h4>\n              <p className=\"text-sm mt-1\">{notification.message}</p>\n              {notification.timestamp && (\n                <p className=\"text-xs opacity-70 mt-1\">\n                  {new Date(notification.timestamp).toLocaleTimeString()}\n                </p>\n              )}\n            </div>\n            <button\n              onClick={() => removeNotification(notification.id)}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default GlobalNotifications;\n","size_bytes":3831},"src/Store/UseStore.js":{"content":"import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nconst useUserStore = create(\n  persist(\n    (set, get) => ({\n      user: null,\n      restaurant: null,\n\n      // Boolean to track if user is logged in\n      isLoggedIn: false,\n\n      // Notification state\n      notifications: [],\n      newOrderAlert: false,\n      latestOrderId: null,\n\n      // Orders state\n      orders: [],\n      ordersLoading: false,\n      ordersError: null,\n\n      // Menus state - Cached persistently in sessionStorage\n      // Cache is only refreshed on manual refresh or data modifications\n      menus: [],\n      menusLoading: false,\n      menusError: null,\n\n      // Foods state (organized by menuId) - Cached persistently in sessionStorage\n      // Structure: { menuId: { foods: [] } }\n      // Each menu's foods are cached separately and persist in sessionStorage\n      foodsByMenu: {}, // { menuId: { foods: [] } }\n      foodsLoading: false,\n      foodsError: null,\n\n      setUser: (userData) => set({ user: userData, isLoggedIn: !!userData }),\n      clearUser: () => set({ user: null, isLoggedIn: false }),\n\n      // Update only the firstLogin flag inside the user object\n      setUserFirstLogin: (firstLogin) =>\n        set((state) => ({\n          user: state.user ? { ...state.user, firstLogin } : state.user,\n        })),\n          \n      setRestaurant: (restaurantData) => set({ restaurant: restaurantData }),\n      clearRestaurant: () => set({ restaurant: null }),\n\n      // Notification actions\n      addNotification: (notification) => set((state) => ({\n        notifications: [...state.notifications, { ...notification, id: Date.now(), timestamp: new Date() }]\n      })),\n      \n      removeNotification: (id) => set((state) => ({\n        notifications: state.notifications.filter(n => n.id !== id)\n      })),\n      \n      clearNotifications: () => set({ notifications: [] }),\n      \n      setNewOrderAlert: (alert) => set({ newOrderAlert: alert }),\n      setLatestOrderId: (id) => set({ latestOrderId: id }),\n      \n      // Orders actions\n      setOrders: (orders) => set({ orders }),\n      setOrdersLoading: (loading) => set({ ordersLoading: loading }),\n      setOrdersError: (error) => set({ ordersError: error }),\n      \n      updateOrderStatus: (orderId, newStatus) => set((state) => ({\n        orders: state.orders.map(order => \n          order.orderId === orderId \n            ? { ...order, orderStatus: newStatus }\n            : order\n        )\n      })),\n      \n      // Auto-remove old notifications (keep only last 10)\n      cleanupNotifications: () => set((state) => ({\n        notifications: state.notifications.slice(-10)\n      })),\n\n      // Menus actions\n      setMenus: (menus) => set({ \n        menus,\n        menusError: null \n      }),\n      \n      setMenusLoading: (loading) => set({ menusLoading: loading }),\n      \n      setMenusError: (error) => set({ menusError: error }),\n      \n      addMenu: (menu) => set((state) => ({\n        menus: [...state.menus, menu]\n      })),\n      \n      updateMenu: (menuId, updatedData) => set((state) => ({\n        menus: state.menus.map(menu => \n          menu._id === menuId \n            ? { ...menu, ...updatedData }\n            : menu\n        )\n      })),\n      \n      deleteMenu: (menuId) => set((state) => ({\n        menus: state.menus.filter(menu => menu._id !== menuId)\n      })),\n\n      // Fetch menus from API\n      fetchMenus: async (restaurantId, force = false) => {\n        const state = get();\n        \n        // Skip if we have cached data and not forcing refresh\n        if (!force && state.menus.length > 0) {\n          return state.menus;\n        }\n\n        set({ menusLoading: true, menusError: null });\n        \n        try {\n          const res = await fetch(\n            `https://gebeta-delivery1.onrender.com/api/v1/food-menus?restaurantId=${restaurantId}`,\n            {\n              headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n            }\n          );\n          \n          const data = await res.json();\n          \n          if (res.ok) {\n            state.setMenus(data.data);\n            return data.data;\n          } else {\n            throw new Error(data.message || \"Failed to fetch menus\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching menus:\", error);\n          set({ menusError: error.message });\n          return null;\n        } finally {\n          set({ menusLoading: false });\n        }\n      },\n\n      // Foods actions\n      setFoodsByMenu: (menuId, foods) => set((state) => ({\n        foodsByMenu: {\n          ...state.foodsByMenu,\n          [menuId]: { foods }\n        },\n        foodsError: null\n      })),\n      \n      setFoodsLoading: (loading) => set({ foodsLoading: loading }),\n      \n      setFoodsError: (error) => set({ foodsError: error }),\n      \n      addFood: (menuId, food) => set((state) => {\n        const menuFoods = state.foodsByMenu[menuId];\n        if (!menuFoods) return state;\n        \n        return {\n          foodsByMenu: {\n            ...state.foodsByMenu,\n            [menuId]: {\n              foods: [...menuFoods.foods, food]\n            }\n          }\n        };\n      }),\n      \n      updateFood: (menuId, foodId, updatedData) => set((state) => {\n        const menuFoods = state.foodsByMenu[menuId];\n        if (!menuFoods) return state;\n        \n        return {\n          foodsByMenu: {\n            ...state.foodsByMenu,\n            [menuId]: {\n              foods: menuFoods.foods.map(food => \n                food._id === foodId \n                  ? { ...food, ...updatedData }\n                  : food\n              )\n            }\n          }\n        };\n      }),\n      \n      deleteFood: (menuId, foodId) => set((state) => {\n        const menuFoods = state.foodsByMenu[menuId];\n        if (!menuFoods) return state;\n        \n        return {\n          foodsByMenu: {\n            ...state.foodsByMenu,\n            [menuId]: {\n              foods: menuFoods.foods.filter(food => food._id !== foodId)\n            }\n          }\n        };\n      }),\n\n      // Fetch foods for a specific menu\n      fetchFoodsByMenu: async (menuId, force = false) => {\n        const state = get();\n        \n        // Skip if we have cached data and not forcing refresh\n        if (!force && state.foodsByMenu[menuId]) {\n          return state.foodsByMenu[menuId].foods;\n        }\n\n        set({ foodsLoading: true, foodsError: null });\n        \n        try {\n          const res = await fetch(\n            `https://gebeta-delivery1.onrender.com/api/v1/foods/by-menu/${menuId}`,\n            {\n              headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n              },\n            }\n          );\n          \n          const data = await res.json();\n          \n          if (res.ok) {\n            const foods = data.data.foods || [];\n            state.setFoodsByMenu(menuId, foods);\n            return foods;\n          } else {\n            throw new Error(data.message || \"Failed to fetch foods\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching foods:\", error);\n          set({ foodsError: error.message });\n          return [];\n        } finally {\n          set({ foodsLoading: false });\n        }\n      },\n\n      // Clear all menu and food cache\n      clearMenusCache: () => set({\n        menus: [],\n        foodsByMenu: {},\n      }),\n    }),\n    {\n      name: \"user-data\", // key in sessionStorage\n      storage: {\n        getItem: (name) => {\n          const item = sessionStorage.getItem(name);\n          return item ? JSON.parse(item) : null;\n        },\n        setItem: (name, value) => {\n          sessionStorage.setItem(name, JSON.stringify(value));\n        },\n        removeItem: (name) => {\n          sessionStorage.removeItem(name);\n        },\n      },\n      // Only persist data, not loading/error states\n      partialize: (state) => ({\n        user: state.user,\n        restaurant: state.restaurant,\n        isLoggedIn: state.isLoggedIn,\n        notifications: state.notifications,\n        newOrderAlert: state.newOrderAlert,\n        latestOrderId: state.latestOrderId,\n        orders: state.orders,\n        menus: state.menus,\n        foodsByMenu: state.foodsByMenu,\n        // Loading and error states are NOT persisted - they always start fresh\n      }),\n    }\n  )\n);\n\nexport default useUserStore;\n","size_bytes":8408},"src/components/UserForms/M-addFood.jsx":{"content":"import { useState } from \"react\";\nimport useUserStore from \"../../Store/UseStore\";\n\nconst AddFood = ({ menuId }) => {\n  const { addFood } = useUserStore();\n  const [formData, setFormData] = useState({\n    foodName: \"\",\n    price: \"\",\n    menuId: menuId,\n    ingredients: \"\",\n    instructions: \"\",\n    cookingTimeMinutes: \"\",\n    imageCover: \"\",\n    isFeatured: false,\n    status: \"Available\",\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [imagePreview, setImagePreview] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked, files } = e.target;\n\n    if (type === \"file\") {\n      const file = files[0];\n      if (file) {\n        // Validate file type\n        if (!file.type.startsWith(\"image/\")) {\n          setError(\"Please select an image file\");\n          return;\n        }\n        \n        // Validate file size (max 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n          setError(\"Image size should be less than 5MB\");\n          return;\n        }\n        \n        setError(\"\");\n        const imageUrl = URL.createObjectURL(file);\n        setImagePreview(imageUrl);\n        setFormData((prev) => ({\n          ...prev,\n          [name]: file,\n        }));\n      }\n    } else {\n      setFormData((prev) => ({\n        ...prev,\n        [name]: type === \"checkbox\" ? checked : value,\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (!formData.foodName || !formData.price || !formData.menuId) {\n      setError(\"Please fill in all required fields\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const payload = new FormData();\n      payload.append(\"foodName\", formData.foodName);\n      payload.append(\"price\", parseFloat(formData.price));\n      payload.append(\"menuId\", formData.menuId);\n      \n      if (formData.ingredients) payload.append(\"ingredients\", formData.ingredients);\n      if (formData.instructions) payload.append(\"instructions\", formData.instructions);\n      if (formData.cookingTimeMinutes) payload.append(\"cookingTimeMinutes\", parseInt(formData.cookingTimeMinutes));\n      if (formData.imageCover) payload.append(\"imageCover\", formData.imageCover);\n      \n      payload.append(\"isFeatured\", formData.isFeatured);\n      payload.append(\"status\", formData.status);\n\n      const response = await fetch(\"https://gebeta-delivery1.onrender.com/api/v1/foods\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: payload,\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // Add the new food to the store\n        addFood(menuId, data.data);\n        \n        setFormData({\n          foodName: \"\",\n          price: \"\",\n          menuId: menuId,\n          ingredients: \"\",\n          cookingTimeMinutes: \"\",\n          imageCover: \"\",\n          isFeatured: false,\n          status: \"Available\",\n        });\n        setImagePreview(\"\");\n        alert(\"Food item added successfully!\");\n      } else {\n        setError(data.message || \"Failed to add food item\");\n      }\n    } catch (error) {\n      console.error(\"Error adding food item:\", error);\n      setError(\"Error adding food item. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n    <div className=\"flex flex-col md:flex-row gap-6 max-w-4xl mx-auto p-1\">\n      <form onSubmit={handleSubmit} className=\"space-y-1 font-noto flex-1\">\n        \n        \n        <div>\n          <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n            Food Name *\n          </label>\n          <input\n            type=\"text\"\n            name=\"foodName\"\n            value={formData.foodName}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n            required\n          />\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n              Price *\n            </label>\n            <input\n              type=\"number\"\n              name=\"price\"\n              value={formData.price}\n              onChange={handleInputChange}\n              min=\"0\"\n              step=\"0.01\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n              required\n            />\n          </div>\n\n          <div className=\"flex-1\">\n            <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n              Cooking Time (minutes)\n            </label>\n            <input\n              type=\"number\"\n              name=\"cookingTimeMinutes\"\n              value={formData.cookingTimeMinutes}\n              onChange={handleInputChange}\n              min=\"1\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n            Ingredients\n          </label>\n          <textarea\n            name=\"ingredients\"\n            value={formData.ingredients}\n            onChange={handleInputChange}\n            rows=\"3\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n            placeholder=\"List ingredients (comma-separated)\"\n          />\n        </div>\n\n        {/* <div>\n          <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n            Instructions\n          </label>\n          <textarea\n            name=\"instructions\"\n            value={formData.instructions}\n            onChange={handleInputChange}\n            rows=\"3\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n            placeholder=\"Cooking instructions\"\n          />\n        </div> */}\n\n        <div>\n          <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n            Image Cover\n          </label>\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            name=\"imageCover\"\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n          />\n        </div>\n\n        {/* <div className=\"flex flex-col sm:flex-row gap-4 items-center\">\n          <div className=\"flex-1\">\n            <label className=\"block text-sm font-medium text-[#4b382a] mb-1\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              value={formData.status}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4b382a]\"\n            >\n              <option value=\"Available\">Available</option>\n              <option value=\"Unavailable\">Unavailable</option>\n            </select>\n          </div>\n\n          {/* <div className=\"flex items-center mt-4\">\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                name=\"isFeatured\"\n                checked={formData.isFeatured}\n                onChange={handleInputChange}\n                className=\"sr-only\"\n              />\n              <div\n                className={`w-11 h-6 rounded-full transition-colors duration-200 ${\n                  formData.isFeatured ? \"bg-[#4b382a]\" : \"bg-gray-200\"\n                }`}\n              >\n                <div\n                  className={`w-5 h-5 bg-white rounded-full shadow transform transition-transform duration-200 ${\n                    formData.isFeatured ? \"translate-x-5\" : \"translate-x-0\"\n                  } mt-0.5 ml-0.5`}\n                ></div>\n              </div>\n              <span className=\"ml-3 text-sm text-[#4b382a]\">Featured Item</span>\n            </label>\n          </div> \n        </div> */}\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-[#905618] text-white py-2 px-4 rounded-md hover:bg-[#3d2e22] focus:outline-none focus:ring-2 focus:ring-[#4b382a] disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          {loading ? \"Adding...\" : \"Add Food Item\"}\n        </button>\n      </form>\n\n      <div className=\"flex flex-col items-center justify-center mt-4 md:mt-0\">\n        <h3 className=\"text-sm font-medium text-[#4b382a] mb-2\">Image Preview</h3>\n        {imagePreview ? (\n          <div className=\"border-2 border-gray-300 rounded-md p-2\">\n            <img\n              src={imagePreview}\n              alt=\"Food Preview\"\n              className=\"h-48 w-48 object-cover rounded-md shadow-md\"\n            />\n          </div>\n        ) : (\n          <div className=\"relative h-48 w-48 border-2 border-dashed border-gray-300 rounded-md flex items-center justify-center text-center text-gray-400\">\n           \n              <span className=\"text-lg text-center\"> Recommended image size is 1:1 (100x100)</span>\n          </div>\n        )}\n      </div>\n    </div>\n    <div className=\"flex justify-center items-center gap-4 h-[50px] pt-2\">\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n            {error}\n          </div>\n        )}\n\n        </div>\n        </>\n  );\n};\n\nexport default AddFood;","size_bytes":9720},"src/pages/A-DemoPages/A-analytics.jsx":{"content":"import React, { useState, useEffect } from \"react\";\n\nexport default function MoneyFlow() {\n  const [foodPrice, setFoodPrice] = useState(200);\n  const [deliveryFee, setDeliveryFee] = useState(100);\n  const [result, setResult] = useState(null);\n  const [showFlow1, setShowFlow1] = useState(false);\n  const [showFlow3, setShowFlow3] = useState(false);\n  const [flow1FoodPrice, setFlow1FoodPrice] = useState(500);\n  const [flow1DeliveryFee, setFlow1DeliveryFee] = useState(100);\n  const [flow1Output, setFlow1Output] = useState(\"\");\n  const [flow3FoodPrice, setFlow3FoodPrice] = useState(200);\n  const [flow3DeliveryFee, setFlow3DeliveryFee] = useState(100);\n  const [flow3Result, setFlow3Result] = useState(null);\n\n  const processPayment = () => {\n    const food = parseFloat(foodPrice);\n    const delivery = parseFloat(deliveryFee);\n\n    if (isNaN(food) || isNaN(delivery)) {\n      setResult(\"❗ Please enter valid numbers.\");\n      return;\n    }\n\n    // Step 1: Food payment\n    const gebetaFoodShare = food * 0.08;\n    const restaurantShare = food - gebetaFoodShare;\n\n    // Step 2: Delivery payment DF \n    const deliveryGuyIncoming = delivery;\n\n    // Step 3: Gebeta only deducts 30% of delivery fee\n    const deduction = delivery * 0.3;\n    const netDeliveryGuy = deliveryGuyIncoming - deduction;\n\n    setResult({\n      totalPaid: food + delivery,\n      gebetaFoodShare,\n      restaurantShare,\n      deliveryGuyIncoming,\n      deduction,\n      netDeliveryGuy,\n    });\n  };\n\n  const processFlow1Payment = () => {\n    const foodPrice = parseFloat(flow1FoodPrice);\n    const deliveryFee = parseFloat(flow1DeliveryFee);\n\n    if (isNaN(foodPrice) || isNaN(deliveryFee)) {\n      setFlow1Output(\"❗ Please enter valid numbers.\");\n      return;\n    }\n\n    const gebetaFoodShare = foodPrice * 0.08;\n    const gebetaDeliveryShare = deliveryFee * 0.30;\n    const restaurantShare = foodPrice - gebetaFoodShare;\n    const deliveryGuyShare = deliveryFee - gebetaDeliveryShare;\n\n    setFlow1Output(`\n      <h3>💰 Payment Breakdown</h3>\n      <p><strong>Total Paid:</strong> ${foodPrice + deliveryFee} ETB</p>\n      <p><strong>Gebeta Company:</strong><br/>\n      - 8% of food price: ${gebetaFoodShare.toFixed(2)} ETB<br/>\n      - 30% of delivery fee: ${gebetaDeliveryShare.toFixed(2)} ETB</p>\n      <p><strong>Restaurant:</strong><br/>\n      - Remaining food price: ${restaurantShare.toFixed(2)} ETB</p>\n      <p><strong>Delivery Guy:</strong><br/>\n      - Remaining delivery fee: ${deliveryGuyShare.toFixed(2)} ETB</p>\n    `);\n  };\n\n  const processFlow3Payment = () => {\n    const food = parseFloat(flow3FoodPrice);\n    const delivery = parseFloat(flow3DeliveryFee);\n\n    if (isNaN(food) || isNaN(delivery)) {\n      setFlow3Result(\"❗ Please enter valid numbers.\");\n      return;\n    }\n\n    const totalPaid = food + delivery;\n\n    // Step 2: Gateway splits\n    const gebetaFirstTotalCommission = totalPaid * 0.08;\n\n    const restaurantReceives =  food -(food * 0.08);\n\n    // Step 3: Restaurant gives the change (delivery fee) to the delivery guy\n    const deliveryGuyIncoming =  delivery - (delivery * 0.08)\n// console.log(deliveryGuyIncoming)\n\n    // Step 4: Gebeta deducts 22% of the delivery fee from the delivery guy's wallet\n    const gebetaDeliveryShare = deliveryGuyIncoming * 0.22;\n    const deliveryGuyNet = deliveryGuyIncoming - gebetaDeliveryShare;\n\n    setFlow3Result({\n      totalPaid,\n      gebetaFirstTotalCommission,\n      restaurantReceives,\n      deliveryGuyIncoming,\n      gebetaDeliveryShare,\n      deliveryGuyNet\n    });\n  };\n\n  useEffect(() => {\n    processPayment();\n  }, []);\n\n  useEffect(() => {\n    if (showFlow1) {\n      processFlow1Payment();\n    }\n  }, [showFlow1, flow1FoodPrice, flow1DeliveryFee]);\n\n  useEffect(() => {\n    if (showFlow3) {\n      processFlow3Payment();\n    }\n  }, [showFlow3, flow3FoodPrice, flow3DeliveryFee]);\n\n  const Flow1Component = () => (\n    <div style={{\n      fontFamily: \"'Segoe UI', sans-serif\",\n      background: \"#f4f6f8\",\n      padding: \"40px\",\n      color: \"#333\",\n      minHeight: \"100vh\"\n    }}>\n      <div style={{\n        maxWidth: \"700px\",\n        margin: \"auto\",\n        background: \"#fff\",\n        padding: \"30px\",\n        borderRadius: \"12px\",\n        boxShadow: \"0 8px 20px rgba(0,0,0,0.1)\"\n      }}>\n        <h1 style={{\n          textAlign: \"center\",\n          color: \"#2c3e50\"\n        }}>💳 Gebeta Payment Flow</h1>\n\n        <label style={{\n          fontWeight: \"bold\",\n          marginTop: \"20px\",\n          display: \"block\"\n        }}>Enter Food Price (ETB):</label>\n        <input\n          type=\"number\"\n          value={flow1FoodPrice}\n          onChange={(e) => setFlow1FoodPrice(e.target.value)}\n          style={{\n            width: \"100%\",\n            padding: \"12px\",\n            marginTop: \"8px\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\",\n            fontSize: \"16px\",\n            boxSizing: \"border-box\"\n          }}\n        />\n\n        <label style={{\n          fontWeight: \"bold\",\n          marginTop: \"20px\",\n          display: \"block\"\n        }}>Enter Delivery Fee (ETB):</label>\n        <input\n          type=\"number\"\n          value={flow1DeliveryFee}\n          onChange={(e) => setFlow1DeliveryFee(e.target.value)}\n          style={{\n            width: \"100%\",\n            padding: \"12px\",\n            marginTop: \"8px\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\",\n            fontSize: \"16px\",\n            boxSizing: \"border-box\"\n          }}\n        />\n\n        <button\n          onClick={processFlow1Payment}\n          style={{\n            marginTop: \"25px\",\n            padding: \"14px 24px\",\n            backgroundColor: \"#27ae60\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            fontSize: \"16px\",\n            cursor: \"pointer\",\n            width: \"100%\"\n          }}\n          onMouseOver={(e) => e.target.style.backgroundColor = \"#219150\"}\n          onMouseOut={(e) => e.target.style.backgroundColor = \"#27ae60\"}\n        >\n          Split Payment\n        </button>\n\n        <div\n          style={{\n            marginTop: \"30px\",\n            background: \"#eafaf1\",\n            padding: \"20px\",\n            borderRadius: \"10px\",\n            borderLeft: \"6px solid #2ecc71\"\n          }}\n          dangerouslySetInnerHTML={{ __html: flow1Output }}\n        />\n\n        <div style={{\n          marginTop: \"30px\",\n          padding: \"20px\",\n          background: \"#f0f0ff\",\n          borderRadius: \"10px\",\n          borderLeft: \"6px solid #3498db\"\n        }}>\n          <h3>🔁 Payment Flow Steps</h3>\n          <div style={{\n            margin: \"10px 0\",\n            padding: \"10px\",\n            background: \"#fff\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\"\n          }}>\n            <strong>User</strong> places order and initiates payment\n          </div>\n          <div style={{\n            textAlign: \"center\",\n            fontSize: \"24px\",\n            margin: \"5px 0\",\n            color: \"#3498db\"\n          }}>↓</div>\n          <div style={{\n            margin: \"10px 0\",\n            padding: \"10px\",\n            background: \"#fff\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\"\n          }}>\n            <strong>Yaya Payment Gateway</strong> receives full payment\n          </div>\n          <div style={{\n            textAlign: \"center\",\n            fontSize: \"24px\",\n            margin: \"5px 0\",\n            color: \"#3498db\"\n          }}>↓</div>\n          <div style={{\n            margin: \"10px 0\",\n            padding: \"10px\",\n            background: \"#fff\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\"\n          }}>\n            <strong>Gebeta Company</strong> gets:<br/>\n            - 8% of food price<br/>\n            - 30% of delivery fee\n          </div>\n          <div style={{\n            textAlign: \"center\",\n            fontSize: \"24px\",\n            margin: \"5px 0\",\n            color: \"#3498db\"\n          }}>↓</div>\n          <div style={{\n            margin: \"10px 0\",\n            padding: \"10px\",\n            background: \"#fff\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\"\n          }}>\n            <strong>Restaurant</strong> gets remaining food price\n          </div>\n          <div style={{\n            textAlign: \"center\",\n            fontSize: \"24px\",\n            margin: \"5px 0\",\n            color: \"#3498db\"\n          }}>↓</div>\n          <div style={{\n            margin: \"10px 0\",\n            padding: \"10px\",\n            background: \"#fff\",\n            border: \"1px solid #ccc\",\n            borderRadius: \"8px\"\n          }}>\n            <strong>Delivery Guy</strong> gets remaining delivery fee\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const Flow3Component = () => (\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-6\">\n      <div className=\"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6\">\n        <h1 className=\"text-2xl font-bold text-center text-gray-800 mb-6\">\n          💳 Gebeta Payment Flow (Flow 3)\n        </h1>\n\n        {/* Input Fields */}\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"font-semibold\">Enter Food Price (ETB):</label>\n            <input\n              type=\"number\"\n              value={flow3FoodPrice}\n              onChange={(e) => setFlow3FoodPrice(e.target.value)}\n              className=\"w-full p-2 border rounded-lg mt-2\"\n            />\n          </div>\n          <div>\n            <label className=\"font-semibold\">Enter Delivery Fee (ETB):</label>\n            <input\n              type=\"number\"\n              value={flow3DeliveryFee}\n              onChange={(e) => setFlow3DeliveryFee(e.target.value)}\n              className=\"w-full p-2 border rounded-lg mt-2\"\n            />\n          </div>\n          <button\n            onClick={processFlow3Payment}\n            className=\"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg shadow mt-4\"\n          >\n            Split Payment\n          </button>\n        </div>\n\n        {/* Result Breakdown */}\n        {flow3Result && typeof flow3Result === \"object\" && (\n          <div className=\"mt-6 p-4 bg-green-50 border-l-4 border-green-600 rounded-lg text-gray-800\">\n            <h3 className=\"font-bold mb-2\">💰 Payment Breakdown</h3>\n            <p>\n              <strong>Total Paid by User:</strong> {flow3Result.totalPaid} ETB\n            </p>\n            <p>\n              <strong>Gebeta:</strong>\n              <br /> - 8% of food price (Gateway split):{\" \"}\n              {flow3Result.gebetaFirstTotalCommission.toFixed(2)} ETB\n              <br /> - 22% of delivery fee (Wallet deduction):{\" \"}\n              {flow3Result.gebetaDeliveryShare.toFixed(2)} ETB\n            </p>\n            <p>\n              <strong>Restaurant:</strong>\n              <br /> - Receives from Gateway (Total - 8%):{\" \"}\n              {flow3Result.restaurantReceives.toFixed(2)} ETB\n            </p>\n            <p>\n              <strong>Delivery Guy:</strong>\n              <br /> - Incoming from Restaurant: {flow3Result.deliveryGuyIncoming.toFixed(2)} ETB\n              <br /> - Net balance after deduction:{\" \"}\n              <span className=\"font-bold\">\n                {flow3Result.deliveryGuyNet.toFixed(2)} ETB\n              </span>\n            </p>\n          </div>\n        )}\n\n        {/* Flow Steps */}\n        <div className=\"mt-8 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-600\">\n          <h3 className=\"font-bold mb-3\">🔁 Payment Flow Steps</h3>\n          <div className=\"space-y-2\">\n            <div className=\"p-2 bg-white border rounded-lg\">\n              1️⃣ <strong>User</strong> pays Food + Delivery Fee →{\" \"}\n              <strong>Gateway</strong>\n            </div>\n            <div className=\"text-center text-blue-500\">↓</div>\n            <div className=\"p-2 bg-white border rounded-lg\">\n              2️⃣ <strong>Gateway</strong> splits payment:\n              <br /> - 8% of <strong>Food Price</strong> →{\" \"}\n              <strong>Gebeta Bank</strong>\n              <br /> - Remainder (Food + Delivery - Gebeta's 8%) →{\" \"}\n              <strong>Restaurant</strong>\n            </div>\n            <div className=\"text-center text-blue-500\">↓</div>\n            <div className=\"p-2 bg-white border rounded-lg\">\n              3️⃣ <strong>Restaurant</strong> gives the delivery fee to the{\" \"}\n              <strong>Delivery Guy</strong> as change\n            </div>\n            <div className=\"text-center text-blue-500\">↓</div>\n            <div className=\"p-2 bg-white border rounded-lg\">\n              4️⃣ <strong>Gebeta</strong> deducts{\" \"}\n              <span className=\"text-red-600\">22% of delivery fee</span> from the\n              <strong>Delivery Guy's Wallet</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (showFlow1) {\n    return (\n      <div>\n        <div className=\"p-4 bg-white shadow-sm\">\n           <button\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg mr-2\"\n          >\n            Flow 1 (Active)\n          </button>\n          <button\n            onClick={() => setShowFlow1(false)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-2\"\n          >\n            Flow 2\n          </button>\n          <button\n            onClick={() => {\n              setShowFlow1(false);\n              setShowFlow3(true);\n            }}\n            className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg\"\n          >\n            Flow 3\n          </button>\n        </div>\n        <Flow1Component />\n      </div>\n    );\n  }\n\n  if (showFlow3) {\n    return (\n      <div>\n        <div className=\"p-4 bg-white shadow-sm\">\n          <button\n            onClick={() => {\n              setShowFlow3(false);\n              setShowFlow1(true);\n            }}\n            className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg mr-2\"\n          >\n            Flow 1\n          </button>\n          <button\n            onClick={() => setShowFlow3(false)}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mr-2\"\n          >\n            Flow 2\n          </button>\n          <button\n            className=\"bg-purple-600 text-white px-4 py-2 rounded-lg\"\n          >\n            Flow 3 (Active)\n          </button>\n        </div>\n        <Flow3Component />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"p-4 bg-white shadow-sm\">\n        <button\n          onClick={() => setShowFlow1(true)}\n          className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg mr-2\"\n        >\n          Flow 1\n        </button>\n        <button\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg mr-2\"\n        >\n          Flow 2 (Active)\n        </button>\n        <button\n          onClick={() => setShowFlow3(true)}\n          className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg\"\n        >\n          Flow 3\n        </button>\n      </div>\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-6\">\n        <div className=\"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6\">\n          <h1 className=\"text-2xl font-bold text-center text-gray-800 mb-6\">\n            💳 Gebeta Payment Flow\n          </h1>\n\n          {/* Input Fields */}\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"font-semibold\">Enter Food Price (ETB):</label>\n              <input\n                type=\"number\"\n                value={foodPrice}\n                onChange={(e) => setFoodPrice(e.target.value)}\n                className=\"w-full p-2 border rounded-lg mt-2\"\n              />\n            </div>\n            <div>\n              <label className=\"font-semibold\">Enter Delivery Fee (ETB):</label>\n              <input\n                type=\"number\"\n                value={deliveryFee}\n                onChange={(e) => setDeliveryFee(e.target.value)}\n                className=\"w-full p-2 border rounded-lg mt-2\"\n              />\n            </div>\n            <button\n              onClick={processPayment}\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg shadow mt-4\"\n            >\n              Split Payment\n            </button>\n          </div>\n\n          {/* Result Breakdown */}\n          {result && typeof result === \"object\" && (\n            <div className=\"mt-6 p-4 bg-green-50 border-l-4 border-green-600 rounded-lg text-gray-800\">\n              <h3 className=\"font-bold mb-2\">💰 Payment Breakdown</h3>\n              <p>\n                <strong>Total Paid:</strong> {result.totalPaid} ETB\n              </p>\n              <p>\n                <strong>Gebeta:</strong>\n                <br /> - 8% of food price: {result.gebetaFoodShare.toFixed(2)} ETB\n                <br /> - 30% of delivery fee: {result.deduction.toFixed(2)} ETB\n              </p>\n              <p>\n                <strong>Restaurant:</strong>\n                <br /> - Remaining food price: {result.restaurantShare.toFixed(2)}{\" \"}\n                ETB\n              </p>\n              <p>\n                <strong>Delivery Guy:</strong>\n                <br /> - Incoming: {result.deliveryGuyIncoming.toFixed(2)} ETB\n                <br /> - Net Balance after deduction:{\" \"}\n                <span\n                  className={`font-bold ${\n                    result.netDeliveryGuy >= 0 ? \"text-green-600\" : \"text-red-600\"\n                  }`}\n                >\n                  {result.netDeliveryGuy.toFixed(2)} ETB\n                </span>\n              </p>\n          </div>\n          )}\n\n          {/* Flow Steps */}\n          <div className=\"mt-8 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-600\">\n            <h3 className=\"font-bold mb-3\">🔁 Payment Flow Steps</h3>\n            <div className=\"space-y-2\">\n              <div className=\"p-2 bg-white border rounded-lg\">\n                <strong>User</strong> pays for food → Gateway\n              </div>\n              <div className=\"text-center text-blue-500\">↓</div>\n              <div className=\"p-2 bg-white border rounded-lg\">\n                <strong>Gateway</strong> splits food payment:\n                <br /> - 8% to <strong>Gebeta Bank</strong>\n                <br /> - 92% to <strong>Restaurant</strong>\n              </div>\n              <div className=\"text-center text-blue-500\">↓</div>\n              <div className=\"p-2 bg-white border rounded-lg\">\n                <strong>User</strong> pays delivery fee directly →\n                <strong> Delivery Guy Bank</strong>\n              </div>\n              <div className=\"text-center text-blue-500\">↓</div>\n              <div className=\"p-2 bg-white border rounded-lg\">\n                <strong>Gebeta</strong> deducts: 30% of delivery fee only\n                <br />\n                <span className=\"text-red-600\">\n                  Deduction reduces Delivery Guy's wallet\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":21810},"tailwind.config.js":{"content":"// tailwind.config.js\nexport default {\n  content: [\"./index.html\", \"./src/**/*.{js,ts,jsx,tsx}\"],\n  theme: {\n    extend: {\n      fontFamily: {\n        poppins: [\"Poppins\", \"sans-serif\"],\n        noto: [\"Noto Sans\", \"sans-serif\"],\n        sans: [\"Poppins\", \"system-ui\", \"sans-serif\"], // Set as default sans font\n      },\n      colors: {\n        primary: \"#000000\",\n        secondary: \"#333333\",\n        accent: \"#666666\",\n        // Background colors\n        background: \"#FFFFFF\",\n        cardBackground: \"#F5F5F5\",\n        inputBackground: \"#F0F0F0\",\n\n        // Text colors\n        text: \"#000000\",\n        lightText: \"#666666\",\n        placeholderText: \"#999999\",\n\n        // Status colors\n        success: \"#4CAF50\",\n        warning: \"#FFC107\",\n        error: \"#F44336\",\n        info: \"#2196F3\",\n\n        // Common colors\n        white: \"#FFFFFF\",\n        black: \"#000000\",\n        // gray: \"#CCCCCC\",\n        lightGray: \"#EEEEEE\",\n        darkGray: \"#333333\",\n\n        // Transparent colors\n        transparent: \"transparent\",\n        semiTransparent: \"rgba(0, 0, 0, 0.5)\",\n\n        // Border colors\n        border: \"#E0E0E0\",\n\n        // Role-specific colors\n        owner: \"#333333\",\n        manager: \"#666666\",\n      },\n    },\n  },\n  plugins: [require('tailwindcss-motion'),require('tailwind-scrollbar-hide')], \n};\n","size_bytes":1324},"src/components/Loading/Loading.jsx":{"content":"import \"../../index.css\"\n\nconst Loading = () => {\n  return (\n    <div className=\"flex justify-center items-center py-10\">\n      <div className=\"flex space-x-2\">\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.8s]\"></div>\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.7s]\"></div>\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.6s]\"></div>\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.5s]\"></div>\n        {/* <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.4s]\"></div> */}\n        {/* <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]\"></div>\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.2s]\"></div>\n        <div className=\"w-3 h-3 bg-primary rounded-full animate-bounce [animation-delay:-0.1s]\"></div> */}\n      </div>\n    </div>\n  );\n};\nconst InlineLoadingDots = () => {\n  return (\n    // Container for the dots. Using flex to arrange them horizontally.\n    <div className=\"flex items-center space-x-1 p-2\">\n      {/* \n        Each dot is a small, rounded element.\n        w-2 h-2: Small size for inline display.\n        bg-blue-500: Blue background color.\n        rounded-full: Makes it a circle.\n        animate-pulse: Tailwind's built-in pulse animation (fades in and out).\n        animation-delay: Custom delay for each dot to create a staggered effect.\n      */}\n      <div className=\"w-2 h-2 bg-primary rounded-full animate-pulse\" style={{ animationDelay: '0s' }}></div>\n      <div className=\"w-2 h-2 bg-primary rounded-full animate-pulse\" style={{ animationDelay: '0.4s' }}></div>\n      <div className=\"w-2 h-2 bg-primary rounded-full animate-pulse\" style={{ animationDelay: '0.6s' }}></div>\n      <div className=\"w-2 h-2 bg-primary rounded-full animate-pulse\" style={{ animationDelay: '0.8s' }}></div>\n      {/* Visually hidden text for accessibility */}\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n};\n\nexport { Loading, InlineLoadingDots };\n","size_bytes":2168}},"version":2}